2018-07-13 08:16:38.258 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/  
2018-07-13 08:16:38.989 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:16:39.177 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:16:39.307 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 08:16:39.338 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 08:16:39.686 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-13 08:16:39.702 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-13 08:16:39.707 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4537ms.
2018-07-13 08:16:39.722 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 08:16:39.854 +07:00 [Information] Executed ViewResult - view "Index" executed in 139.1008ms.
2018-07-13 08:16:39.854 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 168.0167ms
2018-07-13 08:16:39.878 +07:00 [Information] Request finished in 1624.5652ms 200 text/html; charset=utf-8
2018-07-13 08:16:39.904 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 08:16:39.907 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 08:16:39.909 +07:00 [Information] Request finished in 5.2519ms 304 text/css
2018-07-13 08:16:39.934 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-13 08:16:39.934 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 08:16:39.934 +07:00 [Information] The file "/Content/Admin/js/script.js" was not modified
2018-07-13 08:16:39.935 +07:00 [Information] Request finished in 0.794ms 304 application/javascript
2018-07-13 08:16:39.935 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 08:16:39.935 +07:00 [Information] Request finished in 0.4192ms 304 application/javascript
2018-07-13 08:20:51.280 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager  
2018-07-13 08:20:51.300 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-13 08:20:51.301 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:20:51.309 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:20:51.317 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-13 08:20:51.318 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2396ms.
2018-07-13 08:20:51.320 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 08:20:51.370 +07:00 [Information] Executed ViewResult - view "Index" executed in 51.9566ms.
2018-07-13 08:20:51.372 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 72.578ms
2018-07-13 08:20:51.375 +07:00 [Information] Request finished in 94.8238ms 200 text/html; charset=utf-8
2018-07-13 08:20:51.671 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-13 08:20:51.697 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-13 08:20:51.697 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:20:51.708 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:20:51.763 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-13 08:20:51.880 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[RouteId], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-13 08:20:52.075 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-13 08:20:52.075 +07:00 [Warning] The Include operation for navigation '"[m].Vehicle"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-13 08:20:52.075 +07:00 [Warning] The Include operation for navigation '"[m].Route"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-13 08:20:52.111 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-13 08:20:52.129 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 365.1662ms.
2018-07-13 08:20:52.140 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-13 08:20:52.148 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 9.476ms.
2018-07-13 08:20:52.148 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 451.157ms
2018-07-13 08:20:52.148 +07:00 [Information] Request finished in 477.503ms 200 text/html; charset=utf-8
2018-07-13 08:20:53.823 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/96?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-13 08:20:53.831 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 08:20:53.831 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:20:54.136 +07:00 [Information] Executed DbCommand ("304"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:20:54.137 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["96"]) - Validation state: Valid
2018-07-13 08:20:54.177 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 08:20:54.243 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 08:20:54.325 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 08:20:54.353 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE 0 = 1
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 08:20:54.361 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 08:20:54.366 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE 0 = 1
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 08:20:54.366 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 228.9072ms.
2018-07-13 08:20:54.368 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 08:20:54.383 +07:00 [Information] Executed ViewResult - view "Edit" executed in 16.8676ms.
2018-07-13 08:20:54.383 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 552.6706ms
2018-07-13 08:20:54.384 +07:00 [Information] Request finished in 561.4194ms 200 text/html; charset=utf-8
2018-07-13 08:20:59.393 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager  
2018-07-13 08:20:59.395 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-13 08:20:59.396 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:20:59.406 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:20:59.406 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-13 08:20:59.406 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0136ms.
2018-07-13 08:20:59.406 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 08:20:59.407 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.424ms.
2018-07-13 08:20:59.408 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 12.4512ms
2018-07-13 08:20:59.408 +07:00 [Information] Request finished in 14.8618ms 200 text/html; charset=utf-8
2018-07-13 08:20:59.630 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-13 08:20:59.631 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-13 08:20:59.631 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:20:59.640 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:20:59.641 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-13 08:20:59.651 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[RouteId], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-13 08:20:59.660 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-13 08:20:59.662 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 20.5014ms.
2018-07-13 08:20:59.662 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-13 08:20:59.664 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 2.1866ms.
2018-07-13 08:20:59.664 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 33.3107ms
2018-07-13 08:20:59.665 +07:00 [Information] Request finished in 35.1033ms 200 text/html; charset=utf-8
2018-07-13 08:21:01.188 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-13 08:21:01.191 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 08:21:01.194 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:21:01.218 +07:00 [Information] Executed DbCommand ("23"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:21:01.219 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 08:21:01.239 +07:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 08:21:01.261 +07:00 [Information] Executed DbCommand ("21"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 08:21:01.282 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 08:21:01.308 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 08:21:01.332 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 08:21:01.344 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 08:21:01.344 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 124.9718ms.
2018-07-13 08:21:01.344 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 08:21:01.347 +07:00 [Information] Executed ViewResult - view "Edit" executed in 3.3121ms.
2018-07-13 08:21:01.347 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 156.6795ms
2018-07-13 08:21:01.347 +07:00 [Information] Request finished in 159.316ms 200 text/html; charset=utf-8
2018-07-13 08:21:05.831 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 08:21:05.836 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 08:21:05.836 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:21:05.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:21:05.842 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 08:21:05.843 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.6373ms.
2018-07-13 08:21:05.844 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 08:21:05.888 +07:00 [Information] Executed ViewResult - view "Note" executed in 45.6383ms.
2018-07-13 08:21:05.888 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 52.5201ms
2018-07-13 08:21:05.889 +07:00 [Information] Request finished in 58.0462ms 200 text/html; charset=utf-8
2018-07-13 08:21:05.900 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 08:21:05.911 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 08:21:05.912 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:21:05.918 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:21:05.919 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 08:21:05.952 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 08:21:05.984 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 08:21:05.986 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 66.7579ms.
2018-07-13 08:21:05.988 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 08:21:05.994 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 7.7233ms.
2018-07-13 08:21:05.994 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 82.7811ms
2018-07-13 08:21:05.995 +07:00 [Information] Request finished in 94.6159ms 200 text/html; charset=utf-8
2018-07-13 08:21:11.621 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=7  
2018-07-13 08:21:11.622 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 08:21:11.623 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:21:11.630 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:21:11.631 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "7"]) - Validation state: Valid
2018-07-13 08:21:11.631 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0118ms.
2018-07-13 08:21:11.631 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 08:21:11.632 +07:00 [Information] Executed ViewResult - view "Note" executed in 1.2125ms.
2018-07-13 08:21:11.632 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 9.7096ms
2018-07-13 08:21:11.632 +07:00 [Information] Request finished in 11.4224ms 200 text/html; charset=utf-8
2018-07-13 08:21:11.640 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 08:21:11.650 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 08:21:11.651 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:21:11.658 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:21:11.659 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "7"]) - Validation state: Valid
2018-07-13 08:21:11.667 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 08:21:11.672 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 08:21:11.672 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.1088ms.
2018-07-13 08:21:11.672 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 08:21:11.672 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3246ms.
2018-07-13 08:21:11.672 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 22.4338ms
2018-07-13 08:21:11.673 +07:00 [Information] Request finished in 32.4529ms 200 text/html; charset=utf-8
2018-07-13 08:22:14.306 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 08:22:14.307 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 08:22:14.307 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:22:14.317 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:22:14.317 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 08:22:14.317 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.02ms.
2018-07-13 08:22:14.317 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 08:22:14.318 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.7638ms.
2018-07-13 08:22:14.318 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 11.2333ms
2018-07-13 08:22:14.318 +07:00 [Information] Request finished in 12.5702ms 200 text/html; charset=utf-8
2018-07-13 08:22:14.330 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 08:22:14.333 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 08:22:14.334 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:22:14.641 +07:00 [Information] Executed DbCommand ("306"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:22:14.642 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 08:22:14.649 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 08:22:14.653 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 08:22:14.653 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.1545ms.
2018-07-13 08:22:14.654 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 08:22:14.654 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.458ms.
2018-07-13 08:22:14.654 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 321.1357ms
2018-07-13 08:22:14.655 +07:00 [Information] Request finished in 324.475ms 200 text/html; charset=utf-8
2018-07-13 08:51:30.845 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 08:51:30.847 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:51:30.873 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:51:30.877 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 08:51:30.882 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 08:51:30.888 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 08:51:30.889 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 08:51:30.894 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 08:51:30.900 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 08:51:30.905 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 08:51:30.909 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 08:51:30.914 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 08:51:30.918 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 08:51:30.918 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.1454ms.
2018-07-13 08:51:32.507 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 08:51:32.520 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1602.0222ms.
2018-07-13 08:51:32.520 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1631.8007ms
2018-07-13 08:51:32.521 +07:00 [Information] Request finished in 1675.5935ms 200 text/html; charset=utf-8
2018-07-13 08:51:33.660 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 08:51:33.703 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 08:51:33.703 +07:00 [Information] Request finished in 43.7017ms 200 image/x-icon
2018-07-13 08:51:34.357 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 08:51:34.362 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 08:51:34.363 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 08:51:34.367 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 4.5472ms.
2018-07-13 08:51:34.380 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 08:51:34.563 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 200.4832ms
2018-07-13 08:51:34.563 +07:00 [Information] Request finished in 206.309ms 200 application/json; charset=utf-8
2018-07-13 08:51:35.689 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 08:51:35.689 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 08:51:35.690 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 08:51:35.697 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 08:51:35.698 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 08:51:35.703 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 08:51:35.709 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 08:51:35.718 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 08:51:35.729 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 08:51:35.740 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 08:51:35.747 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 08:51:35.747 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 49.6914ms.
2018-07-13 08:51:35.748 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 08:51:35.749 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.1034ms.
2018-07-13 08:51:35.749 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 59.2465ms
2018-07-13 08:51:35.749 +07:00 [Information] Request finished in 60.2897ms 200 text/html; charset=utf-8
2018-07-13 08:51:36.255 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 08:51:36.258 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 08:51:36.258 +07:00 [Information] Request finished in 3.1978ms 200 image/x-icon
2018-07-13 08:51:45.038 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 08:51:45.039 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 08:51:45.039 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 08:51:45.039 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.1667ms.
2018-07-13 08:51:45.040 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 08:51:45.040 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 1.378ms
2018-07-13 08:51:45.040 +07:00 [Information] Request finished in 2.7508ms 200 application/json; charset=utf-8
2018-07-13 09:23:37.834 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:23:37.834 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:23:38.606 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:23:38.606 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:23:38.814 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:23:38.814 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:23:38.961 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 09:23:38.961 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 09:23:39.000 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 09:23:39.000 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 09:23:39.394 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:23:39.394 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:23:39.433 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:23:39.433 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:23:39.519 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:23:39.520 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:23:39.694 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:23:39.695 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:23:39.774 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:23:39.774 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:23:39.817 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:23:39.817 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:23:39.832 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:23:39.833 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:23:39.836 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:23:39.837 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:23:39.843 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 405.9526ms.
2018-07-13 09:23:39.843 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 405.9848ms.
2018-07-13 09:23:39.865 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:23:39.865 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:23:40.031 +07:00 [Information] Executed ViewResult - view "Edit" executed in 172.8599ms.
2018-07-13 09:23:40.031 +07:00 [Information] Executed ViewResult - view "Edit" executed in 172.8598ms.
2018-07-13 09:23:40.034 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 639.165ms
2018-07-13 09:23:40.034 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 639.1626ms
2018-07-13 09:23:40.061 +07:00 [Information] Request finished in 2231.9734ms 200 text/html; charset=utf-8
2018-07-13 09:23:40.062 +07:00 [Information] Request finished in 2232.1415ms 200 text/html; charset=utf-8
2018-07-13 09:26:02.569 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:26:02.577 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:26:02.614 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 09:26:02.643 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 28.3943ms.
2018-07-13 09:26:02.647 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:26:02.700 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 122.751ms
2018-07-13 09:26:02.701 +07:00 [Information] Request finished in 131.6485ms 200 application/json; charset=utf-8
2018-07-13 09:26:04.156 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:26:04.158 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:26:04.159 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 09:26:04.159 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0546ms.
2018-07-13 09:26:04.160 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:26:04.160 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 1.4462ms
2018-07-13 09:26:04.160 +07:00 [Information] Request finished in 4.8234ms 200 application/json; charset=utf-8
2018-07-13 09:26:04.973 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 09:26:04.974 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:26:04.975 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 09:26:04.975 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0242ms.
2018-07-13 09:26:04.975 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:26:04.976 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 1.0635ms
2018-07-13 09:26:04.976 +07:00 [Information] Request finished in 4.3052ms 200 application/json; charset=utf-8
2018-07-13 09:26:05.389 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 09:26:05.390 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:26:05.390 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-13 09:26:05.390 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0201ms.
2018-07-13 09:26:05.390 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:26:05.390 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.5057ms
2018-07-13 09:26:05.390 +07:00 [Information] Request finished in 1.5615ms 200 application/json; charset=utf-8
2018-07-13 09:26:30.939 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:26:30.950 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:26:30.954 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:26:30.960 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:26:30.961 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:26:30.966 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:26:30.973 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:26:30.980 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:26:30.985 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:26:30.993 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:26:30.997 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:26:30.997 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.1124ms.
2018-07-13 09:26:32.956 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:26:32.970 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1972.965ms.
2018-07-13 09:26:32.970 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 2017.8832ms
2018-07-13 09:26:32.971 +07:00 [Information] Request finished in 2037.719ms 200 text/html; charset=utf-8
2018-07-13 09:26:34.985 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:26:34.995 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:26:34.995 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 09:26:34.996 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0239ms.
2018-07-13 09:26:34.996 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:26:34.996 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.79ms
2018-07-13 09:26:34.996 +07:00 [Information] Request finished in 10.7598ms 200 application/json; charset=utf-8
2018-07-13 09:26:36.374 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 09:26:36.375 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:26:36.376 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 09:26:36.376 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0229ms.
2018-07-13 09:26:36.376 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:26:36.376 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.5878ms
2018-07-13 09:26:36.376 +07:00 [Information] Request finished in 2.1982ms 200 application/json; charset=utf-8
2018-07-13 09:26:38.206 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:26:38.207 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:26:38.207 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 09:26:38.207 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.029ms.
2018-07-13 09:26:38.207 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:26:38.207 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.6053ms
2018-07-13 09:26:38.208 +07:00 [Information] Request finished in 2.1302ms 200 application/json; charset=utf-8
2018-07-13 09:26:38.987 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 09:26:38.989 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:26:38.989 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 09:26:38.989 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0216ms.
2018-07-13 09:26:38.990 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:26:38.990 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.9003ms
2018-07-13 09:26:38.990 +07:00 [Information] Request finished in 2.6694ms 200 application/json; charset=utf-8
2018-07-13 09:27:32.172 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:27:32.180 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:27:32.181 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:27:32.187 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:27:32.188 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:27:32.194 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:27:32.200 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:27:32.206 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:27:32.210 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:27:32.215 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:27:32.219 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:27:32.219 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.2337ms.
2018-07-13 09:27:32.498 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:27:32.510 +07:00 [Information] Executed ViewResult - view "Edit" executed in 290.2732ms.
2018-07-13 09:27:32.510 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 329.6935ms
2018-07-13 09:27:32.510 +07:00 [Information] Request finished in 338.2716ms 200 text/html; charset=utf-8
2018-07-13 09:27:33.376 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 09:27:33.387 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 09:27:33.387 +07:00 [Information] Request finished in 11.4883ms 200 image/x-icon
2018-07-13 09:27:33.934 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:27:33.939 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:27:33.940 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 09:27:33.940 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0266ms.
2018-07-13 09:27:33.940 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:27:33.940 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.9243ms
2018-07-13 09:27:33.941 +07:00 [Information] Request finished in 6.916ms 200 application/json; charset=utf-8
2018-07-13 09:27:37.869 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:27:37.870 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:27:37.870 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 09:27:37.870 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0198ms.
2018-07-13 09:27:37.870 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:27:37.870 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.5322ms
2018-07-13 09:27:37.870 +07:00 [Information] Request finished in 3.0266ms 200 application/json; charset=utf-8
2018-07-13 09:27:38.713 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:27:38.715 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:27:38.715 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 09:27:38.715 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0198ms.
2018-07-13 09:27:38.715 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:27:38.715 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.5812ms
2018-07-13 09:27:38.716 +07:00 [Information] Request finished in 2.6087ms 200 application/json; charset=utf-8
2018-07-13 09:27:39.162 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:27:39.163 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:27:39.164 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 09:27:39.164 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0995ms.
2018-07-13 09:27:39.164 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:27:39.165 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 1.0842ms
2018-07-13 09:27:39.165 +07:00 [Information] Request finished in 3.0917ms 200 application/json; charset=utf-8
2018-07-13 09:28:46.013 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:28:46.014 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:28:46.015 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:28:46.020 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:28:46.021 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:28:46.027 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:28:46.032 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:28:46.042 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:28:46.046 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:28:46.051 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:28:46.055 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:28:46.055 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.3815ms.
2018-07-13 09:28:46.055 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:28:46.057 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3588ms.
2018-07-13 09:28:46.057 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.5663ms
2018-07-13 09:28:46.057 +07:00 [Information] Request finished in 44.0502ms 200 text/html; charset=utf-8
2018-07-13 09:28:46.993 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 09:28:46.996 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 09:28:46.996 +07:00 [Information] Request finished in 2.9852ms 200 image/x-icon
2018-07-13 09:28:50.656 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:28:50.658 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:28:50.659 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 09:28:50.659 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0225ms.
2018-07-13 09:28:50.659 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:28:50.659 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.5492ms
2018-07-13 09:28:50.659 +07:00 [Information] Request finished in 3.1561ms 200 application/json; charset=utf-8
2018-07-13 09:28:51.092 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:28:51.093 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:28:51.094 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 09:28:51.094 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0295ms.
2018-07-13 09:28:51.094 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:28:51.094 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 1.0157ms
2018-07-13 09:28:51.094 +07:00 [Information] Request finished in 2.7375ms 200 application/json; charset=utf-8
2018-07-13 09:28:51.723 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:28:51.725 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:28:51.725 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-13 09:28:51.725 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0189ms.
2018-07-13 09:28:51.726 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:28:51.726 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.5683ms
2018-07-13 09:28:51.726 +07:00 [Information] Request finished in 3.0829ms 200 application/json; charset=utf-8
2018-07-13 09:28:52.818 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 09:28:52.820 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:28:52.820 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "True", "99"]) - Validation state: Valid
2018-07-13 09:28:52.821 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0519ms.
2018-07-13 09:28:52.821 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:28:52.821 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 0.6361ms
2018-07-13 09:28:52.821 +07:00 [Information] Request finished in 2.5625ms 200 application/json; charset=utf-8
2018-07-13 09:37:04.286 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:37:04.807 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:37:05.328 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:37:05.525 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:37:05.656 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:37:05.748 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:37:05.924 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:37:05.995 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:37:06.030 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:37:06.044 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:37:06.051 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:37:06.057 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 397.2074ms.
2018-07-13 09:37:06.075 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:37:06.222 +07:00 [Information] Executed ViewResult - view "Edit" executed in 152.1479ms.
2018-07-13 09:37:06.224 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1417.1723ms
2018-07-13 09:37:06.266 +07:00 [Information] Request finished in 1982.9234ms 200 text/html; charset=utf-8
2018-07-13 09:37:07.214 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 09:37:07.223 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 09:37:07.223 +07:00 [Information] Request finished in 9.8152ms 200 image/x-icon
2018-07-13 09:37:12.208 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 09:37:12.213 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 09:37:12.214 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:37:12.221 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:37:12.226 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 09:37:12.227 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7334ms.
2018-07-13 09:37:12.229 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 09:37:12.281 +07:00 [Information] Executed ViewResult - view "Note" executed in 53.9467ms.
2018-07-13 09:37:12.281 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 68.0245ms
2018-07-13 09:37:12.282 +07:00 [Information] Request finished in 73.4936ms 200 text/html; charset=utf-8
2018-07-13 09:37:12.298 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 09:37:12.310 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 09:37:12.311 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:37:12.316 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:37:12.339 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 09:37:12.379 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 09:37:12.432 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 09:37:12.443 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 104.7063ms.
2018-07-13 09:37:12.445 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 09:37:12.450 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 6.367ms.
2018-07-13 09:37:12.450 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 139.7269ms
2018-07-13 09:37:12.450 +07:00 [Information] Request finished in 153.3747ms 200 text/html; charset=utf-8
2018-07-13 09:38:12.719 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:38:12.727 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:38:12.728 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:38:12.735 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:38:12.736 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:38:12.741 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:38:12.748 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:38:12.754 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:38:12.757 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:38:12.763 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:38:12.767 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:38:12.767 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.9723ms.
2018-07-13 09:38:12.767 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:38:12.769 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8291ms.
2018-07-13 09:38:12.769 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 41.7769ms
2018-07-13 09:38:12.769 +07:00 [Information] Request finished in 50.3151ms 200 text/html; charset=utf-8
2018-07-13 09:38:13.623 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 09:38:13.625 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 09:38:13.625 +07:00 [Information] Request finished in 2.1435ms 200 image/x-icon
2018-07-13 09:38:14.133 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 09:38:14.138 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 09:38:14.139 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:38:14.145 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:38:14.145 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 09:38:14.146 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0241ms.
2018-07-13 09:38:15.854 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 09:38:15.870 +07:00 [Information] Executed ViewResult - view "Note" executed in 1724.2664ms.
2018-07-13 09:38:15.870 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 1732.0786ms
2018-07-13 09:38:15.870 +07:00 [Information] Request finished in 1737.1178ms 200 text/html; charset=utf-8
2018-07-13 09:38:15.881 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 09:38:15.897 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 09:38:15.898 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:38:15.904 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:38:15.905 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 09:38:15.911 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 09:38:15.917 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 09:38:15.917 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.449ms.
2018-07-13 09:38:15.918 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 09:38:15.918 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3436ms.
2018-07-13 09:38:15.918 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 20.4222ms
2018-07-13 09:38:15.918 +07:00 [Information] Request finished in 37.4845ms 200 text/html; charset=utf-8
2018-07-13 09:41:32.499 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:41:32.501 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:41:32.501 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:41:32.507 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:41:32.508 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:41:32.513 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:41:32.518 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:41:32.525 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:41:32.530 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:41:32.535 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:41:32.542 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:41:32.542 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.8541ms.
2018-07-13 09:41:32.542 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:41:32.543 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3735ms.
2018-07-13 09:41:32.543 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.2941ms
2018-07-13 09:41:32.543 +07:00 [Information] Request finished in 44.0536ms 200 text/html; charset=utf-8
2018-07-13 09:41:33.353 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 09:41:33.355 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 09:41:33.355 +07:00 [Information] Request finished in 2.4233ms 200 image/x-icon
2018-07-13 09:41:47.667 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 09:41:47.670 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 09:41:47.671 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:41:47.679 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:41:47.684 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 09:41:47.685 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0229ms.
2018-07-13 09:41:47.685 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 09:41:47.687 +07:00 [Information] Executed ViewResult - view "Note" executed in 2.1655ms.
2018-07-13 09:41:47.687 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 16.6593ms
2018-07-13 09:41:47.687 +07:00 [Information] Request finished in 20.0823ms 200 text/html; charset=utf-8
2018-07-13 09:41:47.699 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 09:41:47.705 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 09:41:47.710 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:41:47.734 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:41:47.735 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 09:41:47.760 +07:00 [Information] Executed DbCommand ("24"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 09:41:47.772 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 09:41:47.772 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.9037ms.
2018-07-13 09:41:47.772 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 09:41:47.772 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.2089ms.
2018-07-13 09:41:47.772 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 62.6301ms
2018-07-13 09:41:47.772 +07:00 [Information] Request finished in 73.8847ms 200 text/html; charset=utf-8
2018-07-13 09:41:50.114 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=7  
2018-07-13 09:41:50.116 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 09:41:50.116 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:41:50.122 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:41:50.123 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "7"]) - Validation state: Valid
2018-07-13 09:41:50.123 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0124ms.
2018-07-13 09:41:50.123 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 09:41:50.124 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.7577ms.
2018-07-13 09:41:50.124 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 8.0062ms
2018-07-13 09:41:50.124 +07:00 [Information] Request finished in 10.374ms 200 text/html; charset=utf-8
2018-07-13 09:41:50.144 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 09:41:50.145 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 09:41:50.146 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:41:50.154 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:41:50.155 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "7"]) - Validation state: Valid
2018-07-13 09:41:50.162 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 09:41:50.166 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 09:41:50.167 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.9364ms.
2018-07-13 09:41:50.167 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 09:41:50.167 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.221ms.
2018-07-13 09:41:50.167 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 21.8588ms
2018-07-13 09:41:50.167 +07:00 [Information] Request finished in 23.0366ms 200 text/html; charset=utf-8
2018-07-13 09:42:14.193 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 09:42:14.195 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 09:42:14.195 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:42:14.201 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:42:14.201 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 09:42:14.202 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0418ms.
2018-07-13 09:42:14.202 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 09:42:14.203 +07:00 [Information] Executed ViewResult - view "Note" executed in 1.0204ms.
2018-07-13 09:42:14.203 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 8.0148ms
2018-07-13 09:42:14.203 +07:00 [Information] Request finished in 9.8285ms 200 text/html; charset=utf-8
2018-07-13 09:42:14.212 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 09:42:14.213 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 09:42:14.215 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:42:14.223 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:42:14.225 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 09:42:14.229 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 09:42:14.233 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 09:42:14.234 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 8.9397ms.
2018-07-13 09:42:14.234 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 09:42:14.234 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.2284ms.
2018-07-13 09:42:14.234 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 20.5614ms
2018-07-13 09:42:14.234 +07:00 [Information] Request finished in 22.7033ms 200 text/html; charset=utf-8
2018-07-13 09:42:42.210 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:42:42.211 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:42:42.211 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:42:42.217 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:42:42.218 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:42:42.224 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:42:42.228 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:42:42.233 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:42:42.238 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:42:42.243 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:42:42.247 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:42:42.247 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.8224ms.
2018-07-13 09:42:42.247 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:42:42.248 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2533ms.
2018-07-13 09:42:42.248 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 37.503ms
2018-07-13 09:42:42.249 +07:00 [Information] Request finished in 38.9371ms 200 text/html; charset=utf-8
2018-07-13 09:42:43.250 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 09:42:43.251 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 09:42:43.251 +07:00 [Information] Request finished in 1.8061ms 200 image/x-icon
2018-07-13 09:47:35.529 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 09:47:35.530 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 09:47:35.530 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:47:35.558 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:47:35.559 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 09:47:35.559 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0662ms.
2018-07-13 09:47:35.560 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 09:47:35.561 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.9753ms.
2018-07-13 09:47:35.561 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 30.7017ms
2018-07-13 09:47:35.561 +07:00 [Information] Request finished in 32.2734ms 200 text/html; charset=utf-8
2018-07-13 09:47:35.575 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 09:47:35.576 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 09:47:35.577 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:47:35.583 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:47:35.583 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 09:47:35.591 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 09:47:35.596 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 09:47:35.596 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.9521ms.
2018-07-13 09:47:35.597 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 09:47:35.597 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3697ms.
2018-07-13 09:47:35.597 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 20.4411ms
2018-07-13 09:47:35.597 +07:00 [Information] Request finished in 22.4086ms 200 text/html; charset=utf-8
2018-07-13 09:47:37.164 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=7  
2018-07-13 09:47:37.165 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 09:47:37.166 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:47:37.171 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:47:37.172 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "7"]) - Validation state: Valid
2018-07-13 09:47:37.172 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0143ms.
2018-07-13 09:47:37.172 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 09:47:37.172 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.6258ms.
2018-07-13 09:47:37.172 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 7.2757ms
2018-07-13 09:47:37.173 +07:00 [Information] Request finished in 8.8112ms 200 text/html; charset=utf-8
2018-07-13 09:47:37.181 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 09:47:37.182 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 09:47:37.182 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:47:37.192 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:47:37.193 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "7"]) - Validation state: Valid
2018-07-13 09:47:37.199 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 09:47:37.204 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 09:47:37.204 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.3695ms.
2018-07-13 09:47:37.205 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 09:47:37.205 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.2ms.
2018-07-13 09:47:37.205 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 22.8639ms
2018-07-13 09:47:37.205 +07:00 [Information] Request finished in 24.1391ms 200 text/html; charset=utf-8
2018-07-13 09:51:44.037 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=7  
2018-07-13 09:51:44.039 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:51:44.039 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:51:44.045 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:51:44.045 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:51:44.050 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:51:44.055 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:51:44.060 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:51:44.065 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:51:44.069 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:51:44.074 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:51:44.074 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.4479ms.
2018-07-13 09:51:44.074 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:51:44.075 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2529ms.
2018-07-13 09:51:44.075 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 36.1895ms
2018-07-13 09:51:44.075 +07:00 [Information] Request finished in 38.5875ms 200 text/html; charset=utf-8
2018-07-13 09:51:44.099 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 09:51:44.103 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 09:51:44.114 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 09:51:44.114 +07:00 [Information] Request finished in 15.5295ms 200 application/javascript
2018-07-13 09:51:44.115 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 09:51:44.116 +07:00 [Information] Request finished in 12.935ms 200 text/css
2018-07-13 09:51:45.111 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 09:51:45.113 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 09:51:45.113 +07:00 [Information] Request finished in 1.5517ms 200 image/x-icon
2018-07-13 09:51:46.414 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 09:51:46.415 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 09:51:46.416 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:51:46.421 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:51:46.422 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 09:51:46.422 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0157ms.
2018-07-13 09:51:46.422 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 09:51:46.423 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.7215ms.
2018-07-13 09:51:46.423 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 7.6947ms
2018-07-13 09:51:46.423 +07:00 [Information] Request finished in 9.3271ms 200 text/html; charset=utf-8
2018-07-13 09:51:46.448 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 09:51:46.449 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 09:51:46.450 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:51:46.456 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:51:46.456 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 09:51:46.463 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 09:51:46.471 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 09:51:46.472 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 15.2165ms.
2018-07-13 09:51:46.472 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 09:51:46.472 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.2338ms.
2018-07-13 09:51:46.472 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 22.7538ms
2018-07-13 09:51:46.472 +07:00 [Information] Request finished in 25.014ms 200 text/html; charset=utf-8
2018-07-13 09:53:53.251 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/User/UserManager  
2018-07-13 09:53:53.257 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:53:53.267 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:53:53.341 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 09:53:53.382 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 09:53:53.396 +07:00 [Information] Route matched with "{area = \"User\", action = \"Index\", controller = \"UserManager\"}". Executing action "TN.UI.Areas.User.Controllers.UserManagerController.Index (TN.UI)"
2018-07-13 09:53:53.416 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.UserManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-13 09:53:53.428 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName], [r].[Type]
FROM [adm].[Role] AS [r]"
2018-07-13 09:53:53.470 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.UserManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 52.9276ms.
2018-07-13 09:53:53.472 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 09:53:53.514 +07:00 [Information] Executed ViewResult - view "Index" executed in 44.6527ms.
2018-07-13 09:53:53.515 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.UserManagerController.Index (TN.UI)" in 118.2059ms
2018-07-13 09:53:53.515 +07:00 [Information] Request finished in 264.3044ms 200 text/html; charset=utf-8
2018-07-13 09:53:53.544 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 09:53:53.546 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 09:53:53.550 +07:00 [Information] Request finished in 5.7296ms 304 text/css
2018-07-13 09:53:53.598 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 09:53:53.598 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 09:53:53.598 +07:00 [Information] Request finished in 0.729ms 304 application/javascript
2018-07-13 09:53:53.900 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/User/UserManager application/x-www-form-urlencoded; charset=UTF-8 67
2018-07-13 09:53:53.910 +07:00 [Information] Route matched with "{area = \"User\", action = \"Index\", controller = \"UserManager\"}". Executing action "TN.UI.Areas.User.Controllers.UserManagerController.IndexPost (TN.UI)"
2018-07-13 09:53:53.911 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:53:53.917 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:53:53.920 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.UserManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "", "", "asc", "username"]) - Validation state: Valid
2018-07-13 09:53:53.958 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[AccessFailedCount], [m].[Avatar], [m].[ConcurrencyStamp], [m].[CreatedDate], [m].[CreatedUserId], [m].[DisplayName], [m].[Email], [m].[EmailConfirmed], [m].[IsLock], [m].[IsReLogin], [m].[IsSuperAdmin], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Note], [m].[NoteLock], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RoleParents], [m].[RoleSchool], [m].[RoleTransportCompany], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UpdatedDate], [m].[UpdatedUserId], [m].[UserName]
FROM [adm].[User] AS [m]
WHERE [m].[IsSuperAdmin] = 0
ORDER BY [m].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 09:53:53.987 +07:00 [Warning] The LINQ expression '"where ([x].Id == [m].UserId)"' could not be translated and will be evaluated locally.
2018-07-13 09:53:53.988 +07:00 [Warning] The LINQ expression '"Any()"' could not be translated and will be evaluated locally.
2018-07-13 09:53:53.989 +07:00 [Warning] The LINQ expression '"where {from ApplicationUser x in __currentData_0 where ([x].Id == [m].UserId) select [x] => Any()}"' could not be translated and will be evaluated locally.
2018-07-13 09:53:53.989 +07:00 [Warning] The LINQ expression '"where ([x].Id == [m].UserId)"' could not be translated and will be evaluated locally.
2018-07-13 09:53:53.989 +07:00 [Warning] The LINQ expression '"Any()"' could not be translated and will be evaluated locally.
2018-07-13 09:53:53.993 +07:00 [Warning] The LINQ expression '"join ApplicationRole entry in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.ApplicationRole]) on [m].RoleId equals [entry].Id"' could not be translated and will be evaluated locally.
2018-07-13 09:53:54.055 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[UserId], [m].[RoleId]
FROM [adm].[UserRole] AS [m]"
2018-07-13 09:53:54.088 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [entry].[Id], [entry].[ConcurrencyStamp], [entry].[Description], [entry].[Name], [entry].[NormalizedName], [entry].[Type]
FROM [adm].[Role] AS [entry]"
2018-07-13 09:53:54.116 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [adm].[User] AS [m]
WHERE [m].[IsSuperAdmin] = 0"
2018-07-13 09:53:54.119 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.UserManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 198.9427ms.
2018-07-13 09:53:54.120 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-13 09:53:54.130 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 10.8798ms.
2018-07-13 09:53:54.130 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.UserManagerController.IndexPost (TN.UI)" in 219.6864ms
2018-07-13 09:53:54.130 +07:00 [Information] Request finished in 230.0821ms 200 text/html; charset=utf-8
2018-07-13 09:53:54.144 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/User/UserManager  
2018-07-13 09:53:54.145 +07:00 [Information] Route matched with "{area = \"User\", action = \"Index\", controller = \"UserManager\"}". Executing action "TN.UI.Areas.User.Controllers.UserManagerController.Index (TN.UI)"
2018-07-13 09:53:54.145 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:53:54.154 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:53:54.154 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.UserManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-13 09:53:54.162 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName], [r].[Type]
FROM [adm].[Role] AS [r]"
2018-07-13 09:53:54.162 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.UserManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 7.8472ms.
2018-07-13 09:53:54.162 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 09:53:54.164 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.2306ms.
2018-07-13 09:53:54.164 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.UserManagerController.Index (TN.UI)" in 19.0569ms
2018-07-13 09:53:54.164 +07:00 [Information] Request finished in 20.3481ms 200 text/html; charset=utf-8
2018-07-13 09:53:54.175 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-13 09:53:54.192 +07:00 [Information] The file "/Content/Admin/images/no-avatar.jpg" was not modified
2018-07-13 09:53:54.192 +07:00 [Information] Request finished in 16.9944ms 304 image/jpeg
2018-07-13 09:53:55.138 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:53:55.139 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:53:55.139 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:53:55.145 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:53:55.146 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:53:55.151 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:53:55.155 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:53:55.161 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:53:55.165 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:53:55.170 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:53:55.174 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:53:55.174 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.0806ms.
2018-07-13 09:53:55.174 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:53:55.175 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.097ms.
2018-07-13 09:53:55.175 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 36.6332ms
2018-07-13 09:53:55.175 +07:00 [Information] Request finished in 37.9528ms 200 text/html; charset=utf-8
2018-07-13 09:53:56.450 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 09:53:56.451 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 09:53:56.451 +07:00 [Information] Request finished in 1.4064ms 200 image/x-icon
2018-07-13 09:54:09.310 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:54:09.312 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:54:09.313 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:54:09.323 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:54:09.366 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-07-13 09:54:09.366 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-07-13 09:54:09.366 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-07-13 09:54:09.384 +07:00 [Information] Authorization failed for the request at filter '"TN.UI.Extensions.PermissionFilter"'.
2018-07-13 09:54:09.386 +07:00 [Information] Executing RedirectResult, redirecting to "/Login?ReturnUrl=%2FAdmin%2FRoute%2FConfirmationTripsManager%2FEdit%2F99%3Fpage%3D1%26ConfirmationTripsId%3D99%26StudentCheckOutId%3D5".
2018-07-13 09:54:09.386 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 74.0904ms
2018-07-13 09:54:09.386 +07:00 [Information] Request finished in 76.6248ms 302 
2018-07-13 09:54:09.417 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Login?ReturnUrl=%2FAdmin%2FRoute%2FConfirmationTripsManager%2FEdit%2F99%3Fpage%3D1%26ConfirmationTripsId%3D99%26StudentCheckOutId%3D5  
2018-07-13 09:54:09.423 +07:00 [Information] Route matched with "{area = \"User\", action = \"Login\", controller = \"Account\"}". Executing action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)"
2018-07-13 09:54:09.435 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" with arguments (["/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5"]) - Validation state: Valid
2018-07-13 09:54:09.436 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-07-13 09:54:09.436 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.1596ms.
2018-07-13 09:54:09.438 +07:00 [Information] Executing ViewResult, running view "Login".
2018-07-13 09:54:09.550 +07:00 [Information] Executed ViewResult - view "Login" executed in 113.3625ms.
2018-07-13 09:54:09.550 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" in 126.8717ms
2018-07-13 09:54:09.550 +07:00 [Information] Request finished in 132.4037ms 200 text/html; charset=utf-8
2018-07-13 09:54:09.573 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-13 09:54:09.573 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 09:54:09.574 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js?v=uGEmHVBVwqSwceRoffkJ4JsqPQI9uYkMXT592pcUwAs  
2018-07-13 09:54:09.579 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-13 09:54:09.581 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 09:54:09.582 +07:00 [Information] Request finished in 7.3338ms 200 application/javascript
2018-07-13 09:54:09.585 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 09:54:09.585 +07:00 [Information] Request finished in 11.7087ms 200 text/css
2018-07-13 09:54:09.591 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-13 09:54:09.665 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-13 09:54:09.665 +07:00 [Information] Request finished in 74.186ms 200 application/javascript
2018-07-13 09:54:09.689 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-13 09:54:09.690 +07:00 [Information] Request finished in 110.6524ms 200 application/javascript
2018-07-13 09:54:09.796 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-13 09:54:09.796 +07:00 [Information] Request finished in 223.4763ms 200 application/javascript
2018-07-13 09:54:10.416 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/content/admin/images/bacvn.jpg  
2018-07-13 09:54:10.470 +07:00 [Information] Sending file. Request path: '"/content/admin/images/bacvn.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\content\admin\images\bacvn.jpg"'
2018-07-13 09:54:10.471 +07:00 [Information] Request finished in 54.7932ms 200 image/jpeg
2018-07-13 09:54:11.714 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/favicon.ico  
2018-07-13 09:54:11.715 +07:00 [Information] Request finished in 1.1461ms 404 
2018-07-13 09:54:18.305 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Login?ReturnUrl=%2FAdmin%2FRoute%2FConfirmationTripsManager%2FEdit%2F99%3Fpage%3D1%26ConfirmationTripsId%3D99%26StudentCheckOutId%3D5 application/x-www-form-urlencoded 240
2018-07-13 09:54:18.339 +07:00 [Information] Route matched with "{area = \"User\", action = \"Login\", controller = \"Account\"}". Executing action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)"
2018-07-13 09:54:18.368 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" with arguments (["TN.Domain.Model.LoginViewModel", "/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5"]) - Validation state: Valid
2018-07-13 09:54:18.372 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:54:18.395 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__model_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[Avatar], [m].[ConcurrencyStamp], [m].[CreatedDate], [m].[CreatedUserId], [m].[DisplayName], [m].[Email], [m].[EmailConfirmed], [m].[IsLock], [m].[IsReLogin], [m].[IsSuperAdmin], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Note], [m].[NoteLock], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RoleParents], [m].[RoleSchool], [m].[RoleTransportCompany], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UpdatedDate], [m].[UpdatedUserId], [m].[UserName]
FROM [adm].[User] AS [m]
WHERE [m].[UserName] = @__model_Username_0"
2018-07-13 09:54:18.427 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[CreatedUserId], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[IsLock], [u].[IsReLogin], [u].[IsSuperAdmin], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Note], [u].[NoteLock], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RoleParents], [u].[RoleSchool], [u].[RoleTransportCompany], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedDate], [u].[UpdatedUserId], [u].[UserName]
FROM [adm].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-07-13 09:54:18.480 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 09:54:18.500 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 09:54:18.500 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 09:54:18.500 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 09:54:18.500 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 09:54:18.507 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.507 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.508 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.511 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.511 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.512 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.512 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.513 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.513 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.514 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.514 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.514 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.514 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.514 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.514 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.515 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.515 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.516 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 09:54:18.576 +07:00 [Information] Executed DbCommand ("44"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-13 09:54:18.635 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.719 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.723 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.727 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.731 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.735 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.739 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.743 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.749 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.754 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.759 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.764 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.775 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 09:54:18.784 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 09:54:18.844 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2018-07-13 09:54:19.003 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p28='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p29='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 256), @p14='?' (Size = 256), @p15='?' (Size = 4000), @p16='?' (Size = 1000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [adm].[User] SET [AccessFailedCount] = @p0, [Avatar] = @p1, [ConcurrencyStamp] = @p2, [CreatedDate] = @p3, [CreatedUserId] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsLock] = @p8, [IsReLogin] = @p9, [IsSuperAdmin] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [Note] = @p15, [NoteLock] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RoleParents] = @p20, [RoleSchool] = @p21, [RoleTransportCompany] = @p22, [SecurityStamp] = @p23, [TwoFactorEnabled] = @p24, [UpdatedDate] = @p25, [UpdatedUserId] = @p26, [UserName] = @p27
WHERE [Id] = @p28 AND [ConcurrencyStamp] = @p29;
SELECT @@ROWCOUNT;"
2018-07-13 09:54:19.037 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 668.3793ms.
2018-07-13 09:54:19.037 +07:00 [Information] Executing RedirectResult, redirecting to "/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5".
2018-07-13 09:54:19.037 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" in 698.2465ms
2018-07-13 09:54:19.037 +07:00 [Information] Request finished in 732.9276ms 302 
2018-07-13 09:54:19.041 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:54:19.042 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:54:19.042 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:54:19.051 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:54:19.063 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:54:19.069 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:54:19.078 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:54:19.085 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:54:19.090 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:54:19.094 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:54:19.102 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:54:19.103 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 39.3839ms.
2018-07-13 09:54:19.103 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:54:19.104 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.0993ms.
2018-07-13 09:54:19.104 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 61.7247ms
2018-07-13 09:54:19.104 +07:00 [Information] Request finished in 62.838ms 200 text/html; charset=utf-8
2018-07-13 09:54:19.117 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 09:54:19.117 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-13 09:54:19.118 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-13 09:54:19.118 +07:00 [Information] Request finished in 0.9348ms 200 application/javascript
2018-07-13 09:54:19.120 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 09:54:19.120 +07:00 [Information] Request finished in 2.6051ms 200 application/javascript
2018-07-13 09:54:19.121 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-13 09:54:19.142 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-13 09:54:19.142 +07:00 [Information] Request finished in 20.647ms 200 image/jpeg
2018-07-13 09:54:19.160 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-13 09:54:19.201 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-13 09:54:19.201 +07:00 [Information] Request finished in 40.6882ms 200 image/jpeg
2018-07-13 09:54:27.746 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:54:27.748 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:54:27.748 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:54:27.754 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:54:27.754 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:54:27.763 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:54:27.770 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:54:27.778 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:54:27.787 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:54:27.796 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:54:27.800 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:54:27.800 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 45.4724ms.
2018-07-13 09:54:27.800 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:54:27.801 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.1097ms.
2018-07-13 09:54:27.801 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 53.1548ms
2018-07-13 09:54:27.801 +07:00 [Information] Request finished in 55.1569ms 200 text/html; charset=utf-8
2018-07-13 09:55:27.169 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:55:27.177 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:55:27.177 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:55:27.187 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:55:27.188 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:55:27.200 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:55:27.205 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:55:27.215 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:55:27.225 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:55:27.233 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:55:27.242 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:55:27.242 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 54.0377ms.
2018-07-13 09:55:27.566 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:55:27.578 +07:00 [Information] Executed ViewResult - view "Edit" executed in 336.3234ms.
2018-07-13 09:55:27.578 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 401.5732ms
2018-07-13 09:55:27.578 +07:00 [Information] Request finished in 409.2582ms 200 text/html; charset=utf-8
2018-07-13 09:56:14.451 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:56:14.459 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:56:14.460 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:56:14.465 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:56:14.466 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:56:14.471 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:56:14.476 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:56:14.483 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:56:14.487 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:56:14.492 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:56:14.496 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:56:14.497 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.8734ms.
2018-07-13 09:56:14.776 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:56:14.790 +07:00 [Information] Executed ViewResult - view "Edit" executed in 293.7173ms.
2018-07-13 09:56:14.791 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 331.0974ms
2018-07-13 09:56:14.791 +07:00 [Information] Request finished in 339.3342ms 200 text/html; charset=utf-8
2018-07-13 09:56:14.809 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 09:56:14.810 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 09:56:14.811 +07:00 [Information] Request finished in 1.9349ms 304 text/css
2018-07-13 09:56:14.811 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 09:56:14.812 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 09:56:14.812 +07:00 [Information] Request finished in 0.6692ms 304 application/javascript
2018-07-13 09:56:16.320 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:56:16.326 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:56:16.327 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 09:56:16.331 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 3.6406ms.
2018-07-13 09:56:16.334 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:56:16.348 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 21.2465ms
2018-07-13 09:56:16.348 +07:00 [Information] Request finished in 28.0644ms 200 application/json; charset=utf-8
2018-07-13 09:56:17.634 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:56:17.637 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:56:17.637 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 09:56:17.637 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.1161ms.
2018-07-13 09:56:17.638 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:56:17.638 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 1.092ms
2018-07-13 09:56:17.638 +07:00 [Information] Request finished in 3.7525ms 200 application/json; charset=utf-8
2018-07-13 09:56:18.692 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:56:18.694 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:56:18.695 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-13 09:56:18.695 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0339ms.
2018-07-13 09:56:18.695 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:56:18.696 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 1.1321ms
2018-07-13 09:56:18.696 +07:00 [Information] Request finished in 5.2305ms 200 application/json; charset=utf-8
2018-07-13 09:56:19.786 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:56:19.788 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:56:19.788 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:56:19.794 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:56:19.795 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:56:19.800 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:56:19.805 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:56:19.812 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:56:19.818 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:56:19.824 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:56:19.828 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:56:19.828 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.2545ms.
2018-07-13 09:56:19.828 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:56:19.829 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3077ms.
2018-07-13 09:56:19.829 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 41.235ms
2018-07-13 09:56:19.830 +07:00 [Information] Request finished in 44.0997ms 200 text/html; charset=utf-8
2018-07-13 09:56:46.180 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:56:46.698 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:56:47.190 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:56:47.409 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:56:47.564 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:56:47.650 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:56:47.812 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:56:47.886 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:56:47.918 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:56:47.932 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:56:47.936 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:56:47.943 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 374.6596ms.
2018-07-13 09:56:47.963 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:56:48.113 +07:00 [Information] Executed ViewResult - view "Edit" executed in 155.9546ms.
2018-07-13 09:56:48.114 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1415.6396ms
2018-07-13 09:56:48.147 +07:00 [Information] Request finished in 1971.6843ms 200 text/html; charset=utf-8
2018-07-13 09:56:49.903 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:56:49.910 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:56:49.933 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 09:56:49.941 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:56:49.960 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:56:50.127 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 09:56:50.151 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 217.2752ms.
2018-07-13 09:56:50.155 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:56:50.169 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 258.4862ms
2018-07-13 09:56:50.170 +07:00 [Information] Request finished in 266.2934ms 200 application/json; charset=utf-8
2018-07-13 09:56:53.091 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:56:53.093 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:56:53.093 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 09:56:53.094 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:56:53.098 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:56:53.106 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 09:56:53.110 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.1511ms.
2018-07-13 09:56:53.110 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:56:53.110 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 17.5011ms
2018-07-13 09:56:53.111 +07:00 [Information] Request finished in 19.8308ms 200 application/json; charset=utf-8
2018-07-13 09:56:53.916 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:56:53.917 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:56:53.918 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 09:56:53.919 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:56:53.923 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:56:53.930 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 09:56:53.934 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.5438ms.
2018-07-13 09:56:53.934 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:56:53.934 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 16.4343ms
2018-07-13 09:56:53.934 +07:00 [Information] Request finished in 18.792ms 200 application/json; charset=utf-8
2018-07-13 09:56:54.618 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:56:54.620 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:56:54.621 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 09:56:54.622 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:56:54.625 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:56:54.633 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 09:56:54.637 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.2392ms.
2018-07-13 09:56:54.637 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:56:54.637 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 17.3277ms
2018-07-13 09:56:54.637 +07:00 [Information] Request finished in 19.398ms 200 application/json; charset=utf-8
2018-07-13 09:59:20.518 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 09:59:21.040 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 09:59:21.551 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:59:21.738 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:59:21.885 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 09:59:21.972 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:59:22.129 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 09:59:22.203 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:59:22.251 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:59:22.265 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 09:59:22.269 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 09:59:22.275 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 386.3383ms.
2018-07-13 09:59:22.294 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 09:59:22.451 +07:00 [Information] Executed ViewResult - view "Edit" executed in 161.9268ms.
2018-07-13 09:59:22.453 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1412.8357ms
2018-07-13 09:59:22.475 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 09:59:22.475 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 09:59:22.485 +07:00 [Information] Request finished in 1969.822ms 200 text/html; charset=utf-8
2018-07-13 09:59:22.491 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 09:59:22.491 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 09:59:22.492 +07:00 [Information] Request finished in 17.3941ms 200 application/javascript
2018-07-13 09:59:22.492 +07:00 [Information] Request finished in 17.5851ms 200 text/css
2018-07-13 09:59:23.984 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 09:59:23.996 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 09:59:23.997 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 09:59:24.002 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 09:59:24.033 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 09:59:24.056 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 09:59:24.215 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 09:59:24.236 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 203.232ms.
2018-07-13 09:59:24.240 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 09:59:24.253 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 257.2037ms
2018-07-13 09:59:24.253 +07:00 [Information] Request finished in 269.4398ms 200 application/json; charset=utf-8
2018-07-13 10:01:40.163 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:01:40.687 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:01:41.172 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:01:41.379 +07:00 [Information] Executed DbCommand ("24"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:01:41.525 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:01:41.607 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:01:41.779 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:01:41.854 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:01:41.901 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:01:41.927 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:01:41.936 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:01:41.942 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 413.1629ms.
2018-07-13 10:01:41.961 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:01:42.104 +07:00 [Information] Executed ViewResult - view "Edit" executed in 149.1486ms.
2018-07-13 10:01:42.106 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1418.2578ms
2018-07-13 10:01:42.135 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:01:42.135 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:01:42.147 +07:00 [Information] Request finished in 1989.3662ms 200 text/html; charset=utf-8
2018-07-13 10:01:42.158 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 10:01:42.158 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 10:01:42.158 +07:00 [Information] Request finished in 23.1973ms 200 application/javascript
2018-07-13 10:01:42.158 +07:00 [Information] Request finished in 23.1936ms 200 text/css
2018-07-13 10:01:44.454 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:01:44.466 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:01:44.467 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:01:44.478 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:01:44.505 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 10:01:44.531 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:01:44.688 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:01:44.704 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 198.2341ms.
2018-07-13 10:01:44.707 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:01:44.722 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 255.3722ms
2018-07-13 10:01:44.722 +07:00 [Information] Request finished in 267.7952ms 200 application/json; charset=utf-8
2018-07-13 10:01:46.427 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:01:46.430 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:01:46.430 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:01:46.435 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:01:46.437 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 10:01:46.440 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:01:46.448 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:01:46.451 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 13.8274ms.
2018-07-13 10:01:46.451 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:01:46.452 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 22.3961ms
2018-07-13 10:01:46.453 +07:00 [Information] Request finished in 25.3653ms 200 application/json; charset=utf-8
2018-07-13 10:01:48.244 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:01:48.246 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:01:48.246 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:01:48.252 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:01:48.253 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-13 10:01:48.257 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:01:48.267 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:01:48.272 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 19.4244ms.
2018-07-13 10:01:48.272 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:01:48.273 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 26.6114ms
2018-07-13 10:01:48.273 +07:00 [Information] Request finished in 29.6959ms 200 application/json; charset=utf-8
2018-07-13 10:02:22.019 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:02:22.029 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:02:22.030 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:02:22.037 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:02:22.038 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:02:22.043 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:02:22.048 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:02:22.054 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:02:22.059 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:02:22.065 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:02:22.069 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:02:22.069 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.442ms.
2018-07-13 10:02:23.537 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:02:23.550 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1481.197ms.
2018-07-13 10:02:23.551 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1521.2171ms
2018-07-13 10:02:23.551 +07:00 [Information] Request finished in 1531.7645ms 200 text/html; charset=utf-8
2018-07-13 10:02:23.568 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:02:23.568 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:02:23.569 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 10:02:23.569 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 10:02:23.571 +07:00 [Information] Request finished in 2.9221ms 304 text/css
2018-07-13 10:02:23.571 +07:00 [Information] Request finished in 2.8069ms 304 application/javascript
2018-07-13 10:02:24.797 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:02:24.806 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:02:24.806 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:02:24.823 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:02:24.824 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 10:02:24.829 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:02:24.836 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:02:24.839 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.0456ms.
2018-07-13 10:02:24.840 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:02:24.840 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 33.8559ms
2018-07-13 10:02:24.840 +07:00 [Information] Request finished in 42.9999ms 200 application/json; charset=utf-8
2018-07-13 10:02:26.466 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:02:26.467 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:02:26.467 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:02:26.478 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:02:26.478 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:02:26.484 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:02:26.489 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:02:26.495 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:02:26.501 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:02:26.506 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:02:26.509 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:02:26.509 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.9301ms.
2018-07-13 10:02:26.509 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:02:26.511 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2145ms.
2018-07-13 10:02:26.511 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 43.9656ms
2018-07-13 10:02:26.511 +07:00 [Information] Request finished in 44.988ms 200 text/html; charset=utf-8
2018-07-13 10:02:27.982 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:02:27.983 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:02:27.984 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:02:27.989 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:02:27.990 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 10:02:27.994 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:02:28.002 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:02:28.005 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 14.5811ms.
2018-07-13 10:02:28.005 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:02:28.005 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 21.4571ms
2018-07-13 10:02:28.005 +07:00 [Information] Request finished in 23.3346ms 200 application/json; charset=utf-8
2018-07-13 10:02:28.531 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:02:28.532 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:02:28.533 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:02:28.538 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:02:28.538 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 10:02:28.542 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:02:28.550 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:02:28.555 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.8517ms.
2018-07-13 10:02:28.556 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:02:28.556 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 23.4265ms
2018-07-13 10:02:28.556 +07:00 [Information] Request finished in 25.0827ms 200 application/json; charset=utf-8
2018-07-13 10:07:06.164 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:07:06.174 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:07:06.175 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:06.186 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:06.187 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:07:06.193 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:06.200 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:07:06.213 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:07:06.222 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:07:06.230 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:07:06.239 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:07:06.239 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 51.8843ms.
2018-07-13 10:07:06.521 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:07:06.533 +07:00 [Information] Executed ViewResult - view "Edit" executed in 294.0643ms.
2018-07-13 10:07:06.533 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 358.8452ms
2018-07-13 10:07:06.534 +07:00 [Information] Request finished in 369.9882ms 200 text/html; charset=utf-8
2018-07-13 10:07:06.553 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:07:06.553 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:07:06.553 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 10:07:06.553 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 10:07:06.553 +07:00 [Information] Request finished in 1.0044ms 304 text/css
2018-07-13 10:07:06.553 +07:00 [Information] Request finished in 0.6396ms 304 application/javascript
2018-07-13 10:07:08.719 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:07:08.729 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:07:08.730 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:08.737 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:08.738 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "True", "99"]) - Validation state: Valid
2018-07-13 10:07:08.742 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:08.763 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:07:08.781 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 42.4218ms.
2018-07-13 10:07:08.781 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:07:08.781 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 51.5624ms
2018-07-13 10:07:08.781 +07:00 [Information] Request finished in 61.9729ms 200 application/json; charset=utf-8
2018-07-13 10:07:10.154 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:07:10.156 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:07:10.156 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:10.165 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:10.166 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:07:10.174 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:10.183 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:07:10.191 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:07:10.197 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:07:10.204 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:07:10.208 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:07:10.208 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.2836ms.
2018-07-13 10:07:10.208 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:07:10.209 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.1758ms.
2018-07-13 10:07:10.209 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 53.4287ms
2018-07-13 10:07:10.209 +07:00 [Information] Request finished in 55.4392ms 200 text/html; charset=utf-8
2018-07-13 10:07:11.717 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 40
2018-07-13 10:07:11.719 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:07:11.720 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:11.729 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:11.730 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "False", "99"]) - Validation state: Valid
2018-07-13 10:07:11.738 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:11.752 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:07:11.760 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 30.1131ms.
2018-07-13 10:07:11.761 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:07:11.761 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 41.5471ms
2018-07-13 10:07:11.761 +07:00 [Information] Request finished in 44.0956ms 200 application/json; charset=utf-8
2018-07-13 10:07:12.252 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:07:12.253 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:07:12.254 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:12.260 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:12.261 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "False", "99"]) - Validation state: Valid
2018-07-13 10:07:12.266 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:12.276 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:07:12.285 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 23.4483ms.
2018-07-13 10:07:12.285 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:07:12.285 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 31.5255ms
2018-07-13 10:07:12.285 +07:00 [Information] Request finished in 33.4272ms 200 application/json; charset=utf-8
2018-07-13 10:07:12.773 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:07:12.774 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:07:12.774 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:12.783 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:12.783 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-13 10:07:12.790 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:12.802 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:07:12.811 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 27.5116ms.
2018-07-13 10:07:12.811 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:07:12.812 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 37.6194ms
2018-07-13 10:07:12.812 +07:00 [Information] Request finished in 38.9227ms 200 application/json; charset=utf-8
2018-07-13 10:07:13.452 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:07:13.453 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:07:13.453 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:13.459 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:13.460 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 10:07:13.473 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:13.490 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:07:13.497 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 37.6035ms.
2018-07-13 10:07:13.498 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:07:13.498 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 44.7629ms
2018-07-13 10:07:13.498 +07:00 [Information] Request finished in 47.4826ms 200 application/json; charset=utf-8
2018-07-13 10:07:14.475 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:07:14.476 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:07:14.477 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:14.482 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:14.483 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:07:14.488 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:14.493 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:07:14.498 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:07:14.503 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:07:14.508 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:07:14.512 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:07:14.513 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.668ms.
2018-07-13 10:07:14.513 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:07:14.514 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2398ms.
2018-07-13 10:07:14.514 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 38.3093ms
2018-07-13 10:07:14.514 +07:00 [Information] Request finished in 39.6861ms 200 text/html; charset=utf-8
2018-07-13 10:07:17.557 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:07:17.560 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:07:17.560 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:17.577 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:17.578 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 10:07:17.593 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:17.619 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:07:17.636 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 57.7507ms.
2018-07-13 10:07:17.636 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:07:17.636 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 76.6556ms
2018-07-13 10:07:17.636 +07:00 [Information] Request finished in 79.4243ms 200 application/json; charset=utf-8
2018-07-13 10:07:18.955 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:07:18.957 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:07:18.958 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:07:18.964 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:07:18.965 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 10:07:18.969 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:07:18.977 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:07:18.981 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.8479ms.
2018-07-13 10:07:18.981 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:07:18.981 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 23.912ms
2018-07-13 10:07:18.981 +07:00 [Information] Request finished in 25.7852ms 200 application/json; charset=utf-8
2018-07-13 10:13:56.235 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:13:56.237 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:13:56.238 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:13:56.273 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:13:56.274 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:13:56.280 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:13:56.287 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:13:56.294 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:13:56.307 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:13:56.312 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:13:56.316 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:13:56.317 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.8184ms.
2018-07-13 10:13:56.317 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:13:56.318 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3981ms.
2018-07-13 10:13:56.318 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 80.8773ms
2018-07-13 10:13:56.318 +07:00 [Information] Request finished in 83.5449ms 200 text/html; charset=utf-8
2018-07-13 10:13:56.342 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:13:56.343 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 10:13:56.343 +07:00 [Information] Request finished in 1.37ms 304 text/css
2018-07-13 10:13:56.345 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:13:56.346 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 10:13:56.346 +07:00 [Information] Request finished in 1.0476ms 304 application/javascript
2018-07-13 10:13:58.608 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:13:58.609 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:13:58.610 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:13:58.619 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:13:58.620 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 10:13:58.624 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:13:58.632 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:13:58.636 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.0156ms.
2018-07-13 10:13:58.636 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:13:58.636 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 26.7531ms
2018-07-13 10:13:58.636 +07:00 [Information] Request finished in 28.6182ms 200 application/json; charset=utf-8
2018-07-13 10:14:02.006 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:14:02.008 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:14:02.009 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:02.014 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:02.015 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-13 10:14:02.019 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:14:02.026 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:14:02.032 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.859ms.
2018-07-13 10:14:02.032 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:14:02.032 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 24.2053ms
2018-07-13 10:14:02.033 +07:00 [Information] Request finished in 26.2549ms 200 application/json; charset=utf-8
2018-07-13 10:14:03.293 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:14:03.295 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:14:03.295 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:03.301 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:03.303 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "True", "99"]) - Validation state: Valid
2018-07-13 10:14:03.307 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:14:03.315 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:14:03.319 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.9405ms.
2018-07-13 10:14:03.319 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:14:03.319 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 24.6112ms
2018-07-13 10:14:03.319 +07:00 [Information] Request finished in 26.991ms 200 application/json; charset=utf-8
2018-07-13 10:14:04.676 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:14:04.678 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:14:04.679 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:04.684 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:04.685 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 10:14:04.692 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:14:04.700 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:14:04.703 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 17.5248ms.
2018-07-13 10:14:04.703 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:14:04.703 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 24.5459ms
2018-07-13 10:14:04.703 +07:00 [Information] Request finished in 27.03ms 200 application/json; charset=utf-8
2018-07-13 10:14:07.741 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 10:14:07.747 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 10:14:07.748 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:07.755 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:07.756 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 10:14:07.757 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.0126ms.
2018-07-13 10:14:07.759 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 10:14:07.814 +07:00 [Information] Executed ViewResult - view "Note" executed in 56.3037ms.
2018-07-13 10:14:07.814 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 66.2942ms
2018-07-13 10:14:07.814 +07:00 [Information] Request finished in 73.1782ms 200 text/html; charset=utf-8
2018-07-13 10:14:07.830 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 10:14:07.839 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 10:14:07.840 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:07.845 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:07.846 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 10:14:07.886 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 10:14:07.962 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 10:14:07.981 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 135.3091ms.
2018-07-13 10:14:07.983 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 10:14:07.995 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 12.875ms.
2018-07-13 10:14:07.995 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 155.7993ms
2018-07-13 10:14:07.995 +07:00 [Information] Request finished in 165.6106ms 200 text/html; charset=utf-8
2018-07-13 10:14:16.542 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 301
2018-07-13 10:14:16.555 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-13 10:14:16.556 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:16.561 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:16.569 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Valid
2018-07-13 10:14:16.658 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NoteConfirmationTrips] ([ConfirmationTripsId], [Content], [CreatedDate], [CreatedUser], [StudentCheckOutId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [NoteConfirmationTrips]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2018-07-13 10:14:16.667 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 97.6895ms.
2018-07-13 10:14:16.667 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:14:16.667 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 111.8273ms
2018-07-13 10:14:16.668 +07:00 [Information] Request finished in 126.2254ms 200 application/json; charset=utf-8
2018-07-13 10:14:16.878 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 10:14:16.880 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 10:14:16.880 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:16.901 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:16.902 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 10:14:16.912 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 10:14:16.927 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 10:14:16.927 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 24.8607ms.
2018-07-13 10:14:16.928 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 10:14:16.929 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 1.214ms.
2018-07-13 10:14:16.929 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 49.1015ms
2018-07-13 10:14:16.929 +07:00 [Information] Request finished in 52.5625ms 200 text/html; charset=utf-8
2018-07-13 10:14:20.489 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:14:20.490 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:14:20.491 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:20.497 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:20.498 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:14:20.504 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:14:20.509 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:14:20.514 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:14:20.518 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:14:20.523 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:14:20.527 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:14:20.527 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.1385ms.
2018-07-13 10:14:20.527 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:14:20.529 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2773ms.
2018-07-13 10:14:20.529 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 38.1787ms
2018-07-13 10:14:20.529 +07:00 [Information] Request finished in 39.6828ms 200 text/html; charset=utf-8
2018-07-13 10:14:22.140 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 10:14:22.142 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 10:14:22.142 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:22.147 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:22.148 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 10:14:22.148 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0158ms.
2018-07-13 10:14:22.148 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 10:14:22.149 +07:00 [Information] Executed ViewResult - view "Note" executed in 1.3683ms.
2018-07-13 10:14:22.150 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 8.2654ms
2018-07-13 10:14:22.150 +07:00 [Information] Request finished in 9.823ms 200 text/html; charset=utf-8
2018-07-13 10:14:22.161 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 10:14:22.163 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 10:14:22.164 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:22.171 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:22.172 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 10:14:22.178 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 10:14:22.182 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 10:14:22.185 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 9.977ms.
2018-07-13 10:14:22.185 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 10:14:22.186 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.4272ms.
2018-07-13 10:14:22.186 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 22.6922ms
2018-07-13 10:14:22.186 +07:00 [Information] Request finished in 24.9278ms 200 text/html; charset=utf-8
2018-07-13 10:14:26.191 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 286
2018-07-13 10:14:26.192 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-13 10:14:26.193 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:26.202 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:26.204 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Valid
2018-07-13 10:14:26.221 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NoteConfirmationTrips] ([ConfirmationTripsId], [Content], [CreatedDate], [CreatedUser], [StudentCheckOutId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [NoteConfirmationTrips]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2018-07-13 10:14:26.226 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 21.2802ms.
2018-07-13 10:14:26.226 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:14:26.226 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 33.4574ms
2018-07-13 10:14:26.226 +07:00 [Information] Request finished in 34.8323ms 200 application/json; charset=utf-8
2018-07-13 10:14:26.438 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 10:14:26.439 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 10:14:26.440 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:26.445 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:26.446 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 10:14:26.452 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 10:14:26.456 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 10:14:26.456 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.318ms.
2018-07-13 10:14:26.456 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 10:14:26.457 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.5151ms.
2018-07-13 10:14:26.457 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 17.5042ms
2018-07-13 10:14:26.457 +07:00 [Information] Request finished in 19.7143ms 200 text/html; charset=utf-8
2018-07-13 10:14:32.126 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 310
2018-07-13 10:14:32.127 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-13 10:14:32.128 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:32.136 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:32.137 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Valid
2018-07-13 10:14:32.144 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NoteConfirmationTrips] ([ConfirmationTripsId], [Content], [CreatedDate], [CreatedUser], [StudentCheckOutId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [NoteConfirmationTrips]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2018-07-13 10:14:32.147 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 10.2354ms.
2018-07-13 10:14:32.147 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:14:32.147 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 19.8115ms
2018-07-13 10:14:32.147 +07:00 [Information] Request finished in 21.4679ms 200 application/json; charset=utf-8
2018-07-13 10:14:32.358 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 10:14:32.360 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 10:14:32.360 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:32.365 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:32.366 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 10:14:32.372 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 10:14:32.377 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 10:14:32.378 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.242ms.
2018-07-13 10:14:32.378 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 10:14:32.378 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3589ms.
2018-07-13 10:14:32.378 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 18.4169ms
2018-07-13 10:14:32.378 +07:00 [Information] Request finished in 20.133ms 200 text/html; charset=utf-8
2018-07-13 10:14:36.099 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:14:36.101 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:14:36.101 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:36.106 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:36.107 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:14:36.112 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:14:36.117 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:14:36.122 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:14:36.126 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:14:36.133 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:14:36.137 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:14:36.137 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.3478ms.
2018-07-13 10:14:36.137 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:14:36.139 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2064ms.
2018-07-13 10:14:36.139 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 38.1067ms
2018-07-13 10:14:36.139 +07:00 [Information] Request finished in 40.6698ms 200 text/html; charset=utf-8
2018-07-13 10:14:38.829 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=8  
2018-07-13 10:14:38.830 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 10:14:38.831 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:38.837 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:38.838 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "8"]) - Validation state: Valid
2018-07-13 10:14:38.838 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0133ms.
2018-07-13 10:14:38.838 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 10:14:38.839 +07:00 [Information] Executed ViewResult - view "Note" executed in 1.2342ms.
2018-07-13 10:14:38.839 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 9.0025ms
2018-07-13 10:14:38.840 +07:00 [Information] Request finished in 10.4973ms 200 text/html; charset=utf-8
2018-07-13 10:14:38.857 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 10:14:38.860 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 10:14:38.861 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:38.867 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:38.868 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "8"]) - Validation state: Valid
2018-07-13 10:14:38.873 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 10:14:38.877 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 10:14:38.877 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 9.1964ms.
2018-07-13 10:14:38.877 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 10:14:38.877 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.1695ms.
2018-07-13 10:14:38.877 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 17.0007ms
2018-07-13 10:14:38.877 +07:00 [Information] Request finished in 24.4291ms 200 text/html; charset=utf-8
2018-07-13 10:14:50.462 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 40
2018-07-13 10:14:50.463 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:14:50.463 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:50.471 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:50.472 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "False", "99"]) - Validation state: Valid
2018-07-13 10:14:50.476 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:14:50.484 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:14:50.488 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.3501ms.
2018-07-13 10:14:50.488 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:14:50.488 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 24.784ms
2018-07-13 10:14:50.488 +07:00 [Information] Request finished in 26.6608ms 200 application/json; charset=utf-8
2018-07-13 10:14:50.965 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:14:50.968 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:14:50.968 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:50.974 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:50.975 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "False", "99"]) - Validation state: Valid
2018-07-13 10:14:50.980 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:14:50.989 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:14:50.992 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.7724ms.
2018-07-13 10:14:50.992 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:14:50.992 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 24.5161ms
2018-07-13 10:14:50.992 +07:00 [Information] Request finished in 27.169ms 200 application/json; charset=utf-8
2018-07-13 10:14:51.438 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:14:51.440 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:14:51.440 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:14:51.446 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:14:51.446 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-13 10:14:51.450 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:14:51.458 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:14:51.462 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.5712ms.
2018-07-13 10:14:51.462 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:14:51.462 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 22.6662ms
2018-07-13 10:14:51.463 +07:00 [Information] Request finished in 24.9002ms 200 application/json; charset=utf-8
2018-07-13 10:20:04.032 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=8  
2018-07-13 10:20:04.034 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:20:04.034 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:04.040 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:04.042 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:20:04.048 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:04.053 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:20:04.066 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:20:04.071 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:20:04.089 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:20:04.093 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:20:04.093 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 50.874ms.
2018-07-13 10:20:04.093 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:20:04.094 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3199ms.
2018-07-13 10:20:04.094 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 60.5146ms
2018-07-13 10:20:04.094 +07:00 [Information] Request finished in 62.4677ms 200 text/html; charset=utf-8
2018-07-13 10:20:04.118 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:20:04.119 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 10:20:04.119 +07:00 [Information] Request finished in 1.0025ms 304 text/css
2018-07-13 10:20:04.120 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:20:04.121 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 10:20:04.121 +07:00 [Information] Request finished in 0.5373ms 304 application/javascript
2018-07-13 10:20:06.008 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:20:06.010 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:20:06.011 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:06.017 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:06.019 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 10:20:06.023 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:06.032 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:20:06.036 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.9628ms.
2018-07-13 10:20:06.036 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:20:06.036 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 25.9375ms
2018-07-13 10:20:06.036 +07:00 [Information] Request finished in 27.7844ms 200 application/json; charset=utf-8
2018-07-13 10:20:09.078 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:20:09.079 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:20:09.080 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:09.087 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:09.088 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-13 10:20:09.096 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:09.108 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:20:09.116 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 28.2197ms.
2018-07-13 10:20:09.117 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:20:09.117 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 37.2259ms
2018-07-13 10:20:09.117 +07:00 [Information] Request finished in 40.4951ms 200 application/json; charset=utf-8
2018-07-13 10:20:10.796 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 10:20:10.798 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 10:20:10.799 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:10.805 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:10.806 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 10:20:10.806 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0126ms.
2018-07-13 10:20:10.806 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 10:20:10.807 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.807ms.
2018-07-13 10:20:10.807 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 8.0511ms
2018-07-13 10:20:10.807 +07:00 [Information] Request finished in 11.1522ms 200 text/html; charset=utf-8
2018-07-13 10:20:10.816 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 10:20:10.817 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 10:20:10.818 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:10.825 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:10.826 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 10:20:10.832 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 10:20:10.838 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 10:20:10.838 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.1746ms.
2018-07-13 10:20:10.838 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 10:20:10.839 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.2771ms.
2018-07-13 10:20:10.839 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 21.4867ms
2018-07-13 10:20:10.839 +07:00 [Information] Request finished in 22.841ms 200 text/html; charset=utf-8
2018-07-13 10:20:19.470 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:20:19.471 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:20:19.472 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:19.477 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:19.479 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "False", "99"]) - Validation state: Valid
2018-07-13 10:20:19.484 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:19.492 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:20:19.495 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.8357ms.
2018-07-13 10:20:19.495 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:20:19.496 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 24.5842ms
2018-07-13 10:20:19.496 +07:00 [Information] Request finished in 26.0996ms 200 application/json; charset=utf-8
2018-07-13 10:20:19.916 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:20:19.917 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:20:19.918 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:19.928 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:19.928 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-13 10:20:19.936 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:19.944 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:20:19.950 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 21.5553ms.
2018-07-13 10:20:19.950 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:20:19.950 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 32.6902ms
2018-07-13 10:20:19.950 +07:00 [Information] Request finished in 34.4163ms 200 application/json; charset=utf-8
2018-07-13 10:20:20.348 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:20:20.349 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:20:20.349 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:20.356 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:20.357 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 10:20:20.361 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:20.369 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:20:20.372 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 14.6705ms.
2018-07-13 10:20:20.372 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:20:20.372 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 23.2279ms
2018-07-13 10:20:20.372 +07:00 [Information] Request finished in 24.5538ms 200 application/json; charset=utf-8
2018-07-13 10:20:30.173 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:20:30.175 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:20:30.175 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:30.193 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:30.194 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 10:20:30.208 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:30.228 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:20:30.237 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 42.7739ms.
2018-07-13 10:20:30.237 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:20:30.237 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 61.8923ms
2018-07-13 10:20:30.237 +07:00 [Information] Request finished in 63.8685ms 200 application/json; charset=utf-8
2018-07-13 10:20:30.628 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:20:30.629 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:20:30.629 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:30.635 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:30.635 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 10:20:30.643 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:30.656 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:20:30.662 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 26.1506ms.
2018-07-13 10:20:30.662 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:20:30.662 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 33.1493ms
2018-07-13 10:20:30.662 +07:00 [Information] Request finished in 34.1807ms 200 application/json; charset=utf-8
2018-07-13 10:20:31.364 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:20:31.367 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:20:31.367 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:31.373 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:31.374 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 10:20:31.381 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:31.395 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:20:31.404 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 30.2693ms.
2018-07-13 10:20:31.404 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:20:31.405 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 37.7818ms
2018-07-13 10:20:31.405 +07:00 [Information] Request finished in 40.6043ms 200 application/json; charset=utf-8
2018-07-13 10:20:31.756 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:20:31.757 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:20:31.757 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:20:31.766 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:20:31.767 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-13 10:20:31.775 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:20:31.790 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:20:31.800 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 32.3893ms.
2018-07-13 10:20:31.800 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:20:31.800 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 43.1841ms
2018-07-13 10:20:31.800 +07:00 [Information] Request finished in 44.5639ms 200 application/json; charset=utf-8
2018-07-13 10:22:07.444 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:22:07.448 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:22:07.450 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:07.457 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:07.458 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:22:07.463 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:07.468 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:22:07.474 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:22:07.478 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:22:07.484 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:22:07.489 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:22:07.489 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.2439ms.
2018-07-13 10:22:07.489 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:22:07.491 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3977ms.
2018-07-13 10:22:07.491 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.0081ms
2018-07-13 10:22:07.491 +07:00 [Information] Request finished in 47.0568ms 200 text/html; charset=utf-8
2018-07-13 10:22:07.510 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:22:07.511 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 10:22:07.511 +07:00 [Information] Request finished in 1.2732ms 304 text/css
2018-07-13 10:22:07.512 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:22:07.512 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 10:22:07.513 +07:00 [Information] Request finished in 0.816ms 304 application/javascript
2018-07-13 10:22:14.912 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:22:14.914 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:14.914 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:14.923 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:14.923 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 10:22:14.928 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:14.936 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:14.939 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.5934ms.
2018-07-13 10:22:14.939 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:14.939 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 25.4703ms
2018-07-13 10:22:14.940 +07:00 [Information] Request finished in 27.8595ms 200 application/json; charset=utf-8
2018-07-13 10:22:15.637 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:22:15.638 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:15.639 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:15.644 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:15.645 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 10:22:15.649 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:15.658 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:15.662 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.9626ms.
2018-07-13 10:22:15.662 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:15.662 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 23.6265ms
2018-07-13 10:22:15.662 +07:00 [Information] Request finished in 25.2839ms 200 application/json; charset=utf-8
2018-07-13 10:22:17.047 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:22:17.048 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:17.048 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:17.054 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:17.055 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-13 10:22:17.060 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:17.068 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:17.071 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.6969ms.
2018-07-13 10:22:17.071 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:17.071 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 23.3805ms
2018-07-13 10:22:17.072 +07:00 [Information] Request finished in 26.7898ms 200 application/json; charset=utf-8
2018-07-13 10:22:17.502 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:22:17.503 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:17.503 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:17.509 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:17.510 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 10:22:17.515 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:17.523 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:17.527 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.5266ms.
2018-07-13 10:22:17.527 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:17.527 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 24.3572ms
2018-07-13 10:22:17.528 +07:00 [Information] Request finished in 25.6124ms 200 application/json; charset=utf-8
2018-07-13 10:22:18.252 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:22:18.253 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:18.254 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:18.259 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:18.260 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-13 10:22:18.264 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:18.272 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:18.277 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.9513ms.
2018-07-13 10:22:18.277 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:18.278 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 23.9105ms
2018-07-13 10:22:18.278 +07:00 [Information] Request finished in 26.0996ms 200 application/json; charset=utf-8
2018-07-13 10:22:18.797 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:22:18.798 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:18.799 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:18.815 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:18.816 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "True", "99"]) - Validation state: Valid
2018-07-13 10:22:18.820 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:18.830 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:18.836 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 19.7467ms.
2018-07-13 10:22:18.836 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:18.836 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 37.8907ms
2018-07-13 10:22:18.836 +07:00 [Information] Request finished in 39.3479ms 200 application/json; charset=utf-8
2018-07-13 10:22:19.260 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:22:19.262 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:19.262 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:19.268 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:19.269 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "False", "99"]) - Validation state: Valid
2018-07-13 10:22:19.274 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:19.284 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:19.288 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 18.816ms.
2018-07-13 10:22:19.288 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:19.288 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 26.0764ms
2018-07-13 10:22:19.288 +07:00 [Information] Request finished in 28.1929ms 200 application/json; charset=utf-8
2018-07-13 10:22:19.645 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 40
2018-07-13 10:22:19.647 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:19.647 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:19.653 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:19.654 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "False", "99"]) - Validation state: Valid
2018-07-13 10:22:19.659 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:19.666 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:19.669 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.0198ms.
2018-07-13 10:22:19.670 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:19.670 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 22.6852ms
2018-07-13 10:22:19.670 +07:00 [Information] Request finished in 24.6838ms 200 application/json; charset=utf-8
2018-07-13 10:22:23.571 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:22:23.572 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:23.573 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:23.579 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:23.581 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 10:22:23.588 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:23.599 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:23.604 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 23.312ms.
2018-07-13 10:22:23.604 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:23.604 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 31.9752ms
2018-07-13 10:22:23.604 +07:00 [Information] Request finished in 33.1301ms 200 application/json; charset=utf-8
2018-07-13 10:22:24.260 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:22:24.262 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:24.263 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:24.268 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:24.268 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 10:22:24.273 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:24.280 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:24.283 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 14.7302ms.
2018-07-13 10:22:24.283 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:24.284 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 21.3698ms
2018-07-13 10:22:24.284 +07:00 [Information] Request finished in 23.7102ms 200 application/json; charset=utf-8
2018-07-13 10:22:24.995 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 10:22:24.996 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:24.997 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:25.002 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:25.003 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 10:22:25.008 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:25.016 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:25.019 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.8856ms.
2018-07-13 10:22:25.019 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:25.020 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 23.016ms
2018-07-13 10:22:25.020 +07:00 [Information] Request finished in 24.907ms 200 application/json; charset=utf-8
2018-07-13 10:22:25.540 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 10:22:25.542 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 10:22:25.542 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:22:25.548 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:22:25.549 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 10:22:25.553 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:22:25.561 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 10:22:25.564 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 14.8095ms.
2018-07-13 10:22:25.564 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 10:22:25.564 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 22.3803ms
2018-07-13 10:22:25.564 +07:00 [Information] Request finished in 23.9537ms 200 application/json; charset=utf-8
2018-07-13 10:43:05.532 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:43:05.538 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:43:05.562 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:43:05.606 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 10:43:05.636 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 10:43:05.649 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:43:05.651 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:43:05.657 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:43:05.662 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:43:05.668 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:43:05.672 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:43:05.677 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:43:05.681 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:43:05.681 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.5266ms.
2018-07-13 10:43:05.682 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:43:05.687 +07:00 [Information] Executed ViewResult - view "Edit" executed in 5.4154ms.
2018-07-13 10:43:05.687 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 37.3022ms
2018-07-13 10:43:05.687 +07:00 [Information] Request finished in 154.9484ms 200 text/html; charset=utf-8
2018-07-13 10:43:05.725 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:43:05.732 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:43:05.733 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 10:43:05.733 +07:00 [Information] Request finished in 8.2131ms 200 text/css
2018-07-13 10:43:05.734 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 10:43:05.734 +07:00 [Information] Request finished in 2.7716ms 200 application/javascript
2018-07-13 10:43:06.785 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 10:43:06.787 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 10:43:06.787 +07:00 [Information] Request finished in 1.4121ms 200 image/x-icon
2018-07-13 10:43:27.087 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:43:27.092 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:43:27.104 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:43:27.108 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 10:43:27.126 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 10:43:27.127 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 10:43:27.127 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 10:43:27.127 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 10:43:27.149 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.150 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.151 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.155 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.155 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.155 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.157 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.158 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.159 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.159 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.159 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.160 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.161 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.162 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.162 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.163 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.164 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.164 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 10:43:27.190 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-13 10:43:27.241 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.283 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.287 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.291 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.297 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.302 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.305 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.309 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.314 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.317 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.321 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.325 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.329 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 10:43:27.334 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 10:43:27.352 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:43:27.353 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:43:27.358 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:43:27.363 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:43:27.369 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:43:27.373 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:43:27.378 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:43:27.382 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:43:27.382 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.0143ms.
2018-07-13 10:43:27.382 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:43:27.384 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5594ms.
2018-07-13 10:43:27.384 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 31.1961ms
2018-07-13 10:43:27.384 +07:00 [Information] Request finished in 296.5765ms 200 text/html; charset=utf-8
2018-07-13 10:43:27.406 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:43:27.407 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 10:43:27.407 +07:00 [Information] Request finished in 0.8549ms 304 application/javascript
2018-07-13 10:43:27.421 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:43:27.421 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 10:43:27.421 +07:00 [Information] Request finished in 0.6693ms 304 text/css
2018-07-13 10:48:20.339 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/  
2018-07-13 10:48:20.339 +07:00 [Information] Request starting HTTP/1.1 DEBUG http://localhost:44396/  0
2018-07-13 10:48:20.419 +07:00 [Information] Request finished in 87.0983ms 200 
2018-07-13 10:48:21.059 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-13 10:48:21.660 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:48:22.039 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:48:22.153 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-13 10:48:22.165 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.5279ms.
2018-07-13 10:48:22.225 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 10:48:22.419 +07:00 [Information] Executed ViewResult - view "Index" executed in 239.0937ms.
2018-07-13 10:48:22.426 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 1362.3483ms
2018-07-13 10:48:22.462 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:48:22.480 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 10:48:22.496 +07:00 [Information] Request finished in 30.9369ms 304 text/css
2018-07-13 10:48:22.503 +07:00 [Information] Request finished in 2173.7851ms 200 text/html; charset=utf-8
2018-07-13 10:48:22.508 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:48:22.513 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 10:48:22.521 +07:00 [Information] Request finished in 10.4226ms 304 application/javascript
2018-07-13 10:48:53.709 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:48:53.751 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:48:53.756 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:48:53.768 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:48:53.806 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:48:53.906 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:48:54.080 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:48:54.214 +07:00 [Information] Executed DbCommand ("26"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:49:00.554 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:53:24.671 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 10:53:24.747 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 10:53:24.757 +07:00 [Information] Request finished in 90.9534ms 200 image/x-icon
2018-07-13 10:53:49.019 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/  
2018-07-13 10:53:49.019 +07:00 [Information] Request starting HTTP/1.1 DEBUG http://localhost:44396/  0
2018-07-13 10:53:49.098 +07:00 [Information] Request finished in 106.4773ms 200 
2018-07-13 10:53:49.880 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-13 10:53:50.485 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:53:50.784 +07:00 [Information] Executed DbCommand ("23"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:53:50.901 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-13 10:53:50.909 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.9886ms.
2018-07-13 10:53:50.942 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 10:53:51.128 +07:00 [Information] Executed ViewResult - view "Index" executed in 202.8083ms.
2018-07-13 10:53:51.136 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 1247.4173ms
2018-07-13 10:53:51.179 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:53:51.226 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 10:53:51.226 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:53:51.247 +07:00 [Information] Request finished in 2229.6917ms 200 text/html; charset=utf-8
2018-07-13 10:53:51.256 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 10:53:51.271 +07:00 [Information] Request finished in 88.1839ms 304 text/css
2018-07-13 10:53:51.273 +07:00 [Information] Request finished in 42.576ms 304 application/javascript
2018-07-13 10:54:03.286 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:54:03.339 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:54:03.345 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:54:03.357 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:54:03.399 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:54:03.498 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:54:03.672 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:54:03.756 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:54:03.800 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_0
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:54:03.837 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:54:03.847 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_0
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:54:03.853 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 450.475ms.
2018-07-13 10:54:03.890 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:54:03.935 +07:00 [Information] Executed ViewResult - view "Edit" executed in 69.0464ms.
2018-07-13 10:54:03.941 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 596.6547ms
2018-07-13 10:54:03.965 +07:00 [Information] Request finished in 663.997ms 200 text/html; charset=utf-8
2018-07-13 10:54:04.885 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 10:54:04.896 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 10:54:04.907 +07:00 [Information] Request finished in 21.5304ms 200 image/x-icon
2018-07-13 10:54:11.127 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:54:11.133 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:54:11.139 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:54:11.149 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:54:11.159 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:54:11.168 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:54:11.178 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:54:11.189 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:54:14.574 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_0
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:54:48.582 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 10:54:48.663 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 10:54:48.673 +07:00 [Information] Request finished in 96.0419ms 200 image/x-icon
2018-07-13 10:56:12.026 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:56:12.587 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:56:13.135 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:56:13.323 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:56:13.491 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:56:13.576 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:56:13.754 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:56:13.828 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:56:13.863 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:56:13.879 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:56:13.883 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:56:13.889 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 394.3184ms.
2018-07-13 10:56:13.908 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:56:14.063 +07:00 [Information] Executed ViewResult - view "Edit" executed in 161.2857ms.
2018-07-13 10:56:14.066 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1478.1316ms
2018-07-13 10:56:14.089 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:56:14.105 +07:00 [Information] Request finished in 2084.1687ms 200 text/html; charset=utf-8
2018-07-13 10:56:14.106 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:56:14.119 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 10:56:14.119 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 10:56:14.120 +07:00 [Information] Request finished in 14.1194ms 200 application/javascript
2018-07-13 10:56:14.120 +07:00 [Information] Request finished in 30.826ms 200 text/css
2018-07-13 10:57:14.429 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:57:14.432 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:57:14.432 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:57:14.443 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:57:14.445 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:57:14.452 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:57:14.459 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:57:14.466 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:57:14.471 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:57:14.476 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:57:14.481 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:57:14.481 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.0829ms.
2018-07-13 10:57:14.481 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:57:14.483 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.2429ms.
2018-07-13 10:57:14.484 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 51.8866ms
2018-07-13 10:57:14.484 +07:00 [Information] Request finished in 54.8113ms 200 text/html; charset=utf-8
2018-07-13 10:57:14.501 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:57:14.501 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:57:14.502 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 10:57:14.502 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 10:57:14.503 +07:00 [Information] Request finished in 2.4094ms 304 application/javascript
2018-07-13 10:57:14.503 +07:00 [Information] Request finished in 2.6842ms 304 text/css
2018-07-13 10:57:19.493 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:57:19.494 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:57:19.495 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:57:19.501 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:57:19.502 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:57:19.507 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:57:19.513 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:57:19.518 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:57:19.523 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:57:19.528 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:57:19.532 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[ConfirmationTripsId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:57:19.533 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.755ms.
2018-07-13 10:57:19.533 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:57:19.534 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.655ms.
2018-07-13 10:57:19.535 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 40.398ms
2018-07-13 10:57:19.535 +07:00 [Information] Request finished in 43.5083ms 200 text/html; charset=utf-8
2018-07-13 10:57:20.398 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 10:57:20.400 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 10:57:20.401 +07:00 [Information] Request finished in 2.6466ms 200 image/x-icon
2018-07-13 10:58:23.899 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 10:58:24.478 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 10:58:24.985 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:58:25.180 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:58:25.330 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 10:58:25.417 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 10:58:25.590 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 10:58:25.664 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:58:25.701 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:58:25.717 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 10:58:25.725 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 10:58:25.730 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 396.4308ms.
2018-07-13 10:58:25.752 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 10:58:25.900 +07:00 [Information] Executed ViewResult - view "Edit" executed in 155.3111ms.
2018-07-13 10:58:25.902 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1422.4395ms
2018-07-13 10:58:25.924 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 10:58:25.924 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 10:58:25.939 +07:00 [Information] Request finished in 2044.7837ms 200 text/html; charset=utf-8
2018-07-13 10:58:25.953 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 10:58:25.953 +07:00 [Information] Request finished in 29.0148ms 200 application/javascript
2018-07-13 10:58:25.959 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 10:58:25.960 +07:00 [Information] Request finished in 35.6377ms 200 text/css
2018-07-13 10:59:01.209 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 10:59:01.223 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 10:59:01.224 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:59:01.234 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:59:01.238 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 10:59:01.239 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.8662ms.
2018-07-13 10:59:01.242 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 10:59:01.306 +07:00 [Information] Executed ViewResult - view "Note" executed in 66.2953ms.
2018-07-13 10:59:01.306 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 82.3364ms
2018-07-13 10:59:01.306 +07:00 [Information] Request finished in 97.1119ms 200 text/html; charset=utf-8
2018-07-13 10:59:01.320 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 10:59:01.334 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 10:59:01.335 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 10:59:01.340 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 10:59:01.369 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 10:59:01.412 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 10:59:01.479 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 10:59:01.494 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 125.0029ms.
2018-07-13 10:59:01.497 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 10:59:01.511 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 17.0971ms.
2018-07-13 10:59:01.511 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 177.0424ms
2018-07-13 10:59:01.511 +07:00 [Information] Request finished in 191.7296ms 200 text/html; charset=utf-8
2018-07-13 11:00:15.446 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 11:00:15.448 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 11:00:15.448 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 11:00:15.463 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 11:00:15.464 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 11:00:15.490 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[RouteId], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 11:00:15.508 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 11:00:15.513 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 11:00:15.517 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 11:00:15.522 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 11:00:15.527 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 11:00:15.528 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 63.7243ms.
2018-07-13 11:00:15.528 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 11:00:15.530 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.9728ms.
2018-07-13 11:00:15.530 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 81.9714ms
2018-07-13 11:00:15.530 +07:00 [Information] Request finished in 84.3556ms 200 text/html; charset=utf-8
2018-07-13 11:00:15.548 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 11:00:15.549 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 11:00:15.549 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 11:00:15.550 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 11:00:15.552 +07:00 [Information] Request finished in 2.6465ms 304 text/css
2018-07-13 11:00:15.552 +07:00 [Information] Request finished in 4.1486ms 304 application/javascript
2018-07-13 11:00:20.579 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-13 11:00:20.584 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-13 11:00:20.586 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 11:00:20.594 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 11:00:20.601 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-13 11:00:20.602 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4965ms.
2018-07-13 11:00:20.605 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 11:00:20.648 +07:00 [Information] Executed ViewResult - view "Index" executed in 45.4322ms.
2018-07-13 11:00:20.648 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 63.3109ms
2018-07-13 11:00:20.648 +07:00 [Information] Request finished in 69.1313ms 200 text/html; charset=utf-8
2018-07-13 11:00:20.977 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/plugins/bootstrap/fonts/glyphicons-halflings-regular.woff2  
2018-07-13 11:00:20.979 +07:00 [Information] Sending file. Request path: '"/Content/Admin/plugins/bootstrap/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\plugins\bootstrap\fonts\glyphicons-halflings-regular.woff2"'
2018-07-13 11:00:20.979 +07:00 [Information] Request finished in 1.825ms 200 font/woff2
2018-07-13 11:00:20.996 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-13 11:00:21.003 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-13 11:00:21.004 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 11:00:21.010 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 11:00:21.012 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-13 11:00:21.044 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-13 11:00:21.063 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-13 11:00:21.066 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 53.7447ms.
2018-07-13 11:00:21.068 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-13 11:00:21.079 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 12.1074ms.
2018-07-13 11:00:21.079 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 75.1651ms
2018-07-13 11:00:21.079 +07:00 [Information] Request finished in 84.4402ms 200 text/html; charset=utf-8
2018-07-13 11:00:23.518 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Edit/25?returnurl=%2FAdmin%2FCompany%2FTransportCompanyManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Dname  
2018-07-13 11:00:23.524 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Edit\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)"
2018-07-13 11:00:23.524 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 11:00:23.529 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 11:00:23.530 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)" with arguments (["25"]) - Validation state: Valid
2018-07-13 11:00:23.548 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-13 11:00:23.550 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 20.1317ms.
2018-07-13 11:00:23.553 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 11:00:23.622 +07:00 [Information] Executed ViewResult - view "Edit" executed in 71.0597ms.
2018-07-13 11:00:23.622 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)" in 98.3922ms
2018-07-13 11:00:23.622 +07:00 [Information] Request finished in 104.8846ms 200 text/html; charset=utf-8
2018-07-13 11:48:35.161 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/RouteManager  
2018-07-13 11:48:35.853 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 11:48:36.065 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 11:48:36.216 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 11:48:36.249 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 11:48:36.602 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"RouteManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.RouteManagerController.Index (TN.UI)"
2018-07-13 11:48:36.622 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.RouteManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-13 11:48:36.627 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.RouteManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4812ms.
2018-07-13 11:48:36.644 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 11:48:36.794 +07:00 [Information] Executed ViewResult - view "Index" executed in 158.2645ms.
2018-07-13 11:48:36.795 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.RouteManagerController.Index (TN.UI)" in 191.6497ms
2018-07-13 11:48:36.814 +07:00 [Information] Request finished in 1657.2409ms 200 text/html; charset=utf-8
2018-07-13 11:48:36.825 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 11:48:36.843 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 11:48:36.843 +07:00 [Information] Request finished in 18.1752ms 200 text/css
2018-07-13 11:48:36.878 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 11:48:36.880 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 11:48:36.880 +07:00 [Information] Request finished in 2.4738ms 200 application/javascript
2018-07-13 11:48:37.135 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/RouteManager application/x-www-form-urlencoded; charset=UTF-8 47
2018-07-13 11:48:37.163 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"RouteManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.RouteManagerController.IndexPost (TN.UI)"
2018-07-13 11:48:37.164 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 11:48:37.176 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 11:48:37.219 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.RouteManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "name"]) - Validation state: Valid
2018-07-13 11:48:37.249 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[BusType], [m].[Code], [m].[Color], [m].[CreatedDate], [m].[CreatedUser], [m].[DateEnd], [m].[DateStart], [m].[Fri], [m].[IsDelete], [m].[IsFri], [m].[IsMon], [m].[IsSat], [m].[IsSun], [m].[IsThu], [m].[IsTue], [m].[IsWed], [m].[Mon], [m].[Name], [m].[Note], [m].[Sat], [m].[Status], [m].[Sun], [m].[Thu], [m].[TimePeriod], [m].[Tue], [m].[UpdatedDate], [m].[UpdatedUser], [m].[Wed]
FROM [Route] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY"
2018-07-13 11:48:37.305 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Route] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-13 11:48:37.318 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.RouteManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 98.7841ms.
2018-07-13 11:48:37.325 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-13 11:48:37.333 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 9.5122ms.
2018-07-13 11:48:37.335 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.RouteManagerController.IndexPost (TN.UI)" in 172.2405ms
2018-07-13 11:48:37.337 +07:00 [Information] Request finished in 202.1179ms 200 text/html; charset=utf-8
2018-07-13 14:16:36.196 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:16:36.906 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:16:37.129 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:16:37.265 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 14:16:37.316 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 14:16:37.672 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:16:37.708 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:16:37.812 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:16:37.975 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:16:38.044 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:16:38.080 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:16:38.097 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:16:38.101 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:16:38.107 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 394.8612ms.
2018-07-13 14:16:39.662 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:16:39.864 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1741.7899ms.
2018-07-13 14:16:39.867 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 2194.8005ms
2018-07-13 14:16:39.911 +07:00 [Information] Request finished in 3717.6825ms 200 text/html; charset=utf-8
2018-07-13 14:16:39.916 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 14:16:39.921 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 14:16:39.924 +07:00 [Information] Request finished in 7.8718ms 304 text/css
2018-07-13 14:16:39.957 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 14:16:39.958 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 14:16:39.958 +07:00 [Information] Request finished in 1.0884ms 304 application/javascript
2018-07-13 14:16:41.599 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 14:16:41.613 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 14:16:41.613 +07:00 [Information] Request finished in 14.871ms 200 image/x-icon
2018-07-13 14:16:47.086 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-13 14:16:47.095 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:16:47.103 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:16:47.109 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 14:16:47.126 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 14:16:47.126 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 14:16:47.127 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 14:16:47.127 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 14:16:47.145 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.146 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.147 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.150 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.150 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.150 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.152 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.153 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.153 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.153 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.154 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.154 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.154 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.154 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.154 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.155 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.156 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.156 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 14:16:47.176 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-13 14:16:47.231 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.276 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.281 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.285 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.288 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.293 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.296 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.300 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.303 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.308 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.312 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.316 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.319 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 14:16:47.325 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 14:16:47.384 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-13 14:16:47.397 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-13 14:16:47.397 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4406ms.
2018-07-13 14:16:47.399 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 14:16:47.445 +07:00 [Information] Executed ViewResult - view "Index" executed in 46.9014ms.
2018-07-13 14:16:47.445 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 60.6558ms
2018-07-13 14:16:47.445 +07:00 [Information] Request finished in 358.9904ms 200 text/html; charset=utf-8
2018-07-13 14:16:47.469 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 14:16:47.470 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 14:16:47.470 +07:00 [Information] Request finished in 3.5764ms 304 text/css
2018-07-13 14:16:47.473 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 14:16:47.474 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 14:16:47.475 +07:00 [Information] Request finished in 1.8528ms 304 application/javascript
2018-07-13 14:16:47.633 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-13 14:16:47.652 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-13 14:16:47.654 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:16:47.660 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:16:47.696 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-13 14:16:47.753 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-13 14:16:47.823 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-13 14:16:47.840 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 143.8242ms.
2018-07-13 14:16:47.841 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-13 14:16:47.859 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 18.6675ms.
2018-07-13 14:16:47.859 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 206.8103ms
2018-07-13 14:16:47.860 +07:00 [Information] Request finished in 226.9031ms 200 text/html; charset=utf-8
2018-07-13 14:16:59.112 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:16:59.114 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:16:59.115 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:16:59.123 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:16:59.124 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:16:59.129 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:16:59.139 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:16:59.145 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:16:59.149 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:16:59.154 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:16:59.158 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:16:59.159 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.4339ms.
2018-07-13 14:16:59.159 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:16:59.160 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5673ms.
2018-07-13 14:16:59.160 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 46.1557ms
2018-07-13 14:16:59.160 +07:00 [Information] Request finished in 48.7516ms 200 text/html; charset=utf-8
2018-07-13 14:16:59.184 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 14:16:59.186 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-13 14:16:59.191 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 14:16:59.191 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-13 14:16:59.193 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-13 14:16:59.193 +07:00 [Information] Request finished in 2.0507ms 200 application/javascript
2018-07-13 14:16:59.194 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-13 14:16:59.195 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-13 14:16:59.195 +07:00 [Information] Request finished in 1.4149ms 200 application/javascript
2018-07-13 14:16:59.195 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-13 14:16:59.196 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-13 14:16:59.196 +07:00 [Information] Request finished in 0.9077ms 200 application/javascript
2018-07-13 14:16:59.196 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-13 14:16:59.197 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-13 14:16:59.197 +07:00 [Information] Request finished in 0.6766ms 200 image/jpeg
2018-07-13 14:16:59.201 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-13 14:16:59.201 +07:00 [Information] Request finished in 15.156ms 200 application/javascript
2018-07-13 14:16:59.202 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 14:16:59.202 +07:00 [Information] Request finished in 18.4469ms 200 application/javascript
2018-07-13 14:16:59.213 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 14:16:59.213 +07:00 [Information] Request finished in 21.7693ms 200 text/css
2018-07-13 14:16:59.808 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-13 14:16:59.808 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-13 14:16:59.809 +07:00 [Information] Request finished in 1.0118ms 200 image/jpeg
2018-07-13 14:17:01.250 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 14:17:01.257 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 14:17:01.258 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:17:01.265 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:17:01.266 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:17:01.283 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 17.1073ms.
2018-07-13 14:17:01.666 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 408.4319ms
2018-07-13 14:17:02.023 +07:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
jjev3cw2.hmi(224,125): error CS1031: Type expected
jjev3cw2.hmi(224,307): error CS1031: Type expected
jjev3cw2.hmi(224,489): error CS1031: Type expected
jjev3cw2.hmi(17,138): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
jjev3cw2.hmi(223,87): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
jjev3cw2.hmi(224,109): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
jjev3cw2.hmi(224,291): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
jjev3cw2.hmi(224,473): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.OnCacheMiss(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-13 14:17:02.068 +07:00 [Information] Request finished in 818.6434ms 500 text/html; charset=utf-8
2018-07-13 14:17:20.599 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 14:17:20.601 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 14:17:20.601 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:17:20.609 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:17:20.610 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:17:20.610 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0403ms.
2018-07-13 14:17:20.612 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 10.9451ms
2018-07-13 14:17:20.615 +07:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
jjev3cw2.hmi(224,125): error CS1031: Type expected
jjev3cw2.hmi(224,307): error CS1031: Type expected
jjev3cw2.hmi(224,489): error CS1031: Type expected
jjev3cw2.hmi(17,138): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
jjev3cw2.hmi(223,87): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
jjev3cw2.hmi(224,109): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
jjev3cw2.hmi(224,291): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
jjev3cw2.hmi(224,473): error CS0234: The type or namespace name 'SendEmailModel' does not exist in the namespace 'TN.Domain.Model' (are you missing an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.OnCacheMiss(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-13 14:17:20.617 +07:00 [Information] Request finished in 17.4681ms 500 text/html; charset=utf-8
2018-07-13 14:18:37.828 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:18:37.828 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:18:38.545 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:18:38.545 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:18:39.150 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:18:39.150 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:18:39.384 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:18:39.384 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:18:39.522 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:18:39.530 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:18:39.620 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:18:39.623 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:18:39.820 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:18:39.820 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:18:39.908 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:18:39.908 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:18:39.948 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:18:39.948 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:18:39.965 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:18:39.966 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:18:39.969 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:18:39.972 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:18:39.982 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 455.6448ms.
2018-07-13 14:18:39.982 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 447.7628ms.
2018-07-13 14:18:41.768 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:18:41.768 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:18:41.972 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1975.0668ms.
2018-07-13 14:18:41.973 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1977.0291ms.
2018-07-13 14:18:41.974 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 3428.5236ms
2018-07-13 14:18:41.974 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 3428.5235ms
2018-07-13 14:18:42.000 +07:00 [Information] Request finished in 4177.9935ms 200 text/html; charset=utf-8
2018-07-13 14:18:42.000 +07:00 [Information] Request finished in 4177.9936ms 200 text/html; charset=utf-8
2018-07-13 14:18:43.118 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 14:18:43.118 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 14:18:43.126 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 14:18:43.126 +07:00 [Information] Request finished in 8.0555ms 200 image/x-icon
2018-07-13 14:18:43.132 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 14:18:43.133 +07:00 [Information] Request finished in 14.8091ms 200 image/x-icon
2018-07-13 14:18:43.622 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 14:18:43.643 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 14:18:43.644 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:18:43.659 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:18:43.662 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:18:43.712 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 48.2154ms.
2018-07-13 14:18:43.731 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 14:18:43.853 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 140.8386ms.
2018-07-13 14:18:43.853 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 210.5394ms
2018-07-13 14:18:43.854 +07:00 [Information] Request finished in 231.649ms 200 text/html; charset=utf-8
2018-07-13 14:29:21.146 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:29:21.678 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:29:22.188 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:29:22.386 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:29:22.542 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:29:22.633 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:29:22.804 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:29:22.883 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:29:22.915 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:29:22.931 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:29:22.935 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:29:22.942 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 396.0146ms.
2018-07-13 14:29:22.960 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:29:23.139 +07:00 [Information] Executed ViewResult - view "Edit" executed in 183.8079ms.
2018-07-13 14:29:23.140 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1461.4402ms
2018-07-13 14:29:23.169 +07:00 [Information] Request finished in 2027.4506ms 200 text/html; charset=utf-8
2018-07-13 14:29:25.868 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 14:29:25.876 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 14:29:25.877 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:29:25.884 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:29:25.892 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 14:29:25.893 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.9009ms.
2018-07-13 14:29:25.895 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 14:29:25.947 +07:00 [Information] Executed ViewResult - view "Note" executed in 54.1358ms.
2018-07-13 14:29:25.948 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 71.1642ms
2018-07-13 14:29:25.950 +07:00 [Information] Request finished in 81.4899ms 200 text/html; charset=utf-8
2018-07-13 14:29:25.962 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 14:29:25.974 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 14:29:25.975 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:29:25.980 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:29:26.006 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 14:29:26.048 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 14:29:26.110 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 14:29:26.120 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 113.7419ms.
2018-07-13 14:29:26.125 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 14:29:26.131 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 8.7944ms.
2018-07-13 14:29:26.131 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 156.5218ms
2018-07-13 14:29:26.131 +07:00 [Information] Request finished in 169.2965ms 200 text/html; charset=utf-8
2018-07-13 14:29:28.313 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 14:29:28.322 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 14:29:28.323 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:29:28.331 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:29:28.332 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:29:28.333 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.3748ms.
2018-07-13 14:29:28.335 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 14:29:28.365 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 31.5146ms.
2018-07-13 14:29:28.365 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 42.968ms
2018-07-13 14:29:28.365 +07:00 [Information] Request finished in 52.0911ms 200 text/html; charset=utf-8
2018-07-13 14:36:50.322 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:36:50.856 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:36:51.368 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:36:51.568 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:36:51.736 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:36:51.825 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:36:51.995 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:36:52.068 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:36:52.102 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:36:52.133 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:36:52.137 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:36:52.143 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 402.6314ms.
2018-07-13 14:36:52.163 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:36:52.316 +07:00 [Information] Executed ViewResult - view "Edit" executed in 156.9753ms.
2018-07-13 14:36:52.317 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1460.3269ms
2018-07-13 14:36:52.348 +07:00 [Information] Request finished in 2031.4689ms 200 text/html; charset=utf-8
2018-07-13 14:36:54.406 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 14:36:54.427 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 14:36:54.430 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:36:54.438 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:36:54.442 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:36:54.498 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 14:36:54.503 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 61.69ms.
2018-07-13 14:36:54.505 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 14:36:54.551 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 46.809ms.
2018-07-13 14:36:54.551 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 124.4377ms
2018-07-13 14:36:54.552 +07:00 [Information] Request finished in 145.8021ms 200 text/html; charset=utf-8
2018-07-13 14:37:09.082 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-13 14:37:09.088 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-13 14:37:09.089 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:37:09.108 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:37:09.125 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-13 14:37:09.126 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.6689ms.
2018-07-13 14:37:09.128 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 14:37:09.206 +07:00 [Information] Executed ViewResult - view "Index" executed in 79.6663ms.
2018-07-13 14:37:09.206 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 118.2148ms
2018-07-13 14:37:09.206 +07:00 [Information] Request finished in 124.5298ms 200 text/html; charset=utf-8
2018-07-13 14:37:09.254 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 14:37:09.256 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 14:37:09.285 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 14:37:09.285 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 14:37:09.285 +07:00 [Information] Request finished in 31.4189ms 200 text/css
2018-07-13 14:37:09.285 +07:00 [Information] Request finished in 29.5149ms 200 application/javascript
2018-07-13 14:37:09.706 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-13 14:37:09.713 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-13 14:37:09.718 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:37:09.724 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:37:09.753 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-13 14:37:09.785 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-13 14:37:09.851 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-13 14:37:09.867 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 114.07ms.
2018-07-13 14:37:09.869 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-13 14:37:09.880 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 12.1125ms.
2018-07-13 14:37:09.880 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 166.771ms
2018-07-13 14:37:09.881 +07:00 [Information] Request finished in 175.0301ms 200 text/html; charset=utf-8
2018-07-13 14:37:17.161 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Edit/25?returnurl=%2FAdmin%2FCompany%2FTransportCompanyManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Dname  
2018-07-13 14:37:17.168 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Edit\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)"
2018-07-13 14:37:17.168 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:37:17.175 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:37:17.176 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)" with arguments (["25"]) - Validation state: Valid
2018-07-13 14:37:17.192 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-13 14:37:17.195 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 18.6124ms.
2018-07-13 14:37:17.197 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:37:17.279 +07:00 [Information] Executed ViewResult - view "Edit" executed in 84.3536ms.
2018-07-13 14:37:17.279 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)" in 111.2708ms
2018-07-13 14:37:17.280 +07:00 [Information] Request finished in 118.7575ms 200 text/html; charset=utf-8
2018-07-13 14:37:26.881 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 70
2018-07-13 14:37:26.883 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-13 14:37:26.884 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:37:26.892 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:37:26.894 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "Thanh nin", "", "asc", "name"]) - Validation state: Valid
2018-07-13 14:37:26.925 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__key_0='?' (Size = 4000), @__key_1='?' (Size = 4000), @__key_2='?' (Size = 4000), @__key_3='?' (Size = 4000), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE (((((CHARINDEX(@__key_0, [m].[Name]) > 0) OR (@__key_0 = N'')) OR ((CHARINDEX(@__key_1, [m].[PhoneFax]) > 0) OR (@__key_1 = N''))) OR ((CHARINDEX(@__key_2, [m].[Email]) > 0) OR (@__key_2 = N''))) OR ((CHARINDEX(@__key_3, [m].[Address]) > 0) OR (@__key_3 = N''))) AND ([m].[IsDelete] = 0)
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-13 14:37:26.943 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__key_0='?' (Size = 4000), @__key_1='?' (Size = 4000), @__key_2='?' (Size = 4000), @__key_3='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE (((((CHARINDEX(@__key_0, [m].[Name]) > 0) OR (@__key_0 = N'')) OR ((CHARINDEX(@__key_1, [m].[PhoneFax]) > 0) OR (@__key_1 = N''))) OR ((CHARINDEX(@__key_2, [m].[Email]) > 0) OR (@__key_2 = N''))) OR ((CHARINDEX(@__key_3, [m].[Address]) > 0) OR (@__key_3 = N''))) AND ([m].[IsDelete] = 0)"
2018-07-13 14:37:26.944 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 49.3717ms.
2018-07-13 14:37:26.944 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-13 14:37:26.944 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.5173ms.
2018-07-13 14:37:26.944 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 61.3292ms
2018-07-13 14:37:26.945 +07:00 [Information] Request finished in 63.6559ms 200 text/html; charset=utf-8
2018-07-13 14:37:28.343 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Edit/31?returnurl=%2FAdmin%2FCompany%2FTransportCompanyManager%3Fpage%3D1%26limit%3D10%26key%3DThanh%2520ni%25C3%25AAn%26ordertype%3Dasc%26orderby%3Dname  
2018-07-13 14:37:28.344 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Edit\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)"
2018-07-13 14:37:28.345 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:37:28.350 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:37:28.351 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)" with arguments (["31"]) - Validation state: Valid
2018-07-13 14:37:28.355 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-13 14:37:28.355 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 4.7005ms.
2018-07-13 14:37:28.356 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:37:28.358 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.4368ms.
2018-07-13 14:37:28.358 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)" in 13.8162ms
2018-07-13 14:37:28.358 +07:00 [Information] Request finished in 15.2571ms 200 text/html; charset=utf-8
2018-07-13 14:37:39.390 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager/Edit/31 application/x-www-form-urlencoded; charset=UTF-8 539
2018-07-13 14:37:39.409 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Edit\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.EditPost (TN.UI)"
2018-07-13 14:37:39.410 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:37:39.425 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:37:39.453 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.EditPost (TN.UI)" with arguments (["TN.Domain.Model.TransportCompanyModel", "31", ""]) - Validation state: Valid
2018-07-13 14:37:39.462 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-13 14:37:39.641 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@p13='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [TransportCompany] SET [Address] = @p0, [Code] = @p1, [CreatedDate] = @p2, [CreatedUser] = @p3, [DateIssued] = @p4, [Email] = @p5, [IsDelete] = @p6, [Name] = @p7, [Note] = @p8, [PhoneFax] = @p9, [Status] = @p10, [UpdatedDate] = @p11, [UpdatedUser] = @p12
WHERE [Id] = @p13;
SELECT @@ROWCOUNT;"
2018-07-13 14:37:39.787 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 450), @p9='?' (DbType = Int32), @p10='?' (DbType = Int64), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [adm].[Log] ([Action], [CreatedDate], [CustomObject], [Note], [Object], [ObjectId], [ObjectType], [Status], [SystemUser], [SystemUserId], [Timestamp], [Type], [ValueAfter], [ValueBefore])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT [Id]
FROM [adm].[Log]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2018-07-13 14:37:39.802 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.EditPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 349.7252ms.
2018-07-13 14:37:39.807 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 14:37:39.821 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.EditPost (TN.UI)" in 411.4054ms
2018-07-13 14:37:39.821 +07:00 [Information] Request finished in 431.3011ms 200 application/json; charset=utf-8
2018-07-13 14:37:39.836 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 70
2018-07-13 14:37:39.841 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-13 14:37:39.841 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:37:39.849 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:37:39.850 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "Thanh nin", "", "asc", "name"]) - Validation state: Valid
2018-07-13 14:37:39.858 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__key_0='?' (Size = 4000), @__key_1='?' (Size = 4000), @__key_2='?' (Size = 4000), @__key_3='?' (Size = 4000), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE (((((CHARINDEX(@__key_0, [m].[Name]) > 0) OR (@__key_0 = N'')) OR ((CHARINDEX(@__key_1, [m].[PhoneFax]) > 0) OR (@__key_1 = N''))) OR ((CHARINDEX(@__key_2, [m].[Email]) > 0) OR (@__key_2 = N''))) OR ((CHARINDEX(@__key_3, [m].[Address]) > 0) OR (@__key_3 = N''))) AND ([m].[IsDelete] = 0)
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-13 14:37:39.865 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__key_0='?' (Size = 4000), @__key_1='?' (Size = 4000), @__key_2='?' (Size = 4000), @__key_3='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE (((((CHARINDEX(@__key_0, [m].[Name]) > 0) OR (@__key_0 = N'')) OR ((CHARINDEX(@__key_1, [m].[PhoneFax]) > 0) OR (@__key_1 = N''))) OR ((CHARINDEX(@__key_2, [m].[Email]) > 0) OR (@__key_2 = N''))) OR ((CHARINDEX(@__key_3, [m].[Address]) > 0) OR (@__key_3 = N''))) AND ([m].[IsDelete] = 0)"
2018-07-13 14:37:39.866 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 15.9085ms.
2018-07-13 14:37:39.866 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-13 14:37:39.867 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.3944ms.
2018-07-13 14:37:39.867 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 25.9597ms
2018-07-13 14:37:39.867 +07:00 [Information] Request finished in 31.1103ms 200 text/html; charset=utf-8
2018-07-13 14:37:42.711 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:37:42.712 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:37:42.713 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:37:42.730 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:37:42.731 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:37:42.746 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:37:42.759 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:37:42.776 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:37:42.791 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:37:42.804 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:37:42.819 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:37:42.819 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 88.5435ms.
2018-07-13 14:37:42.819 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:37:42.821 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.488ms.
2018-07-13 14:37:42.821 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 108.9628ms
2018-07-13 14:37:42.821 +07:00 [Information] Request finished in 110.3854ms 200 text/html; charset=utf-8
2018-07-13 14:37:42.840 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 14:37:42.840 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 14:37:42.841 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 14:37:42.843 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 14:37:42.843 +07:00 [Information] Request finished in 2.7623ms 200 application/javascript
2018-07-13 14:37:42.843 +07:00 [Information] Request finished in 3.552ms 304 text/css
2018-07-13 14:37:44.891 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 14:37:44.892 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 14:37:44.892 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:37:44.899 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:37:44.900 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:37:44.905 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 14:37:44.907 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.8724ms.
2018-07-13 14:37:44.907 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 14:37:44.909 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 2.0236ms.
2018-07-13 14:37:44.909 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 17.0283ms
2018-07-13 14:37:44.909 +07:00 [Information] Request finished in 18.4912ms 200 text/html; charset=utf-8
2018-07-13 14:39:22.278 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:39:22.286 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:39:22.287 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:39:22.294 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:39:22.295 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:39:22.302 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:39:22.313 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:39:22.319 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:39:22.324 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:39:22.332 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:39:22.341 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:39:22.341 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 46.0288ms.
2018-07-13 14:39:22.341 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:39:22.342 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4143ms.
2018-07-13 14:39:22.342 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 56.195ms
2018-07-13 14:39:22.343 +07:00 [Information] Request finished in 64.4237ms 200 text/html; charset=utf-8
2018-07-13 14:39:22.364 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 14:39:22.364 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 14:39:22.365 +07:00 [Information] Request finished in 1.1546ms 304 application/javascript
2018-07-13 14:39:22.366 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 14:39:22.366 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 14:39:22.366 +07:00 [Information] Request finished in 0.6135ms 304 text/css
2018-07-13 14:39:23.365 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 14:39:23.374 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 14:39:23.374 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:39:23.384 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:39:23.384 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:39:23.392 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 14:39:23.393 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 8.017ms.
2018-07-13 14:39:25.042 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 14:39:25.062 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1669.3332ms.
2018-07-13 14:39:25.063 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 1688.9551ms
2018-07-13 14:39:25.063 +07:00 [Information] Request finished in 1698.3194ms 200 text/html; charset=utf-8
2018-07-13 14:39:36.851 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:39:36.863 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:39:36.863 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:39:36.871 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:39:36.871 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:39:36.878 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:39:36.887 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:39:36.895 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:39:36.899 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:39:36.908 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:39:36.916 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:39:36.916 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 45.1619ms.
2018-07-13 14:39:36.917 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:39:36.918 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2582ms.
2018-07-13 14:39:36.918 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 55.1489ms
2018-07-13 14:39:36.918 +07:00 [Information] Request finished in 66.6822ms 200 text/html; charset=utf-8
2018-07-13 14:39:39.405 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 14:39:39.416 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 14:39:39.417 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:39:39.426 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:39:39.427 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:39:39.438 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 14:39:39.441 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.857ms.
2018-07-13 14:39:39.795 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 14:39:39.814 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 373.083ms.
2018-07-13 14:39:39.814 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 398.2258ms
2018-07-13 14:39:39.815 +07:00 [Information] Request finished in 409.6889ms 200 text/html; charset=utf-8
2018-07-13 14:40:26.899 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 14:40:26.911 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 14:40:26.911 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:40:26.919 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:40:26.920 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:40:26.929 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 14:40:26.940 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 14:40:26.946 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:40:26.952 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:40:26.960 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 14:40:26.964 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 14:40:26.965 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 44.6436ms.
2018-07-13 14:40:26.965 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 14:40:26.966 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5987ms.
2018-07-13 14:40:26.966 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 55.6234ms
2018-07-13 14:40:26.967 +07:00 [Information] Request finished in 68.0517ms 200 text/html; charset=utf-8
2018-07-13 14:40:26.988 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 14:40:26.988 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 14:40:26.988 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 14:40:26.989 +07:00 [Information] Request finished in 0.6094ms 304 application/javascript
2018-07-13 14:40:26.989 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 14:40:26.989 +07:00 [Information] Request finished in 0.9204ms 304 text/css
2018-07-13 14:40:29.229 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 14:40:29.239 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 14:40:29.240 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 14:40:29.249 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 14:40:29.250 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 14:40:29.256 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 14:40:29.256 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.0459ms.
2018-07-13 14:40:29.508 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 14:40:29.534 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 277.2881ms.
2018-07-13 14:40:29.534 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 295.0406ms
2018-07-13 14:40:29.535 +07:00 [Information] Request finished in 305.5869ms 200 text/html; charset=utf-8
2018-07-13 15:01:40.882 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:01:41.600 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:01:41.799 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:01:41.939 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 15:01:41.971 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 15:01:42.336 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:01:42.372 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:01:42.453 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:01:42.626 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:01:42.699 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:01:42.739 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:01:42.773 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:01:42.778 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:01:42.793 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 408.3978ms.
2018-07-13 15:01:42.811 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:01:42.968 +07:00 [Information] Executed ViewResult - view "Edit" executed in 162.0179ms.
2018-07-13 15:01:42.971 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 634.7433ms
2018-07-13 15:01:43.007 +07:00 [Information] Request finished in 2129.1183ms 200 text/html; charset=utf-8
2018-07-13 15:01:43.018 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:01:43.056 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:01:43.057 +07:00 [Information] Request finished in 39.5542ms 200 text/css
2018-07-13 15:01:43.080 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:01:43.084 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:01:43.084 +07:00 [Information] Request finished in 4.1728ms 200 application/javascript
2018-07-13 15:01:44.308 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 15:01:44.309 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 15:01:44.309 +07:00 [Information] Request finished in 0.7311ms 200 image/x-icon
2018-07-13 15:01:54.643 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:01:54.647 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:01:54.653 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:01:54.660 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 15:01:54.674 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 15:01:54.674 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 15:01:54.674 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 15:01:54.674 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 15:01:54.684 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.685 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.686 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.689 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.689 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.689 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.690 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.691 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.691 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.691 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.692 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.692 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.692 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.692 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.692 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.693 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.693 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.693 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:01:54.716 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-13 15:01:54.782 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.830 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.835 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.839 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.843 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.846 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.851 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.855 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.859 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.863 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.868 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.872 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.877 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:01:54.883 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 15:01:54.950 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:01:54.960 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:01:54.966 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:01:54.977 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:01:54.982 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:01:54.988 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:01:54.995 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:01:55.001 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:01:55.002 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 41.8637ms.
2018-07-13 15:01:55.002 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:01:55.005 +07:00 [Information] Executed ViewResult - view "Edit" executed in 3.0052ms.
2018-07-13 15:01:55.005 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 55.455ms
2018-07-13 15:01:55.006 +07:00 [Information] Request finished in 362.4933ms 200 text/html; charset=utf-8
2018-07-13 15:01:55.033 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:01:55.041 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:01:55.041 +07:00 [Information] Request finished in 8.2988ms 200 text/css
2018-07-13 15:01:55.043 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:01:55.045 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:01:55.046 +07:00 [Information] Request finished in 2.9534ms 200 application/javascript
2018-07-13 15:01:56.852 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:01:56.865 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:01:56.866 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:01:56.871 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:01:56.874 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:01:56.932 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:01:56.937 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 63.296ms.
2018-07-13 15:01:56.958 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:01:57.038 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 101.2163ms.
2018-07-13 15:01:57.039 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 173.3778ms
2018-07-13 15:01:57.039 +07:00 [Information] Request finished in 186.6343ms 200 text/html; charset=utf-8
2018-07-13 15:05:24.032 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:05:24.584 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:05:25.102 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:05:25.378 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:05:25.532 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:05:25.622 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:05:25.798 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:05:25.873 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:05:25.909 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:05:25.926 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:05:25.931 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:05:25.937 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 401.7802ms.
2018-07-13 15:05:25.958 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:05:26.121 +07:00 [Information] Executed ViewResult - view "Edit" executed in 169.933ms.
2018-07-13 15:05:26.124 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1538.7058ms
2018-07-13 15:05:26.152 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:05:26.154 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:05:26.160 +07:00 [Information] Request finished in 2132.5826ms 200 text/html; charset=utf-8
2018-07-13 15:05:26.180 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:05:26.181 +07:00 [Information] Request finished in 26.6676ms 200 text/css
2018-07-13 15:05:26.221 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:05:26.221 +07:00 [Information] Request finished in 68.5545ms 200 application/javascript
2018-07-13 15:05:31.755 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:05:31.769 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:05:31.770 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:05:31.780 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:05:31.783 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:05:31.848 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:05:31.852 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 68.7067ms.
2018-07-13 15:05:31.854 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:05:31.905 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 53.2848ms.
2018-07-13 15:05:31.906 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 136.2741ms
2018-07-13 15:05:31.906 +07:00 [Information] Request finished in 150.8702ms 200 text/html; charset=utf-8
2018-07-13 15:06:03.240 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:06:03.771 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:06:04.299 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:06:04.502 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:06:04.659 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:06:04.746 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:06:04.919 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:06:05.006 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:06:05.039 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:06:05.055 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:06:05.059 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:06:05.065 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 402.6169ms.
2018-07-13 15:06:05.084 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:06:05.245 +07:00 [Information] Executed ViewResult - view "Edit" executed in 165.5954ms.
2018-07-13 15:06:05.247 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1475.5232ms
2018-07-13 15:06:05.279 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:06:05.279 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:06:05.286 +07:00 [Information] Request finished in 2052.3461ms 200 text/html; charset=utf-8
2018-07-13 15:06:05.300 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:06:05.300 +07:00 [Information] Request finished in 21.1561ms 200 text/css
2018-07-13 15:06:05.347 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:06:05.347 +07:00 [Information] Request finished in 68.1845ms 200 application/javascript
2018-07-13 15:06:09.408 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:06:09.418 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:06:09.419 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:06:09.429 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:06:09.433 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:06:09.479 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:06:09.483 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 50.0517ms.
2018-07-13 15:06:09.485 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:06:09.532 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 48.8297ms.
2018-07-13 15:06:09.532 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 114.5086ms
2018-07-13 15:06:09.533 +07:00 [Information] Request finished in 124.8533ms 200 text/html; charset=utf-8
2018-07-13 15:06:27.148 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:06:27.172 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:06:27.173 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:06:27.181 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:06:27.183 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:06:27.204 +07:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:06:27.221 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:06:27.245 +07:00 [Information] Executed DbCommand ("21"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:06:27.253 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:06:27.262 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:06:27.267 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:06:27.267 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 84.6819ms.
2018-07-13 15:06:27.268 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:06:27.270 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.2177ms.
2018-07-13 15:06:27.270 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 97.4223ms
2018-07-13 15:06:27.270 +07:00 [Information] Request finished in 122.5687ms 200 text/html; charset=utf-8
2018-07-13 15:06:27.290 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:06:27.290 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:06:27.290 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:06:27.290 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:06:27.292 +07:00 [Information] Request finished in 2.4371ms 304 application/javascript
2018-07-13 15:06:27.292 +07:00 [Information] Request finished in 2.4515ms 304 text/css
2018-07-13 15:06:28.231 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:06:28.240 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:06:28.241 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:06:28.247 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:06:28.248 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:06:28.253 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:06:28.254 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 5.8772ms.
2018-07-13 15:06:29.938 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:06:29.962 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1707.8752ms.
2018-07-13 15:06:29.962 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 1721.4974ms
2018-07-13 15:06:29.962 +07:00 [Information] Request finished in 1730.8948ms 200 text/html; charset=utf-8
2018-07-13 15:07:31.554 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:07:31.568 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:07:31.569 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:07:31.578 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:07:31.579 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:07:31.587 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:07:31.595 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:07:31.601 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:07:31.604 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:07:31.609 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:07:31.613 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:07:31.613 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.2492ms.
2018-07-13 15:07:31.613 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:07:31.615 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3735ms.
2018-07-13 15:07:31.615 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 46.2556ms
2018-07-13 15:07:31.615 +07:00 [Information] Request finished in 60.6762ms 200 text/html; charset=utf-8
2018-07-13 15:07:31.633 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:07:31.634 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:07:31.634 +07:00 [Information] Request finished in 1.3497ms 304 text/css
2018-07-13 15:07:31.635 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:07:31.635 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:07:31.638 +07:00 [Information] Request finished in 0.6317ms 304 application/javascript
2018-07-13 15:07:33.510 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:07:33.522 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:07:33.523 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:07:33.529 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:07:33.530 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:07:33.536 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:07:33.536 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.1618ms.
2018-07-13 15:07:33.894 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:07:33.915 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 378.4816ms.
2018-07-13 15:07:33.915 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 393.1108ms
2018-07-13 15:07:33.915 +07:00 [Information] Request finished in 405.9591ms 200 text/html; charset=utf-8
2018-07-13 15:07:47.350 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:07:47.359 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:07:47.360 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:07:47.367 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:07:47.367 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:07:47.376 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:07:47.384 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:07:47.393 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:07:47.401 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:07:47.410 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:07:47.416 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:07:47.417 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 49.0362ms.
2018-07-13 15:07:47.417 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:07:47.418 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2351ms.
2018-07-13 15:07:47.418 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 58.5437ms
2018-07-13 15:07:47.418 +07:00 [Information] Request finished in 67.7737ms 200 text/html; charset=utf-8
2018-07-13 15:07:47.436 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:07:47.436 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:07:47.436 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:07:47.436 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:07:47.436 +07:00 [Information] Request finished in 0.969ms 304 text/css
2018-07-13 15:07:47.437 +07:00 [Information] Request finished in 1.0598ms 304 application/javascript
2018-07-13 15:07:48.596 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:07:48.602 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:07:48.603 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:07:48.612 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:07:48.613 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:07:48.621 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:07:48.622 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 9.3011ms.
2018-07-13 15:07:48.893 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:07:48.930 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 306.9049ms.
2018-07-13 15:07:48.930 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 327.2485ms
2018-07-13 15:07:48.930 +07:00 [Information] Request finished in 333.8881ms 200 text/html; charset=utf-8
2018-07-13 15:08:00.407 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:08:00.421 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:08:00.421 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:08:00.429 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:08:00.430 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:08:00.442 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:08:00.450 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:08:00.459 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:08:00.467 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:08:00.476 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:08:00.484 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:08:00.484 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 54.4199ms.
2018-07-13 15:08:00.484 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:08:00.485 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2274ms.
2018-07-13 15:08:00.485 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 64.7536ms
2018-07-13 15:08:00.486 +07:00 [Information] Request finished in 78.9525ms 200 text/html; charset=utf-8
2018-07-13 15:08:00.501 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:08:00.501 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:08:00.502 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:08:00.502 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:08:00.502 +07:00 [Information] Request finished in 0.7008ms 304 application/javascript
2018-07-13 15:08:00.502 +07:00 [Information] Request finished in 0.9492ms 304 text/css
2018-07-13 15:08:01.463 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:08:01.470 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:08:01.471 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:08:01.476 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:08:01.477 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:08:01.485 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:08:01.486 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 9.133ms.
2018-07-13 15:08:01.766 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:08:01.794 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 307.7321ms.
2018-07-13 15:08:01.794 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 323.4559ms
2018-07-13 15:08:01.794 +07:00 [Information] Request finished in 332.2231ms 200 text/html; charset=utf-8
2018-07-13 15:08:30.158 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:08:30.706 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:08:31.227 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:08:31.430 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:08:31.596 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:08:31.697 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:08:31.874 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:08:31.957 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:08:31.993 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:08:32.013 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:08:32.017 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:08:32.024 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 423.7778ms.
2018-07-13 15:08:32.043 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:08:32.204 +07:00 [Information] Executed ViewResult - view "Edit" executed in 165.8144ms.
2018-07-13 15:08:32.206 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1498.8922ms
2018-07-13 15:08:32.231 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:08:32.233 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:08:32.236 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:08:32.236 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:08:32.239 +07:00 [Information] Request finished in 6.2887ms 304 text/css
2018-07-13 15:08:32.239 +07:00 [Information] Request finished in 7.9482ms 304 application/javascript
2018-07-13 15:08:32.242 +07:00 [Information] Request finished in 2088.7039ms 200 text/html; charset=utf-8
2018-07-13 15:08:34.028 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:08:34.038 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:08:34.039 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:08:34.048 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:08:34.052 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:08:34.097 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:08:34.101 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 48.6101ms.
2018-07-13 15:08:34.103 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:08:34.153 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 51.6799ms.
2018-07-13 15:08:34.153 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 115.2637ms
2018-07-13 15:08:34.154 +07:00 [Information] Request finished in 125.3184ms 200 text/html; charset=utf-8
2018-07-13 15:08:47.207 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:08:47.218 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:08:47.218 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:08:47.224 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:08:47.225 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:08:47.230 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:08:47.236 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:08:47.242 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:08:47.246 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:08:47.251 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:08:47.257 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:08:47.257 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.0773ms.
2018-07-13 15:08:47.257 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:08:47.259 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.0333ms.
2018-07-13 15:08:47.259 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 41.2284ms
2018-07-13 15:08:47.259 +07:00 [Information] Request finished in 52.1284ms 200 text/html; charset=utf-8
2018-07-13 15:08:48.256 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:08:48.265 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:08:48.265 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:08:48.272 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:08:48.273 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:08:48.281 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:08:48.282 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 9.4363ms.
2018-07-13 15:08:50.045 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:08:50.069 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1786.2698ms.
2018-07-13 15:08:50.069 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 1804.1046ms
2018-07-13 15:08:50.069 +07:00 [Information] Request finished in 1813.5734ms 200 text/html; charset=utf-8
2018-07-13 15:09:23.175 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Create application/x-www-form-urlencoded; charset=UTF-8 245
2018-07-13 15:09:23.177 +07:00 [Information] Request finished in 2.2125ms 404 
2018-07-13 15:09:23.194 +07:00 [Information] Connection id ""0HLF8IV8T7RA3"", Request id ""0HLF8IV8T7RA3:00000003"": the application completed without reading the entire request body.
2018-07-13 15:09:27.258 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:09:27.269 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:09:27.269 +07:00 [Information] Request finished in 12.0884ms 304 text/css
2018-07-13 15:10:06.921 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:10:07.515 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:10:08.077 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:10:08.297 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:10:08.471 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:10:08.567 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:10:08.763 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:10:08.844 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:10:08.881 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:10:08.897 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:10:08.902 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:10:08.908 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 432.6773ms.
2018-07-13 15:10:08.930 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:10:09.114 +07:00 [Information] Executed ViewResult - view "Edit" executed in 189.611ms.
2018-07-13 15:10:09.116 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1601.0865ms
2018-07-13 15:10:09.146 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:10:09.146 +07:00 [Information] Request finished in 2230.6233ms 200 text/html; charset=utf-8
2018-07-13 15:10:09.146 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:10:09.167 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:10:09.167 +07:00 [Information] Request finished in 21.5376ms 200 text/css
2018-07-13 15:10:09.215 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:10:09.215 +07:00 [Information] Request finished in 69.483ms 200 application/javascript
2018-07-13 15:10:11.078 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:10:11.090 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:10:11.091 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:10:11.098 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:10:11.102 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:10:11.147 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:10:11.154 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 52.3782ms.
2018-07-13 15:10:11.156 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:10:11.205 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 50.1614ms.
2018-07-13 15:10:11.205 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 114.4423ms
2018-07-13 15:10:11.205 +07:00 [Information] Request finished in 127.3642ms 200 text/html; charset=utf-8
2018-07-13 15:10:15.325 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 244
2018-07-13 15:10:15.336 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 15:10:15.336 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:10:15.341 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:10:15.375 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel", "0"]) - Validation state: Valid
2018-07-13 15:10:15.385 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:10:15.402 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 65.8194ms
2018-07-13 15:10:15.503 +07:00 [Error] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost(SendEmailModel model, Int32 confirmationTripsId) in D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\Areas\Route\Controllers\ConfirmationTripsController.cs:line 411
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-13 15:10:15.563 +07:00 [Information] Request finished in 238.2549ms 500 text/html; charset=utf-8
2018-07-13 15:10:18.756 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:10:18.757 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:10:18.764 +07:00 [Information] Request finished in 7.3215ms 304 text/css
2018-07-13 15:10:25.905 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:10:25.908 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:10:25.909 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:10:25.920 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:10:25.921 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:10:25.928 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:10:25.937 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:10:25.949 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:10:25.954 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:10:25.960 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:10:25.966 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:10:25.966 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 45.3366ms.
2018-07-13 15:10:25.967 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:10:25.972 +07:00 [Information] Executed ViewResult - view "Edit" executed in 5.8433ms.
2018-07-13 15:10:25.973 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 64.9197ms
2018-07-13 15:10:25.973 +07:00 [Information] Request finished in 68.8921ms 200 text/html; charset=utf-8
2018-07-13 15:10:26.043 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:10:26.044 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:10:26.044 +07:00 [Information] Request finished in 1.7617ms 304 text/css
2018-07-13 15:10:26.045 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:10:26.045 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:10:26.045 +07:00 [Information] Request finished in 0.6725ms 304 application/javascript
2018-07-13 15:10:29.158 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:10:29.159 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:10:29.160 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:10:29.166 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:10:29.167 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:10:29.173 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:10:29.174 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.6034ms.
2018-07-13 15:10:29.174 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:10:29.179 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 4.858ms.
2018-07-13 15:10:29.180 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 20.593ms
2018-07-13 15:10:29.180 +07:00 [Information] Request finished in 22.7312ms 200 text/html; charset=utf-8
2018-07-13 15:10:40.679 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 245
2018-07-13 15:10:40.680 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 15:10:40.681 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:10:40.691 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:10:40.692 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel", "0"]) - Validation state: Valid
2018-07-13 15:10:40.699 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:10:40.703 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 22.8162ms
2018-07-13 15:10:40.709 +07:00 [Error] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost(SendEmailModel model, Int32 confirmationTripsId) in D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\Areas\Route\Controllers\ConfirmationTripsController.cs:line 411
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-13 15:10:40.727 +07:00 [Information] Request finished in 48.432ms 500 text/html; charset=utf-8
2018-07-13 15:12:23.995 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/  
2018-07-13 15:12:23.995 +07:00 [Information] Request starting HTTP/1.1 DEBUG http://localhost:44396/  0
2018-07-13 15:12:24.072 +07:00 [Information] Request finished in 87.5186ms 200 
2018-07-13 15:12:24.749 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-13 15:12:25.364 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:12:25.676 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:12:25.788 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-13 15:12:25.796 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.9306ms.
2018-07-13 15:12:25.834 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 15:12:25.986 +07:00 [Information] Executed ViewResult - view "Index" executed in 168.9262ms.
2018-07-13 15:12:25.992 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 1238.0923ms
2018-07-13 15:12:26.046 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:12:26.087 +07:00 [Information] Request finished in 2101.4361ms 200 text/html; charset=utf-8
2018-07-13 15:12:26.092 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:12:26.116 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:12:26.116 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:12:26.127 +07:00 [Information] Request finished in 84.2006ms 200 text/css
2018-07-13 15:12:26.128 +07:00 [Information] Request finished in 33.9082ms 200 application/javascript
2018-07-13 15:14:24.840 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:14:24.884 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:14:24.900 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:14:24.924 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:14:25.112 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:14:29.504 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:14:54.747 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29628.7245ms.
2018-07-13 15:14:54.766 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:14:54.828 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 68.2856ms.
2018-07-13 15:14:54.832 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 29940.8862ms
2018-07-13 15:14:54.837 +07:00 [Information] Request finished in 29995.8294ms 200 text/html; charset=utf-8
2018-07-13 15:14:56.804 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 234
2018-07-13 15:14:56.822 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 15:14:56.827 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:14:56.840 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:14:56.893 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel", "0"]) - Validation state: Valid
2018-07-13 15:18:38.607 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:18:41.562 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:18:43.301 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:18:43.863 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:18:44.644 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:18:45.169 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:18:46.072 +07:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:18:46.533 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:18:46.589 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:18:46.797 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:18:46.817 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:18:46.831 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 2176.1876ms.
2018-07-13 15:18:47.016 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:18:52.578 +07:00 [Information] Executed ViewResult - view "Edit" executed in 5711.8536ms.
2018-07-13 15:18:52.579 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 11016.412ms
2018-07-13 15:18:52.654 +07:00 [Information] Request finished in 14066.4634ms 200 text/html; charset=utf-8
2018-07-13 15:18:52.717 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:18:52.717 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:18:52.743 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:18:52.744 +07:00 [Information] Request finished in 27.0573ms 200 text/css
2018-07-13 15:18:52.806 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:18:52.806 +07:00 [Information] Request finished in 89.2696ms 200 application/javascript
2018-07-13 15:18:54.981 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:18:54.996 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:18:54.997 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:18:55.009 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:18:55.017 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:18:55.060 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:18:55.064 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 47.7099ms.
2018-07-13 15:18:55.066 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:18:55.132 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 67.2571ms.
2018-07-13 15:18:55.132 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 136.2417ms
2018-07-13 15:18:55.133 +07:00 [Information] Request finished in 151.3937ms 200 text/html; charset=utf-8
2018-07-13 15:18:57.815 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 239
2018-07-13 15:18:57.825 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 15:18:57.826 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:18:57.831 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:18:57.867 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 15:18:57.917 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 15:18:57.922 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 96.4186ms
2018-07-13 15:18:58.010 +07:00 [Error] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost(SendEmailModel model) in D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\Areas\Route\Controllers\ConfirmationTripsController.cs:line 412
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-13 15:18:58.040 +07:00 [Information] Request finished in 224.8686ms 500 text/html; charset=utf-8
2018-07-13 15:19:22.816 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:19:22.833 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:19:22.834 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:19:22.844 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:19:22.845 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:19:22.853 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:19:22.867 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:19:22.885 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:22.892 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:22.902 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:22.911 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:22.911 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 66.0946ms.
2018-07-13 15:19:22.912 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:19:22.916 +07:00 [Information] Executed ViewResult - view "Edit" executed in 4.4311ms.
2018-07-13 15:19:22.916 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 83.4395ms
2018-07-13 15:19:22.917 +07:00 [Information] Request finished in 100.8328ms 200 text/html; charset=utf-8
2018-07-13 15:19:22.980 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:19:22.981 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:19:22.985 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:19:22.988 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:19:22.990 +07:00 [Information] Request finished in 4.9177ms 304 application/javascript
2018-07-13 15:19:22.990 +07:00 [Information] Request finished in 10.2762ms 304 text/css
2018-07-13 15:19:24.596 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:19:24.598 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:19:24.598 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:19:24.612 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:19:24.613 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:19:24.623 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:19:24.637 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:19:24.651 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:24.660 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:24.668 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:24.672 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:24.672 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 58.8183ms.
2018-07-13 15:19:24.672 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:19:24.673 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3515ms.
2018-07-13 15:19:24.673 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 75.7343ms
2018-07-13 15:19:24.673 +07:00 [Information] Request finished in 79.3196ms 200 text/html; charset=utf-8
2018-07-13 15:19:25.810 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:19:25.811 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:19:25.811 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:19:25.819 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:19:25.821 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:19:25.830 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:19:25.835 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:19:25.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:25.853 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:25.862 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:25.867 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:25.867 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 46.0383ms.
2018-07-13 15:19:25.867 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:19:25.868 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2439ms.
2018-07-13 15:19:25.868 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 57.3285ms
2018-07-13 15:19:25.868 +07:00 [Information] Request finished in 58.4251ms 200 text/html; charset=utf-8
2018-07-13 15:19:26.138 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:19:26.139 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:19:26.140 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:19:26.149 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:19:26.151 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:19:26.157 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:19:26.162 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:19:26.169 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:26.175 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:26.183 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:26.187 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:26.187 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.5249ms.
2018-07-13 15:19:26.188 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:19:26.189 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2628ms.
2018-07-13 15:19:26.189 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 49.7822ms
2018-07-13 15:19:26.189 +07:00 [Information] Request finished in 52.2213ms 200 text/html; charset=utf-8
2018-07-13 15:19:26.313 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:19:26.318 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:19:26.319 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:19:26.325 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:19:26.327 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:19:26.335 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:19:26.343 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:19:26.352 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:26.356 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:26.366 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:26.374 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:26.374 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 47.65ms.
2018-07-13 15:19:26.374 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:19:26.376 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3151ms.
2018-07-13 15:19:26.376 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 57.4639ms
2018-07-13 15:19:26.376 +07:00 [Information] Request finished in 62.702ms 200 text/html; charset=utf-8
2018-07-13 15:19:27.682 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:19:27.683 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:19:27.684 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:19:27.689 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:19:27.692 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:19:27.703 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:19:27.710 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:19:27.718 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:27.727 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:27.732 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:27.735 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:27.735 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.2044ms.
2018-07-13 15:19:27.735 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:19:27.736 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.1727ms.
2018-07-13 15:19:27.736 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 52.8609ms
2018-07-13 15:19:27.736 +07:00 [Information] Request finished in 54.1069ms 200 text/html; charset=utf-8
2018-07-13 15:19:27.756 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:19:27.757 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:19:27.758 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:19:27.758 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:19:27.758 +07:00 [Information] Request finished in 0.573ms 304 text/css
2018-07-13 15:19:27.758 +07:00 [Information] Request finished in 1.968ms 304 application/javascript
2018-07-13 15:19:30.929 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:19:30.942 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:19:30.942 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:19:30.949 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:19:30.953 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:19:30.960 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:19:30.961 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 7.5328ms.
2018-07-13 15:19:32.614 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 1671.948ms
2018-07-13 15:19:32.637 +07:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
ibu22p5d.dxg(416,125): error CS1031: Type expected
ibu22p5d.dxg(416,187): error CS1061: 'SendEmailModel' does not contain a definition for 'confirmationTripsId' and no extension method 'confirmationTripsId' accepting a first argument of type 'SendEmailModel' could be found (are you missing a using directive or an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.OnCacheMiss(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-13 15:19:32.641 +07:00 [Information] Request finished in 1712.2898ms 500 text/html; charset=utf-8
2018-07-13 15:19:54.796 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:19:54.796 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:19:55.835 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:19:55.836 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:19:56.779 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:19:56.780 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:19:57.169 +07:00 [Information] Executed DbCommand ("29"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:19:57.169 +07:00 [Information] Executed DbCommand ("29"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:19:57.459 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:19:57.459 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:19:57.643 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:19:57.644 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:19:57.929 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:19:57.933 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:19:58.083 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:58.085 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:58.148 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:58.149 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:58.176 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:58.177 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:19:58.181 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:58.183 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:19:58.187 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 723.8873ms.
2018-07-13 15:19:58.187 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 723.8361ms.
2018-07-13 15:19:58.210 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:19:58.210 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:19:58.395 +07:00 [Information] Executed ViewResult - view "Edit" executed in 192.8538ms.
2018-07-13 15:19:58.395 +07:00 [Information] Executed ViewResult - view "Edit" executed in 192.8538ms.
2018-07-13 15:19:58.401 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 2564.8407ms
2018-07-13 15:19:58.401 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 2565.1538ms
2018-07-13 15:19:58.438 +07:00 [Information] Request finished in 3647.5828ms 200 text/html; charset=utf-8
2018-07-13 15:19:58.438 +07:00 [Information] Request finished in 3647.5826ms 200 text/html; charset=utf-8
2018-07-13 15:19:58.469 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:19:58.480 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:19:58.506 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:19:58.507 +07:00 [Information] Request finished in 38.3975ms 200 text/css
2018-07-13 15:19:58.558 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:19:58.559 +07:00 [Information] Request finished in 78.477ms 200 application/javascript
2018-07-13 15:20:01.582 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:20:01.585 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:20:01.585 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:20:01.602 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:20:01.604 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:20:01.611 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:20:01.624 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:20:01.630 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:20:01.639 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:20:01.648 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:20:01.656 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:20:01.656 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 51.9139ms.
2018-07-13 15:20:01.656 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:20:01.658 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8608ms.
2018-07-13 15:20:01.658 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 73.4475ms
2018-07-13 15:20:01.659 +07:00 [Information] Request finished in 78.079ms 200 text/html; charset=utf-8
2018-07-13 15:20:01.678 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:20:01.678 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:20:01.679 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:20:01.680 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:20:01.681 +07:00 [Information] Request finished in 2.479ms 304 application/javascript
2018-07-13 15:20:01.681 +07:00 [Information] Request finished in 3.2904ms 304 text/css
2018-07-13 15:20:02.856 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:20:02.865 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:20:02.866 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:20:02.872 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:20:02.878 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:20:02.929 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:20:02.937 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 58.226ms.
2018-07-13 15:20:02.939 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:20:03.058 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 120.3928ms.
2018-07-13 15:20:03.058 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 192.9463ms
2018-07-13 15:20:03.062 +07:00 [Information] Request finished in 206.2295ms 200 text/html; charset=utf-8
2018-07-13 15:20:05.535 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 269
2018-07-13 15:20:05.546 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 15:20:05.546 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:20:05.552 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:20:05.587 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 15:20:05.626 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 15:20:05.805 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 15:20:06.154 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 566.991ms.
2018-07-13 15:20:06.158 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:20:06.176 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 629.766ms
2018-07-13 15:20:06.176 +07:00 [Information] Request finished in 641.136ms 200 application/json; charset=utf-8
2018-07-13 15:25:41.426 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:25:41.427 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:25:41.428 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:25:41.436 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:25:41.438 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:25:41.445 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:25:41.452 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:25:41.461 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:25:41.465 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:25:41.472 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:25:41.478 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:25:41.478 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 39.1323ms.
2018-07-13 15:25:41.478 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:25:41.479 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4842ms.
2018-07-13 15:25:41.479 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 52.0063ms
2018-07-13 15:25:41.480 +07:00 [Information] Request finished in 54.099ms 200 text/html; charset=utf-8
2018-07-13 15:25:41.518 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:25:41.519 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:25:41.520 +07:00 [Information] Request finished in 2.0996ms 304 text/css
2018-07-13 15:25:41.524 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:25:41.525 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:25:41.525 +07:00 [Information] Request finished in 0.9249ms 304 application/javascript
2018-07-13 15:25:42.630 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:25:42.632 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:25:42.632 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:25:42.638 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:25:42.641 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:25:42.650 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:25:42.652 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.6555ms.
2018-07-13 15:25:42.653 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:25:42.655 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 2.2142ms.
2018-07-13 15:25:42.655 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 23.0598ms
2018-07-13 15:25:42.655 +07:00 [Information] Request finished in 25.028ms 200 text/html; charset=utf-8
2018-07-13 15:29:21.307 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:29:21.839 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:29:22.344 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:29:22.550 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:29:22.709 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:29:22.803 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:29:22.971 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:29:23.046 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:23.084 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:23.107 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:23.114 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:23.120 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 406.3572ms.
2018-07-13 15:29:23.140 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:29:23.299 +07:00 [Information] Executed ViewResult - view "Edit" executed in 164.148ms.
2018-07-13 15:29:23.301 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1461.4372ms
2018-07-13 15:29:23.340 +07:00 [Information] Request finished in 2038.6547ms 200 text/html; charset=utf-8
2018-07-13 15:29:23.354 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:29:23.354 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:29:23.396 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:29:23.397 +07:00 [Information] Request finished in 43.0038ms 200 application/javascript
2018-07-13 15:29:23.397 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:29:23.397 +07:00 [Information] Request finished in 43.3997ms 200 text/css
2018-07-13 15:29:34.563 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:29:34.571 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:29:34.572 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:29:34.586 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:29:34.589 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:29:34.600 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:29:34.611 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:29:34.620 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:34.628 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:34.637 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:34.641 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:34.641 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 51.3674ms.
2018-07-13 15:29:34.641 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:29:34.644 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.3606ms.
2018-07-13 15:29:34.644 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 72.38ms
2018-07-13 15:29:34.644 +07:00 [Information] Request finished in 80.7983ms 200 text/html; charset=utf-8
2018-07-13 15:29:34.663 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:29:34.664 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:29:34.664 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:29:34.664 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:29:34.670 +07:00 [Information] Request finished in 6.8406ms 304 text/css
2018-07-13 15:29:34.670 +07:00 [Information] Request finished in 5.9363ms 304 application/javascript
2018-07-13 15:29:37.069 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:29:37.071 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:29:37.072 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:29:37.080 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:29:37.083 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:29:37.091 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:29:37.102 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:29:37.110 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:37.121 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:37.127 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:37.131 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:37.132 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 48.1758ms.
2018-07-13 15:29:37.132 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:29:37.133 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.1526ms.
2018-07-13 15:29:37.133 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 61.1457ms
2018-07-13 15:29:37.133 +07:00 [Information] Request finished in 64.2325ms 200 text/html; charset=utf-8
2018-07-13 15:29:37.166 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:29:37.166 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:29:37.166 +07:00 [Information] Request finished in 1.0527ms 304 application/javascript
2018-07-13 15:29:37.166 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:29:37.167 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:29:37.167 +07:00 [Information] Request finished in 0.6321ms 304 text/css
2018-07-13 15:29:38.162 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 15:29:38.174 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 15:29:38.175 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:29:38.185 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:29:38.222 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 15:29:38.251 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:29:38.444 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 15:29:38.464 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 241.6252ms.
2018-07-13 15:29:38.467 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:29:38.480 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 305.4754ms
2018-07-13 15:29:38.480 +07:00 [Information] Request finished in 318.6309ms 200 application/json; charset=utf-8
2018-07-13 15:29:39.149 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 15:29:39.152 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 15:29:39.152 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:29:39.161 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:29:39.162 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 15:29:39.170 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:29:39.183 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 15:29:39.192 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.5401ms.
2018-07-13 15:29:39.192 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:29:39.193 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 40.9721ms
2018-07-13 15:29:39.193 +07:00 [Information] Request finished in 44.0903ms 200 application/json; charset=utf-8
2018-07-13 15:29:39.865 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:29:39.868 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:29:39.869 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:29:39.878 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:29:39.879 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:29:39.887 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:29:39.894 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:29:39.903 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:39.911 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:39.920 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:39.927 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:39.927 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 47.6286ms.
2018-07-13 15:29:39.927 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:29:39.928 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3697ms.
2018-07-13 15:29:39.928 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 60.3804ms
2018-07-13 15:29:39.929 +07:00 [Information] Request finished in 63.8425ms 200 text/html; charset=utf-8
2018-07-13 15:29:46.041 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:29:46.042 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:29:46.043 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:29:46.053 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:29:46.053 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:29:46.062 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:29:46.067 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:29:46.074 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:46.079 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:46.083 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:29:46.090 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:29:46.091 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 37.421ms.
2018-07-13 15:29:46.091 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:29:46.092 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2048ms.
2018-07-13 15:29:46.092 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 49.8278ms
2018-07-13 15:29:46.092 +07:00 [Information] Request finished in 52.0237ms 200 text/html; charset=utf-8
2018-07-13 15:29:46.119 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:29:46.120 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:29:46.122 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:29:46.122 +07:00 [Information] Request finished in 2.8784ms 200 application/javascript
2018-07-13 15:29:46.126 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:29:46.126 +07:00 [Information] Request finished in 6.9597ms 200 text/css
2018-07-13 15:29:46.956 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 15:29:46.957 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 15:29:46.957 +07:00 [Information] Request finished in 1.0055ms 200 image/x-icon
2018-07-13 15:30:06.319 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 15:30:06.323 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 15:30:06.324 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:30:06.331 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:30:06.332 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 15:30:06.333 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7111ms.
2018-07-13 15:30:06.334 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 15:30:06.387 +07:00 [Information] Executed ViewResult - view "Note" executed in 53.8872ms.
2018-07-13 15:30:06.387 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 62.9893ms
2018-07-13 15:30:06.387 +07:00 [Information] Request finished in 68.5503ms 200 text/html; charset=utf-8
2018-07-13 15:30:06.414 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 15:30:06.420 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 15:30:06.421 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:30:06.426 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:30:06.428 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 15:30:06.468 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 15:30:06.535 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 15:30:06.547 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 118.2074ms.
2018-07-13 15:30:06.550 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 15:30:06.557 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 9.523ms.
2018-07-13 15:30:06.557 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 136.4417ms
2018-07-13 15:30:06.557 +07:00 [Information] Request finished in 142.6353ms 200 text/html; charset=utf-8
2018-07-13 15:30:09.740 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:30:09.747 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:30:09.747 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:30:09.756 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:30:09.758 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:30:09.799 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:30:09.803 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 45.3682ms.
2018-07-13 15:30:09.805 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:30:09.838 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 34.2013ms.
2018-07-13 15:30:09.838 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 90.5904ms
2018-07-13 15:30:09.838 +07:00 [Information] Request finished in 97.797ms 200 text/html; charset=utf-8
2018-07-13 15:31:22.831 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:31:23.379 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:31:23.970 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:31:24.159 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:31:24.325 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:31:24.415 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:31:24.592 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:31:24.667 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:31:24.715 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:31:24.740 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:31:24.744 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:31:24.751 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 420.9411ms.
2018-07-13 15:31:24.770 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:31:24.926 +07:00 [Information] Executed ViewResult - view "Edit" executed in 161.4285ms.
2018-07-13 15:31:24.928 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1548.3456ms
2018-07-13 15:31:24.982 +07:00 [Information] Request finished in 2156.9349ms 200 text/html; charset=utf-8
2018-07-13 15:31:25.005 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:31:25.011 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:31:25.039 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:31:25.039 +07:00 [Information] Request finished in 34.3566ms 200 text/css
2018-07-13 15:31:25.074 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:31:25.074 +07:00 [Information] Request finished in 62.8298ms 200 application/javascript
2018-07-13 15:31:26.583 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:31:26.592 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:31:26.598 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:31:26.612 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:31:26.618 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:31:26.674 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:31:26.684 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 66.5772ms.
2018-07-13 15:31:26.686 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:31:26.778 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 93.2337ms.
2018-07-13 15:31:26.779 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 186.5178ms
2018-07-13 15:31:26.779 +07:00 [Information] Request finished in 196.7528ms 200 text/html; charset=utf-8
2018-07-13 15:31:51.787 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 15:31:51.792 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 15:31:51.792 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:31:51.798 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:31:51.799 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 15:31:51.800 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.732ms.
2018-07-13 15:31:51.801 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 15:31:51.823 +07:00 [Information] Executed ViewResult - view "Note" executed in 23.0475ms.
2018-07-13 15:31:51.823 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 30.963ms
2018-07-13 15:31:51.823 +07:00 [Information] Request finished in 35.7706ms 200 text/html; charset=utf-8
2018-07-13 15:31:51.839 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 15:31:51.849 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 15:31:51.850 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:31:51.856 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:31:51.879 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 15:31:51.914 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 15:31:51.968 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 15:31:51.980 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 99.6226ms.
2018-07-13 15:31:51.988 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 15:31:51.994 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 14.0988ms.
2018-07-13 15:31:51.994 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 145.2056ms
2018-07-13 15:31:51.994 +07:00 [Information] Request finished in 155.1394ms 200 text/html; charset=utf-8
2018-07-13 15:31:54.365 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:31:54.366 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:31:54.366 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:31:54.372 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:31:54.372 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:31:54.379 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:31:54.380 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 7.2002ms.
2018-07-13 15:31:54.380 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:31:54.381 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1.2454ms.
2018-07-13 15:31:54.381 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 15.1857ms
2018-07-13 15:31:54.381 +07:00 [Information] Request finished in 16.5117ms 200 text/html; charset=utf-8
2018-07-13 15:39:11.111 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:39:11.846 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:39:12.054 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:39:12.199 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 15:39:12.224 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 15:39:12.225 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 15:39:12.225 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 15:39:12.225 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 15:39:12.241 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.243 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.243 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.249 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.249 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.250 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.251 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.251 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.252 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.252 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.253 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.253 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.253 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.253 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.253 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.254 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.255 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.255 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 15:39:12.276 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-13 15:39:12.338 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.384 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.388 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.392 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.395 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.399 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.402 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.407 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.411 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.414 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.419 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.423 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.427 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 15:39:12.442 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 15:39:12.872 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:39:12.908 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:39:12.983 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:39:13.139 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:39:13.504 +07:00 [Information] Executed DbCommand ("302"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:39:13.535 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:39:13.551 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:39:13.554 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:39:13.560 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 649.1013ms.
2018-07-13 15:39:13.579 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:39:13.740 +07:00 [Information] Executed ViewResult - view "Edit" executed in 166.3599ms.
2018-07-13 15:39:13.743 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 870.4467ms
2018-07-13 15:39:13.773 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:39:13.773 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:39:13.775 +07:00 [Information] Request finished in 2669.0169ms 200 text/html; charset=utf-8
2018-07-13 15:39:13.792 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:39:13.793 +07:00 [Information] Request finished in 19.5184ms 200 text/css
2018-07-13 15:39:13.836 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:39:13.836 +07:00 [Information] Request finished in 62.9786ms 200 application/javascript
2018-07-13 15:39:15.719 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:39:15.730 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:39:15.731 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:39:15.737 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:39:15.741 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:39:15.786 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:39:15.794 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 50.4276ms.
2018-07-13 15:39:15.797 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:39:15.867 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 71.7587ms.
2018-07-13 15:39:15.867 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 137.4265ms
2018-07-13 15:39:15.868 +07:00 [Information] Request finished in 148.5764ms 200 text/html; charset=utf-8
2018-07-13 15:39:54.291 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:39:54.301 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:39:54.301 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:39:54.308 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:39:54.309 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:39:54.315 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:39:54.321 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:39:54.336 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:39:54.361 +07:00 [Information] Executed DbCommand ("24"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:39:54.388 +07:00 [Information] Executed DbCommand ("26"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:39:54.408 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:39:54.408 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 98.2182ms.
2018-07-13 15:39:54.408 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:39:54.410 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8973ms.
2018-07-13 15:39:54.410 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 109.1779ms
2018-07-13 15:39:54.410 +07:00 [Information] Request finished in 119.3258ms 200 text/html; charset=utf-8
2018-07-13 15:39:54.427 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:39:54.427 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:39:54.427 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:39:54.427 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:39:54.429 +07:00 [Information] Request finished in 3.3701ms 304 application/javascript
2018-07-13 15:39:54.429 +07:00 [Information] Request finished in 2.5823ms 304 text/css
2018-07-13 15:39:56.495 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:39:56.501 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:39:56.502 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:39:56.508 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:39:56.509 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:39:56.516 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:39:56.518 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 8.9015ms.
2018-07-13 15:39:58.164 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:39:58.185 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1666.9433ms.
2018-07-13 15:39:58.185 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 1684.1191ms
2018-07-13 15:39:58.185 +07:00 [Information] Request finished in 1690.7138ms 200 text/html; charset=utf-8
2018-07-13 15:40:15.991 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:40:15.999 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:40:16.000 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:40:16.013 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:40:16.014 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:40:16.020 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:40:16.027 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:40:16.037 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:40:16.041 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:40:16.046 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:40:16.051 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:40:16.052 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 37.4119ms.
2018-07-13 15:40:16.052 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:40:16.053 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.2635ms.
2018-07-13 15:40:16.053 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 53.9783ms
2018-07-13 15:40:16.054 +07:00 [Information] Request finished in 63.5769ms 200 text/html; charset=utf-8
2018-07-13 15:40:16.071 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:40:16.071 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:40:16.071 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:40:16.071 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:40:16.072 +07:00 [Information] Request finished in 0.7152ms 304 application/javascript
2018-07-13 15:40:16.072 +07:00 [Information] Request finished in 0.8093ms 304 text/css
2018-07-13 15:40:17.278 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:40:17.286 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:40:17.286 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:40:17.292 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:40:17.293 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:40:17.299 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:40:17.299 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.0414ms.
2018-07-13 15:40:17.653 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:40:17.676 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 376.075ms.
2018-07-13 15:40:17.676 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 390.2907ms
2018-07-13 15:40:17.676 +07:00 [Information] Request finished in 397.8953ms 200 text/html; charset=utf-8
2018-07-13 15:41:42.429 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:41:42.973 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:41:43.486 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:41:43.692 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:41:43.852 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:41:43.941 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:41:44.102 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:41:44.174 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:41:44.206 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:41:44.222 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:41:44.226 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:41:44.232 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 376.8193ms.
2018-07-13 15:41:44.251 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:41:44.414 +07:00 [Information] Executed ViewResult - view "Edit" executed in 168.4036ms.
2018-07-13 15:41:44.416 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1442.3728ms
2018-07-13 15:41:44.447 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:41:44.447 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:41:44.450 +07:00 [Information] Request finished in 2026.8692ms 200 text/html; charset=utf-8
2018-07-13 15:41:44.467 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:41:44.467 +07:00 [Information] Request finished in 20.6948ms 200 text/css
2018-07-13 15:41:44.510 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:41:44.510 +07:00 [Information] Request finished in 63.1787ms 200 application/javascript
2018-07-13 15:41:46.911 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:41:46.921 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:41:46.922 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:41:46.928 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:41:46.932 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:41:46.987 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:41:46.991 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 59.5745ms.
2018-07-13 15:41:46.993 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:41:47.059 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 67.7612ms.
2018-07-13 15:41:47.061 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 139.7688ms
2018-07-13 15:41:47.061 +07:00 [Information] Request finished in 150.047ms 200 text/html; charset=utf-8
2018-07-13 15:41:57.257 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 260
2018-07-13 15:41:57.268 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 15:41:57.268 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:41:57.276 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:41:57.313 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 15:41:57.354 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 15:41:57.519 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 15:41:57.573 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 259.3925ms.
2018-07-13 15:41:57.577 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:41:57.594 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 325.8363ms
2018-07-13 15:41:57.594 +07:00 [Information] Request finished in 337.0511ms 200 application/json; charset=utf-8
2018-07-13 15:42:25.572 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:42:26.126 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:42:26.621 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:42:26.832 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:42:26.981 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:42:27.067 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:42:27.225 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:42:27.298 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:42:27.331 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:42:27.347 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:42:27.351 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:42:27.357 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 372.6926ms.
2018-07-13 15:42:27.381 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:42:27.537 +07:00 [Information] Executed ViewResult - view "Edit" executed in 160.5345ms.
2018-07-13 15:42:27.538 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1411.5959ms
2018-07-13 15:42:27.567 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:42:27.568 +07:00 [Information] Request finished in 2001.6268ms 200 text/html; charset=utf-8
2018-07-13 15:42:27.569 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:42:27.585 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:42:27.586 +07:00 [Information] Request finished in 17.2834ms 200 text/css
2018-07-13 15:42:27.623 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:42:27.623 +07:00 [Information] Request finished in 56.5425ms 200 application/javascript
2018-07-13 15:42:36.263 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:42:36.267 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:42:36.268 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:42:36.281 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:42:36.283 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:42:36.291 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:42:36.297 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:42:36.304 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:42:36.308 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:42:36.314 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:42:36.318 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:42:36.318 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.0173ms.
2018-07-13 15:42:36.319 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:42:36.321 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.5474ms.
2018-07-13 15:42:36.321 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 53.9649ms
2018-07-13 15:42:36.322 +07:00 [Information] Request finished in 58.4452ms 200 text/html; charset=utf-8
2018-07-13 15:42:36.343 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:42:36.344 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:42:36.344 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:42:36.345 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:42:36.346 +07:00 [Information] Request finished in 1.272ms 304 application/javascript
2018-07-13 15:42:36.346 +07:00 [Information] Request finished in 3.0958ms 304 text/css
2018-07-13 15:42:41.506 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 15:42:41.514 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 15:42:41.514 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:42:41.519 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:42:41.545 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-13 15:42:41.565 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:42:41.739 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 15:42:41.758 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 212.3423ms.
2018-07-13 15:42:41.762 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:42:41.776 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 261.5646ms
2018-07-13 15:42:41.776 +07:00 [Information] Request finished in 269.586ms 200 application/json; charset=utf-8
2018-07-13 15:42:42.512 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 15:42:42.514 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 15:42:42.515 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:42:42.521 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:42:42.522 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 15:42:42.526 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:42:42.540 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 15:42:42.545 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 22.9302ms.
2018-07-13 15:42:42.545 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:42:42.545 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 31.1331ms
2018-07-13 15:42:42.545 +07:00 [Information] Request finished in 33.2104ms 200 application/json; charset=utf-8
2018-07-13 15:42:43.510 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:42:43.512 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:42:43.513 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:42:43.522 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:42:43.522 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:42:43.529 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:42:43.537 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:42:43.543 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:42:43.547 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:42:43.553 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:42:43.557 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:42:43.557 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.1604ms.
2018-07-13 15:42:43.557 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:42:43.558 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.202ms.
2018-07-13 15:42:43.558 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 45.9648ms
2018-07-13 15:42:43.558 +07:00 [Information] Request finished in 48.3883ms 200 text/html; charset=utf-8
2018-07-13 15:42:43.575 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:42:43.575 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:42:43.576 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:42:43.576 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:42:43.576 +07:00 [Information] Request finished in 0.6171ms 304 text/css
2018-07-13 15:42:43.576 +07:00 [Information] Request finished in 0.5572ms 304 application/javascript
2018-07-13 15:42:44.903 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:42:44.910 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:42:44.911 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:42:44.916 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:42:44.916 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:42:44.960 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:42:44.964 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 47.9252ms.
2018-07-13 15:42:44.969 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:42:45.029 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 64.7482ms.
2018-07-13 15:42:45.030 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 119.1005ms
2018-07-13 15:42:45.030 +07:00 [Information] Request finished in 126.5744ms 200 text/html; charset=utf-8
2018-07-13 15:42:59.871 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 265
2018-07-13 15:42:59.880 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 15:42:59.881 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:42:59.886 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:42:59.898 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 15:42:59.936 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 15:43:00.044 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 15:43:00.078 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 179.906ms.
2018-07-13 15:43:00.078 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:43:00.078 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 197.8868ms
2018-07-13 15:43:00.079 +07:00 [Information] Request finished in 207.2683ms 200 application/json; charset=utf-8
2018-07-13 15:47:55.707 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:47:56.235 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:47:56.733 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:47:56.920 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:47:57.069 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:47:57.156 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:47:57.322 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:47:57.393 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:47:57.427 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:47:57.449 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:47:57.453 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:47:57.459 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 386.0263ms.
2018-07-13 15:47:57.476 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:47:57.638 +07:00 [Information] Executed ViewResult - view "Edit" executed in 165.0078ms.
2018-07-13 15:47:57.641 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1405.311ms
2018-07-13 15:47:57.667 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:47:57.667 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:47:57.671 +07:00 [Information] Request finished in 1969.3255ms 200 text/html; charset=utf-8
2018-07-13 15:47:57.685 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:47:57.686 +07:00 [Information] Request finished in 19.003ms 200 text/css
2018-07-13 15:47:57.726 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:47:57.726 +07:00 [Information] Request finished in 60.1395ms 200 application/javascript
2018-07-13 15:48:00.322 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:48:00.336 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:48:00.338 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:48:00.351 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:48:00.354 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:48:00.403 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:48:00.408 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 53.6696ms.
2018-07-13 15:48:00.412 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:48:00.482 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 73.2345ms.
2018-07-13 15:48:00.482 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 145.6901ms
2018-07-13 15:48:00.482 +07:00 [Information] Request finished in 160.2939ms 200 text/html; charset=utf-8
2018-07-13 15:48:10.405 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 270
2018-07-13 15:48:10.416 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 15:48:10.416 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:48:10.437 +07:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:48:10.466 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 15:48:10.503 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 15:48:10.662 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 15:48:10.703 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 236.4872ms.
2018-07-13 15:48:10.707 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:48:10.724 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 307.6747ms
2018-07-13 15:48:10.724 +07:00 [Information] Request finished in 320.3081ms 200 application/json; charset=utf-8
2018-07-13 15:48:36.129 +07:00 [Information] Request starting HTTP/1.1 DEBUG http://localhost:44396/  0
2018-07-13 15:48:36.195 +07:00 [Information] Request finished in 70.8403ms 200 
2018-07-13 15:48:36.129 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/  
2018-07-13 15:48:37.050 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:48:37.307 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:48:37.479 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 15:48:37.523 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 15:48:38.004 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-13 15:48:38.025 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-13 15:48:38.036 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.9559ms.
2018-07-13 15:48:38.066 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-13 15:48:38.239 +07:00 [Information] Executed ViewResult - view "Index" executed in 184.7736ms.
2018-07-13 15:48:38.251 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 235.225ms
2018-07-13 15:48:38.317 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:48:38.351 +07:00 [Information] Request finished in 2228.7085ms 200 text/html; charset=utf-8
2018-07-13 15:48:38.356 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:48:38.412 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 15:48:38.412 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 15:48:38.428 +07:00 [Information] Request finished in 141.3023ms 200 text/css
2018-07-13 15:48:38.428 +07:00 [Information] Request finished in 67.177ms 200 application/javascript
2018-07-13 15:48:44.866 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 15:48:44.904 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 15:48:44.916 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:48:44.937 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:48:45.071 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:48:45.218 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 15:48:45.433 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 353.7366ms.
2018-07-13 15:48:45.449 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 15:48:45.510 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 60.9116ms.
2018-07-13 15:48:45.516 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 605.9728ms
2018-07-13 15:48:45.522 +07:00 [Information] Request finished in 656.0069ms 200 text/html; charset=utf-8
2018-07-13 15:48:49.208 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 267
2018-07-13 15:48:49.224 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 15:48:49.228 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:48:49.239 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:48:49.280 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 15:48:49.316 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 15:48:49.520 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 15:48:59.979 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 10695.9362ms.
2018-07-13 15:48:59.994 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:49:00.032 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 10804.7348ms
2018-07-13 15:49:00.036 +07:00 [Information] Request finished in 10831.2244ms 200 application/json; charset=utf-8
2018-07-13 15:52:24.161 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:52:24.692 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:52:25.202 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:52:25.398 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:52:25.547 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:52:25.633 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:52:25.800 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:52:25.870 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:52:25.904 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:52:25.920 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:52:25.926 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:52:25.932 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 381.2305ms.
2018-07-13 15:52:27.479 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:52:27.629 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1682.916ms.
2018-07-13 15:52:27.631 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 2938.2077ms
2018-07-13 15:52:27.660 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:52:27.660 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:52:27.662 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:52:27.662 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:52:27.664 +07:00 [Information] Request finished in 4.4548ms 304 application/javascript
2018-07-13 15:52:27.664 +07:00 [Information] Request finished in 4.4549ms 304 text/css
2018-07-13 15:52:27.673 +07:00 [Information] Request finished in 3516.8453ms 200 text/html; charset=utf-8
2018-07-13 15:53:29.972 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 15:53:29.994 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 15:53:29.995 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:53:30.001 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:53:30.002 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 15:53:30.008 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:53:30.015 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 15:53:30.021 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:53:30.026 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:53:30.031 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 15:53:30.035 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 15:53:30.035 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.6965ms.
2018-07-13 15:53:30.337 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 15:53:30.353 +07:00 [Information] Executed ViewResult - view "Edit" executed in 317.4938ms.
2018-07-13 15:53:30.353 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 358.8094ms
2018-07-13 15:53:30.354 +07:00 [Information] Request finished in 381.3893ms 200 text/html; charset=utf-8
2018-07-13 15:53:30.375 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 15:53:30.376 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 15:53:30.376 +07:00 [Information] Request finished in 1.6167ms 304 application/javascript
2018-07-13 15:53:30.376 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 15:53:30.376 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 15:53:30.377 +07:00 [Information] Request finished in 0.479ms 304 text/css
2018-07-13 15:56:22.089 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 15:56:22.097 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 15:56:22.098 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 15:56:22.104 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 15:56:22.127 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-13 15:56:22.148 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 15:56:22.316 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 15:56:22.333 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 205.4718ms.
2018-07-13 15:56:22.337 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 15:56:22.352 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 254.1204ms
2018-07-13 15:56:22.352 +07:00 [Information] Request finished in 263.3096ms 200 application/json; charset=utf-8
2018-07-13 16:04:40.975 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:04:40.977 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 16:04:40.977 +07:00 [Information] Request finished in 1.6915ms 304 text/css
2018-07-13 16:18:04.630 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 16:18:05.330 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:18:05.525 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:18:05.662 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 16:18:05.688 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 16:18:05.689 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 16:18:05.690 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 16:18:05.690 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 16:18:05.708 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.709 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.710 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.713 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.714 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.714 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.715 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.716 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.716 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.716 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.717 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.717 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.717 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.717 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.717 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.718 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.719 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.719 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 16:18:05.739 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-13 16:18:05.792 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.832 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.836 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.840 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.844 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.848 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.851 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.856 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.860 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.864 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.867 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.871 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.875 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 16:18:05.890 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 16:18:06.299 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:18:06.336 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:18:06.410 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:18:06.577 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:18:06.640 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:18:06.673 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:18:06.691 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:18:06.695 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:18:06.701 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 361.5475ms.
2018-07-13 16:18:06.719 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:18:06.878 +07:00 [Information] Executed ViewResult - view "Edit" executed in 163.883ms.
2018-07-13 16:18:06.881 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 581.7491ms
2018-07-13 16:18:06.904 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 16:18:06.904 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:18:06.918 +07:00 [Information] Request finished in 2293.7386ms 200 text/html; charset=utf-8
2018-07-13 16:18:06.932 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 16:18:06.933 +07:00 [Information] Request finished in 28.4913ms 200 application/javascript
2018-07-13 16:18:06.935 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 16:18:06.935 +07:00 [Information] Request finished in 30.3691ms 200 text/css
2018-07-13 16:18:12.324 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 16:18:12.334 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 16:18:12.335 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:18:12.340 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:18:12.344 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:18:12.380 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 16:18:12.385 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 41.2624ms.
2018-07-13 16:18:12.387 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 16:18:12.444 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 58.2844ms.
2018-07-13 16:18:12.445 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 110.9222ms
2018-07-13 16:18:12.447 +07:00 [Information] Request finished in 122.3746ms 200 text/html; charset=utf-8
2018-07-13 16:18:15.769 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 266
2018-07-13 16:18:15.779 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 16:18:15.780 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:18:15.785 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:18:15.817 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 16:18:15.854 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 16:18:15.865 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:18:15.871 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:18:15.875 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:18:15.881 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:18:15.885 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:18:16.040 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 16:18:16.079 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 261.3968ms.
2018-07-13 16:18:16.082 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 16:18:16.098 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 318.1144ms
2018-07-13 16:18:16.098 +07:00 [Information] Request finished in 328.978ms 200 application/json; charset=utf-8
2018-07-13 16:25:10.050 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 16:25:10.610 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 16:25:11.207 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:25:11.417 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:25:11.607 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:25:11.691 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 16:25:11.841 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 228.3698ms.
2018-07-13 16:25:11.860 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 16:25:11.959 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 104.2906ms.
2018-07-13 16:25:11.961 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 1350.1778ms
2018-07-13 16:25:11.981 +07:00 [Information] Request finished in 1937.1238ms 200 text/html; charset=utf-8
2018-07-13 16:25:14.280 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 257
2018-07-13 16:25:14.293 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 16:25:14.294 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:25:14.300 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:25:14.337 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 16:25:14.369 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 16:25:14.399 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:25:14.470 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:25:14.504 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:25:14.519 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:25:14.524 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:25:14.677 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 16:25:14.716 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 378.7095ms.
2018-07-13 16:25:14.720 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 16:25:14.737 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 444.1449ms
2018-07-13 16:25:14.738 +07:00 [Information] Request finished in 458.1466ms 200 application/json; charset=utf-8
2018-07-13 16:28:00.941 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 16:28:01.470 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:28:02.003 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:28:02.237 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:28:02.399 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:28:02.499 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:28:02.677 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:28:02.754 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:28:02.788 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:28:02.813 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:28:02.818 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:28:02.824 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 420.845ms.
2018-07-13 16:28:02.842 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:28:02.994 +07:00 [Information] Executed ViewResult - view "Edit" executed in 157.0799ms.
2018-07-13 16:28:02.995 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1524.8146ms
2018-07-13 16:28:03.028 +07:00 [Information] Request finished in 2092.4544ms 200 text/html; charset=utf-8
2018-07-13 16:28:03.029 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:28:03.029 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 16:28:03.031 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 16:28:03.031 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 16:28:03.032 +07:00 [Information] Request finished in 3.8867ms 304 application/javascript
2018-07-13 16:28:03.032 +07:00 [Information] Request finished in 3.885ms 304 text/css
2018-07-13 16:28:08.601 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 16:28:08.613 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 16:28:08.614 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:28:08.623 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:28:08.628 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:28:08.673 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 16:28:08.680 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 51.771ms.
2018-07-13 16:28:08.684 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 16:28:08.747 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 67.4222ms.
2018-07-13 16:28:08.748 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 134.9026ms
2018-07-13 16:28:08.748 +07:00 [Information] Request finished in 146.8528ms 200 text/html; charset=utf-8
2018-07-13 16:28:11.005 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 257
2018-07-13 16:28:11.014 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 16:28:11.015 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:28:11.021 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:28:11.056 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 16:28:11.090 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 16:28:11.100 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:28:11.105 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:28:11.109 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:28:11.115 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:28:11.119 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:28:11.275 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 16:28:11.313 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 256.2471ms.
2018-07-13 16:28:11.317 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 16:28:11.333 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 318.9431ms
2018-07-13 16:28:11.333 +07:00 [Information] Request finished in 328.3515ms 200 application/json; charset=utf-8
2018-07-13 16:30:07.350 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 16:30:07.889 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:30:08.407 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:30:08.626 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:30:08.785 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:30:08.879 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:30:09.044 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:30:09.121 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:30:09.155 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:30:09.173 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:30:09.178 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:30:09.184 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 394.7929ms.
2018-07-13 16:30:09.206 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:30:09.380 +07:00 [Information] Executed ViewResult - view "Edit" executed in 181.9047ms.
2018-07-13 16:30:09.382 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1493.1604ms
2018-07-13 16:30:09.412 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:30:09.412 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 16:30:09.414 +07:00 [Information] Request finished in 2068.6738ms 200 text/html; charset=utf-8
2018-07-13 16:30:09.415 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 16:30:09.415 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 16:30:09.417 +07:00 [Information] Request finished in 4.648ms 304 text/css
2018-07-13 16:30:09.417 +07:00 [Information] Request finished in 4.648ms 304 application/javascript
2018-07-13 16:30:11.186 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 16:30:11.203 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 16:30:11.205 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:30:11.212 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:30:11.223 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:30:11.263 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 16:30:11.271 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 48.6158ms.
2018-07-13 16:30:11.273 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 16:30:11.341 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 69.0297ms.
2018-07-13 16:30:11.341 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 137.6836ms
2018-07-13 16:30:11.342 +07:00 [Information] Request finished in 156.4449ms 200 text/html; charset=utf-8
2018-07-13 16:30:12.285 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 257
2018-07-13 16:30:12.296 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 16:30:12.296 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:30:12.302 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:30:12.336 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 16:30:12.369 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 16:30:12.379 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:30:12.385 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:30:12.390 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:30:12.395 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:30:12.400 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:30:12.558 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 16:30:12.604 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 267.4579ms.
2018-07-13 16:30:12.608 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 16:30:12.624 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 328.0943ms
2018-07-13 16:30:12.624 +07:00 [Information] Request finished in 340.0505ms 200 application/json; charset=utf-8
2018-07-13 16:30:16.347 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 16:30:16.350 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:30:16.352 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:30:16.359 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:30:16.360 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:30:16.366 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:30:16.372 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:30:16.378 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:30:16.383 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:30:16.388 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:30:16.392 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:30:16.392 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.624ms.
2018-07-13 16:30:16.393 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:30:16.394 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.9002ms.
2018-07-13 16:30:16.395 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 44.3884ms
2018-07-13 16:30:16.395 +07:00 [Information] Request finished in 47.3366ms 200 text/html; charset=utf-8
2018-07-13 16:33:11.935 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 16:33:12.459 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:33:12.961 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:33:13.162 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:33:13.311 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:33:13.392 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:33:13.548 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:33:13.622 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:33:13.663 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:33:13.688 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:33:13.701 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:33:13.707 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 392.6763ms.
2018-07-13 16:33:13.726 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:33:13.880 +07:00 [Information] Executed ViewResult - view "Edit" executed in 158.9813ms.
2018-07-13 16:33:13.882 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1422.1831ms
2018-07-13 16:33:13.910 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:33:13.911 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 16:33:13.916 +07:00 [Information] Request finished in 1985.4706ms 200 text/html; charset=utf-8
2018-07-13 16:33:13.932 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 16:33:13.932 +07:00 [Information] Request finished in 22.0905ms 200 text/css
2018-07-13 16:33:13.969 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 16:33:13.969 +07:00 [Information] Request finished in 58.1825ms 200 application/javascript
2018-07-13 16:33:16.131 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 16:33:16.140 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 16:33:16.141 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:33:16.154 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:33:16.161 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:33:16.221 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 16:33:16.239 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 77.6654ms.
2018-07-13 16:33:16.272 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 16:33:16.368 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 128.6118ms.
2018-07-13 16:33:16.368 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 227.839ms
2018-07-13 16:33:16.369 +07:00 [Information] Request finished in 237.3858ms 200 text/html; charset=utf-8
2018-07-13 16:33:17.476 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 257
2018-07-13 16:33:17.488 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 16:33:17.488 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:33:17.494 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:33:17.528 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 16:33:17.560 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 16:33:17.570 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:33:17.575 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:33:17.580 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:33:17.586 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:33:17.590 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:33:17.737 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 16:33:17.794 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 266.0542ms.
2018-07-13 16:33:17.799 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 16:33:17.818 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 330.4258ms
2018-07-13 16:33:17.818 +07:00 [Information] Request finished in 341.9832ms 200 application/json; charset=utf-8
2018-07-13 16:33:38.718 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 16:33:38.724 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:33:38.735 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:33:38.789 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 16:33:38.825 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 16:33:38.837 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:33:38.839 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:33:38.845 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:33:38.850 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:33:38.856 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:33:38.860 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:33:38.865 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:33:38.869 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:33:38.869 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.9282ms.
2018-07-13 16:33:38.869 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:33:38.875 +07:00 [Information] Executed ViewResult - view "Edit" executed in 5.7871ms.
2018-07-13 16:33:38.875 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 38.1136ms
2018-07-13 16:33:38.875 +07:00 [Information] Request finished in 157.3186ms 200 text/html; charset=utf-8
2018-07-13 16:33:38.910 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:33:38.914 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 16:33:38.914 +07:00 [Information] Request finished in 4.1133ms 200 text/css
2018-07-13 16:33:38.952 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 16:33:38.954 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 16:33:38.954 +07:00 [Information] Request finished in 2.6977ms 200 application/javascript
2018-07-13 16:36:25.157 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 16:36:25.157 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 16:36:25.797 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 16:36:25.797 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:36:26.441 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:36:26.441 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:36:26.692 +07:00 [Information] Executed DbCommand ("21"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:36:26.692 +07:00 [Information] Executed DbCommand ("21"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:36:26.888 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:36:26.888 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:36:27.000 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:36:27.000 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 16:36:27.176 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 281.7161ms.
2018-07-13 16:36:27.201 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 16:36:27.201 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:36:27.293 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:36:27.322 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 130.0178ms.
2018-07-13 16:36:27.325 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 1526.8898ms
2018-07-13 16:36:27.338 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:36:27.353 +07:00 [Information] Request finished in 2200.1701ms 200 text/html; charset=utf-8
2018-07-13 16:36:27.364 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:36:27.371 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:36:27.372 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 481.3638ms.
2018-07-13 16:36:27.375 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:36:27.488 +07:00 [Information] Executed ViewResult - view "Edit" executed in 115.6467ms.
2018-07-13 16:36:27.488 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1689.9117ms
2018-07-13 16:36:27.488 +07:00 [Information] Request finished in 2335.885ms 200 text/html; charset=utf-8
2018-07-13 16:36:27.514 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:36:27.514 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 16:36:27.516 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 16:36:27.516 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 16:36:27.518 +07:00 [Information] Request finished in 4.7368ms 304 text/css
2018-07-13 16:36:27.519 +07:00 [Information] Request finished in 5.082ms 304 application/javascript
2018-07-13 16:36:29.067 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 16:36:29.069 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 16:36:29.070 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:36:29.080 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:36:29.085 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:36:29.097 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 16:36:29.101 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 15.0841ms.
2018-07-13 16:36:29.101 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 16:36:29.104 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 3.3823ms.
2018-07-13 16:36:29.105 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 35.3249ms
2018-07-13 16:36:29.105 +07:00 [Information] Request finished in 37.9252ms 200 text/html; charset=utf-8
2018-07-13 16:36:30.582 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 257
2018-07-13 16:36:30.615 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 16:36:30.617 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:36:30.633 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:36:30.705 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 16:36:30.744 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 16:36:30.755 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:36:30.761 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:36:30.765 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:36:30.771 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:36:30.776 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:36:30.971 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 16:36:31.017 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 312.164ms.
2018-07-13 16:36:31.022 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 16:36:31.039 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 423.0592ms
2018-07-13 16:36:31.039 +07:00 [Information] Request finished in 457.2847ms 200 application/json; charset=utf-8
2018-07-13 16:36:46.894 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 16:36:46.903 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:36:46.904 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:36:46.915 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:36:46.917 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:36:46.924 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:36:46.932 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:36:46.940 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:36:46.945 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:36:46.956 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:36:46.961 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:36:46.962 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 44.7682ms.
2018-07-13 16:36:46.962 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:36:46.964 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.2165ms.
2018-07-13 16:36:46.964 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 60.4506ms
2018-07-13 16:36:46.964 +07:00 [Information] Request finished in 70.6421ms 200 text/html; charset=utf-8
2018-07-13 16:36:47.038 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:36:47.039 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 16:36:47.040 +07:00 [Information] Request finished in 1.9864ms 304 text/css
2018-07-13 16:36:47.092 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 16:36:47.094 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 16:36:47.094 +07:00 [Information] Request finished in 2.4532ms 304 application/javascript
2018-07-13 16:37:51.824 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 16:37:52.352 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:37:52.889 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:37:53.107 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:37:53.275 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:37:53.375 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:37:53.556 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:37:53.632 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:37:53.665 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:37:53.681 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:37:53.686 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:37:53.692 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 412.6994ms.
2018-07-13 16:37:53.710 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:37:53.858 +07:00 [Information] Executed ViewResult - view "Edit" executed in 152.5338ms.
2018-07-13 16:37:53.860 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1506.8694ms
2018-07-13 16:37:53.888 +07:00 [Information] Request finished in 2069.8502ms 200 text/html; charset=utf-8
2018-07-13 16:37:53.891 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 16:37:53.892 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:37:53.894 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 16:37:53.894 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 16:37:53.897 +07:00 [Information] Request finished in 4.6478ms 304 text/css
2018-07-13 16:37:53.897 +07:00 [Information] Request finished in 5.5291ms 304 application/javascript
2018-07-13 16:42:26.801 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 16:42:27.333 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 16:42:27.846 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:42:28.049 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:42:28.205 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 16:42:28.298 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 16:42:28.460 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 16:42:28.534 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:42:28.567 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:42:28.583 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 16:42:28.598 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 16:42:28.605 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 396.2825ms.
2018-07-13 16:42:28.624 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 16:42:28.782 +07:00 [Information] Executed ViewResult - view "Edit" executed in 163.7203ms.
2018-07-13 16:42:28.784 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1450.4391ms
2018-07-13 16:42:28.809 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 16:42:28.810 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 16:42:28.815 +07:00 [Information] Request finished in 2018.5958ms 200 text/html; charset=utf-8
2018-07-13 16:42:28.824 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 16:42:28.824 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 16:42:28.824 +07:00 [Information] Request finished in 14.7721ms 200 text/css
2018-07-13 16:42:28.824 +07:00 [Information] Request finished in 13.97ms 200 application/javascript
2018-07-13 16:46:11.143 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 16:46:11.151 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 16:46:11.152 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:46:11.161 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:46:11.166 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 16:46:11.167 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.2886ms.
2018-07-13 16:46:11.170 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 16:46:11.223 +07:00 [Information] Executed ViewResult - view "Note" executed in 55.9407ms.
2018-07-13 16:46:11.224 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 72.6303ms
2018-07-13 16:46:11.225 +07:00 [Information] Request finished in 82.2341ms 200 text/html; charset=utf-8
2018-07-13 16:46:11.239 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 16:46:11.252 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 16:46:11.252 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 16:46:11.258 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 16:46:11.289 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 16:46:11.349 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 16:46:11.412 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 16:46:11.419 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 129.7016ms.
2018-07-13 16:46:11.421 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 16:46:11.429 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 9.5695ms.
2018-07-13 16:46:11.430 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 177.7104ms
2018-07-13 16:46:11.430 +07:00 [Information] Request finished in 191.4811ms 200 text/html; charset=utf-8
2018-07-13 17:24:23.211 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 17:24:23.887 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:24:24.085 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:24:24.216 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 17:24:24.246 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 17:24:24.247 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 17:24:24.247 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 17:24:24.248 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 17:24:24.267 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.268 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.269 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.272 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.273 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.273 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.274 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.274 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.275 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.275 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.275 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.275 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.276 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.276 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.277 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.277 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.278 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.278 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:24:24.298 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-13 17:24:24.350 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.393 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.402 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.406 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.410 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.414 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.418 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.421 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.425 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.428 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.433 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.436 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.439 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:24:24.456 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 17:24:24.859 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:24:24.895 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:24:24.970 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:24:25.129 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:24:25.199 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:24:25.232 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:24:25.247 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:24:25.253 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:24:25.259 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 360.2621ms.
2018-07-13 17:24:25.278 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:24:25.427 +07:00 [Information] Executed ViewResult - view "Edit" executed in 153.8794ms.
2018-07-13 17:24:25.430 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 571.0781ms
2018-07-13 17:24:25.467 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:24:25.467 +07:00 [Information] Request finished in 2261.1331ms 200 text/html; charset=utf-8
2018-07-13 17:24:25.469 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:24:25.490 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 17:24:25.491 +07:00 [Information] Request finished in 24.1045ms 200 application/javascript
2018-07-13 17:24:25.491 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 17:24:25.491 +07:00 [Information] Request finished in 22.4624ms 200 text/css
2018-07-13 17:24:30.369 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-13 17:24:30.379 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-13 17:24:30.380 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:24:30.386 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:24:30.442 +07:00 [Information] Antiforgery token validation failed. "The required antiforgery header value \"RequestVerificationToken\" is not present."
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery header value "RequestVerificationToken" is not present.
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2018-07-13 17:24:30.442 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter"'.
2018-07-13 17:24:30.448 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 400
2018-07-13 17:24:30.448 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 68.9263ms
2018-07-13 17:24:30.451 +07:00 [Information] Request finished in 81.7696ms 400 
2018-07-13 17:24:33.453 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:24:33.454 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 17:24:33.455 +07:00 [Information] Request finished in 2.2544ms 304 text/css
2018-07-13 17:24:44.144 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 17:24:44.153 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:24:44.153 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:24:44.164 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:24:44.169 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:24:44.178 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:24:44.188 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:24:44.197 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:24:44.206 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:24:44.211 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:24:44.217 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:24:44.218 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 48.9708ms.
2018-07-13 17:24:44.220 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:24:44.226 +07:00 [Information] Executed ViewResult - view "Edit" executed in 6.1436ms.
2018-07-13 17:24:44.226 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 72.9612ms
2018-07-13 17:24:44.226 +07:00 [Information] Request finished in 82.1813ms 200 text/html; charset=utf-8
2018-07-13 17:24:44.272 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:24:44.273 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:24:44.273 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 17:24:44.273 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 17:24:44.273 +07:00 [Information] Request finished in 0.5855ms 304 text/css
2018-07-13 17:24:44.273 +07:00 [Information] Request finished in 0.8323ms 304 application/javascript
2018-07-13 17:24:46.568 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-13 17:24:46.569 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-13 17:24:46.570 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:24:46.583 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:24:46.585 +07:00 [Information] Antiforgery token validation failed. "The required antiforgery header value \"RequestVerificationToken\" is not present."
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery header value "RequestVerificationToken" is not present.
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2018-07-13 17:24:46.586 +07:00 [Information] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter"'.
2018-07-13 17:24:46.586 +07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 400
2018-07-13 17:24:46.586 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 16.5188ms
2018-07-13 17:24:46.586 +07:00 [Information] Request finished in 18.021ms 400 
2018-07-13 17:26:09.477 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 17:26:09.500 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:26:09.501 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:26:09.824 +07:00 [Information] Executed DbCommand ("321"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:26:09.827 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:26:10.187 +07:00 [Information] Executed DbCommand ("357"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:26:10.201 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:26:10.216 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:26:10.227 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:26:10.244 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:26:10.258 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:26:10.259 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 431.172ms.
2018-07-13 17:26:16.456 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:26:16.556 +07:00 [Information] Executed ViewResult - view "Edit" executed in 6296.0869ms.
2018-07-13 17:26:16.557 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 7056.7192ms
2018-07-13 17:26:16.557 +07:00 [Information] Request finished in 7080.7765ms 200 text/html; charset=utf-8
2018-07-13 17:26:16.683 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:26:16.690 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 17:26:16.690 +07:00 [Information] Request finished in 7.4234ms 304 application/javascript
2018-07-13 17:26:16.698 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:26:16.699 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 17:26:16.699 +07:00 [Information] Request finished in 0.6871ms 304 text/css
2018-07-13 17:26:21.660 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 17:26:21.662 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:26:21.662 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:26:21.670 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:26:21.672 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:26:21.678 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:26:21.689 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:26:21.702 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:26:21.708 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:26:21.719 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:26:21.724 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:26:21.724 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 51.92ms.
2018-07-13 17:26:21.724 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:26:21.725 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3615ms.
2018-07-13 17:26:21.726 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 63.5212ms
2018-07-13 17:26:21.726 +07:00 [Information] Request finished in 65.2894ms 200 text/html; charset=utf-8
2018-07-13 17:26:25.315 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 17:26:25.317 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:26:25.318 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:26:25.328 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:26:25.330 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:26:25.344 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:26:25.360 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:26:25.376 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:26:25.391 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:26:25.406 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:26:25.420 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:26:25.420 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 90.1935ms.
2018-07-13 17:26:25.420 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:26:25.422 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4032ms.
2018-07-13 17:26:25.422 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 104.457ms
2018-07-13 17:26:25.422 +07:00 [Information] Request finished in 107.2246ms 200 text/html; charset=utf-8
2018-07-13 17:26:29.042 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-13 17:26:29.054 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-13 17:26:29.055 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:26:29.064 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:26:29.065 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:26:29.094 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-13 17:26:29.113 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:26:29.129 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:26:29.145 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:26:29.160 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:26:29.174 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:26:29.176 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 111.1253ms.
2018-07-13 17:26:29.181 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:26:29.194 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 139.4589ms
2018-07-13 17:26:29.194 +07:00 [Information] Request finished in 153.4534ms 200 application/json; charset=utf-8
2018-07-13 17:27:49.749 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 17:27:50.343 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:27:51.053 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:27:51.262 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:27:51.427 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:27:51.874 +07:00 [Information] Executed DbCommand ("365"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:27:52.070 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:27:52.148 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:27:52.185 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:27:52.201 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:27:52.206 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:27:52.212 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 781.6531ms.
2018-07-13 17:27:52.238 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:27:52.413 +07:00 [Information] Executed ViewResult - view "Edit" executed in 182.2109ms.
2018-07-13 17:27:52.415 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 2070.2261ms
2018-07-13 17:27:52.454 +07:00 [Information] Request finished in 2711.7472ms 200 text/html; charset=utf-8
2018-07-13 17:27:52.466 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:27:52.466 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:27:52.490 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 17:27:52.491 +07:00 [Information] Request finished in 24.7985ms 200 text/css
2018-07-13 17:27:52.545 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 17:27:52.545 +07:00 [Information] Request finished in 79.5559ms 200 application/javascript
2018-07-13 17:27:55.252 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-13 17:27:55.264 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-13 17:27:55.265 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:27:55.273 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:27:55.282 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:27:55.302 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-13 17:27:55.329 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:27:55.345 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:27:55.350 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:27:55.361 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:27:55.375 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:27:55.378 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 96.1911ms.
2018-07-13 17:27:55.382 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:27:55.397 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 132.8673ms
2018-07-13 17:27:55.398 +07:00 [Information] Request finished in 146.8332ms 200 application/json; charset=utf-8
2018-07-13 17:30:01.659 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:30:01.660 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 17:30:01.664 +07:00 [Information] Request finished in 4.0401ms 304 text/css
2018-07-13 17:30:08.142 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 17:30:08.145 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:30:08.147 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:30:08.156 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:30:08.163 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:30:08.170 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:30:08.182 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:30:08.188 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:30:08.197 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:30:08.205 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:30:08.210 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:30:08.210 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 47.127ms.
2018-07-13 17:30:08.211 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:30:08.213 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.5415ms.
2018-07-13 17:30:08.213 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 68.2221ms
2018-07-13 17:30:08.214 +07:00 [Information] Request finished in 71.8811ms 200 text/html; charset=utf-8
2018-07-13 17:30:08.251 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:30:08.251 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 17:30:08.252 +07:00 [Information] Request finished in 1.1098ms 304 application/javascript
2018-07-13 17:30:10.096 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-13 17:30:10.100 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-13 17:30:10.101 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:30:10.109 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:30:10.111 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:30:10.117 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-13 17:30:10.124 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:30:10.139 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:30:10.145 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:30:10.152 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:30:10.158 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:30:10.158 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 47.1458ms.
2018-07-13 17:30:10.159 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:30:10.159 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 59.0077ms
2018-07-13 17:30:10.160 +07:00 [Information] Request finished in 63.2175ms 200 application/json; charset=utf-8
2018-07-13 17:30:45.551 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 17:30:45.563 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:30:45.564 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:30:45.572 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:30:45.579 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:30:45.590 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:30:45.599 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:30:45.607 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:30:45.614 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:30:45.624 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:30:45.632 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:30:45.632 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 52.0804ms.
2018-07-13 17:30:51.371 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:30:51.484 +07:00 [Information] Executed ViewResult - view "Edit" executed in 5850.4536ms.
2018-07-13 17:30:51.484 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 5921.0827ms
2018-07-13 17:30:51.485 +07:00 [Information] Request finished in 5934.0165ms 200 text/html; charset=utf-8
2018-07-13 17:30:51.581 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:30:51.582 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 17:30:51.582 +07:00 [Information] Request finished in 1.0345ms 304 text/css
2018-07-13 17:30:51.588 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:30:51.589 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 17:30:51.589 +07:00 [Information] Request finished in 3.1391ms 304 application/javascript
2018-07-13 17:31:33.873 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 17:31:33.880 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 17:31:33.880 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:31:33.888 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:31:33.915 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "True", "99"]) - Validation state: Valid
2018-07-13 17:31:33.935 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:31:34.094 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 17:31:34.110 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 195.364ms.
2018-07-13 17:31:34.111 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:31:34.111 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 230.8761ms
2018-07-13 17:31:34.111 +07:00 [Information] Request finished in 238.2589ms 200 application/json; charset=utf-8
2018-07-13 17:31:36.447 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 17:31:36.450 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:31:36.451 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:31:36.458 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:31:36.459 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:31:36.467 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:31:36.475 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:31:36.484 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:31:36.488 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:31:36.494 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:31:36.499 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:31:36.499 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 40.1164ms.
2018-07-13 17:31:36.500 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:31:36.501 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8086ms.
2018-07-13 17:31:36.501 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 50.5969ms
2018-07-13 17:31:36.501 +07:00 [Information] Request finished in 54.5827ms 200 text/html; charset=utf-8
2018-07-13 17:31:36.538 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:31:36.539 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 17:31:36.539 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:31:36.539 +07:00 [Information] Request finished in 1.0827ms 304 text/css
2018-07-13 17:31:36.539 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 17:31:36.539 +07:00 [Information] Request finished in 0.5509ms 304 application/javascript
2018-07-13 17:31:44.301 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/5?page=1&ConfirmationTripsId=5&StudentCheckOutId=5  
2018-07-13 17:31:44.303 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:44.303 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:44.305 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:31:44.311 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:31:44.351 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 17:31:44.373 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 17:31:44.373 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 17:31:44.373 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 17:31:44.373 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-13 17:31:44.384 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.385 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.386 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.389 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.390 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.390 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.391 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.392 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.393 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.393 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.393 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.393 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.394 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.394 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.394 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.395 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.395 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.396 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-13 17:31:44.418 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-13 17:31:44.469 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.517 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.521 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.525 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.529 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.533 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.538 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.542 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.547 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.550 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.553 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.557 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.561 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.566 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.571 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.574 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.578 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.583 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.588 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.592 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.596 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.600 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.603 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.608 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.612 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.616 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.621 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.625 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.629 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.633 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.640 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.644 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.648 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.659 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.664 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.670 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.673 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.677 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.680 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.684 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.687 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.691 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.695 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.698 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.702 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.705 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.709 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.713 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.717 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.721 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.726 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-13 17:31:44.759 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 17:31:44.789 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:31:44.790 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["5"]) - Validation state: Valid
2018-07-13 17:31:44.796 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:31:44.796 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.0188ms.
2018-07-13 17:31:44.804 +07:00 [Information] Executing ViewResult, running view "404".
2018-07-13 17:31:44.813 +07:00 [Information] Executed ViewResult - view "404" executed in 16.4106ms.
2018-07-13 17:31:44.813 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 24.2408ms
2018-07-13 17:31:44.813 +07:00 [Information] Request finished in 512.4231ms 200 text/html; charset=utf-8
2018-07-13 17:31:44.960 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/plugins/jquery/jquery.min.js  
2018-07-13 17:31:44.961 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/plugins/bootstrap/js/bootstrap.js  
2018-07-13 17:31:44.962 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:44.962 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:44.962 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:44.962 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:44.963 +07:00 [Information] Sending file. Request path: '"/Content/Admin/plugins/bootstrap/js/bootstrap.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\plugins\bootstrap\js\bootstrap.js"'
2018-07-13 17:31:44.963 +07:00 [Information] Request finished in 2.8461ms 200 application/javascript
2018-07-13 17:31:44.965 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/plugins/node-waves/waves.js  
2018-07-13 17:31:44.965 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:44.965 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:44.966 +07:00 [Information] Sending file. Request path: '"/Content/Admin/plugins/node-waves/waves.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\plugins\node-waves\waves.js"'
2018-07-13 17:31:44.966 +07:00 [Information] Request finished in 0.944ms 200 application/javascript
2018-07-13 17:31:45.566 +07:00 [Information] Sending file. Request path: '"/Content/Admin/plugins/jquery/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\plugins\jquery\jquery.min.js"'
2018-07-13 17:31:45.566 +07:00 [Information] Request finished in 605.5456ms 200 application/javascript
2018-07-13 17:31:49.540 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99https:/localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 17:31:49.542 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:49.542 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:49.543 +07:00 [Information] Request finished in 3.7308ms 404 
2018-07-13 17:31:53.358 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 17:31:53.359 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:53.359 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:53.360 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:31:53.361 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:31:53.379 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:31:53.381 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:31:53.386 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:31:53.392 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:31:53.398 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:31:53.403 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:31:53.408 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:31:53.412 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:31:53.412 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.7433ms.
2018-07-13 17:31:53.413 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:31:53.414 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.584ms.
2018-07-13 17:31:53.414 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 54.0839ms
2018-07-13 17:31:53.414 +07:00 [Information] Request finished in 56.7363ms 200 text/html; charset=utf-8
2018-07-13 17:31:53.431 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:31:53.432 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:53.432 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:53.435 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 17:31:53.435 +07:00 [Information] Request finished in 4.2418ms 200 text/css
2018-07-13 17:31:53.438 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:31:53.438 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:53.438 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:53.441 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 17:31:53.442 +07:00 [Information] Request finished in 3.8311ms 200 application/javascript
2018-07-13 17:31:53.442 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-13 17:31:53.443 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:53.443 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:53.448 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-13 17:31:53.448 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:53.448 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:53.453 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-13 17:31:53.454 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:53.454 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:53.456 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-13 17:31:53.457 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:53.457 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:53.458 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-13 17:31:53.458 +07:00 [Information] Request finished in 2.3515ms 200 application/javascript
2018-07-13 17:31:53.476 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-13 17:31:53.476 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:53.477 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:53.559 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-13 17:31:53.559 +07:00 [Information] Request finished in 111.272ms 200 application/javascript
2018-07-13 17:31:53.559 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-13 17:31:53.559 +07:00 [Information] Request finished in 106.3037ms 200 application/javascript
2018-07-13 17:31:53.569 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-13 17:31:53.569 +07:00 [Information] Request finished in 126.2319ms 200 application/javascript
2018-07-13 17:31:53.617 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-13 17:31:53.617 +07:00 [Information] Request finished in 140.8237ms 200 image/jpeg
2018-07-13 17:31:53.861 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-13 17:31:53.862 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:31:53.863 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:31:53.977 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-13 17:31:53.977 +07:00 [Information] Request finished in 116.2549ms 200 image/jpeg
2018-07-13 17:32:01.637 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 17:32:01.638 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:32:01.638 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:32:01.639 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 17:32:01.639 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:01.645 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:01.646 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-13 17:32:01.650 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:32:01.660 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 17:32:01.666 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 19.6604ms.
2018-07-13 17:32:01.666 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:32:01.666 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 27.268ms
2018-07-13 17:32:01.666 +07:00 [Information] Request finished in 29.7613ms 200 application/json; charset=utf-8
2018-07-13 17:32:02.358 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 17:32:02.359 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:32:02.359 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:32:02.360 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 17:32:02.360 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:02.366 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:02.367 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-13 17:32:02.371 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:32:02.378 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 17:32:02.381 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 14.343ms.
2018-07-13 17:32:02.381 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:32:02.381 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 21.1582ms
2018-07-13 17:32:02.381 +07:00 [Information] Request finished in 23.1055ms 200 application/json; charset=utf-8
2018-07-13 17:32:03.250 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-13 17:32:03.251 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:32:03.252 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:32:03.252 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 17:32:03.253 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:03.258 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:03.260 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-13 17:32:03.265 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:32:03.272 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 17:32:03.274 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 13.8687ms.
2018-07-13 17:32:03.275 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:32:03.275 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 22.3197ms
2018-07-13 17:32:03.275 +07:00 [Information] Request finished in 24.9422ms 200 application/json; charset=utf-8
2018-07-13 17:32:03.823 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-13 17:32:03.824 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:32:03.824 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:32:03.825 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-13 17:32:03.825 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:03.834 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:03.834 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "True", "99"]) - Validation state: Valid
2018-07-13 17:32:03.839 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:32:03.847 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-13 17:32:03.851 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.1685ms.
2018-07-13 17:32:03.851 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:32:03.851 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 25.8641ms
2018-07-13 17:32:03.851 +07:00 [Information] Request finished in 29.7775ms 200 application/json; charset=utf-8
2018-07-13 17:32:05.043 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-13 17:32:05.043 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:32:05.043 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:32:05.048 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-13 17:32:05.048 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:05.054 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:05.055 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-13 17:32:05.056 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.9552ms.
2018-07-13 17:32:05.058 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-13 17:32:05.109 +07:00 [Information] Executed ViewResult - view "Note" executed in 52.4937ms.
2018-07-13 17:32:05.109 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 61.3116ms
2018-07-13 17:32:05.109 +07:00 [Information] Request finished in 66.8634ms 200 text/html; charset=utf-8
2018-07-13 17:32:05.143 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-13 17:32:05.144 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:32:05.144 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:32:05.150 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-13 17:32:05.151 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:05.157 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:05.158 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-13 17:32:05.196 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-13 17:32:05.249 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-13 17:32:05.256 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 98.4669ms.
2018-07-13 17:32:05.258 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-13 17:32:05.264 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 7.0723ms.
2018-07-13 17:32:05.264 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 113.2229ms
2018-07-13 17:32:05.264 +07:00 [Information] Request finished in 120.9884ms 200 text/html; charset=utf-8
2018-07-13 17:32:07.261 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-13 17:32:07.261 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:32:07.261 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:32:07.269 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-13 17:32:07.270 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:07.279 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:07.280 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:32:07.319 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-13 17:32:07.324 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 44.6889ms.
2018-07-13 17:32:07.327 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-13 17:32:07.358 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 30.5665ms.
2018-07-13 17:32:07.358 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 88.7062ms
2018-07-13 17:32:07.359 +07:00 [Information] Request finished in 99.4846ms 200 text/html; charset=utf-8
2018-07-13 17:32:11.580 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 291
2018-07-13 17:32:11.581 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported cultures '["en-US"]'.
2018-07-13 17:32:11.581 +07:00 [Warning] "AcceptLanguageHeaderRequestCultureProvider" returned the following unsupported UI Cultures '["en-US"]'.
2018-07-13 17:32:11.593 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-13 17:32:11.594 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:11.600 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:11.615 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-13 17:32:11.657 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-13 17:32:11.673 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:32:11.687 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:32:11.694 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:32:11.702 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:32:11.706 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:32:11.804 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-13 17:32:11.858 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 243.2627ms.
2018-07-13 17:32:11.859 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:32:11.859 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 265.4569ms
2018-07-13 17:32:11.859 +07:00 [Information] Request finished in 279.9147ms 200 application/json; charset=utf-8
2018-07-13 17:32:48.409 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-13 17:32:48.410 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:48.417 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:48.422 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-13 17:32:48.426 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-13 17:32:48.427 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:32:48.427 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:32:48.434 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:32:48.439 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:32:48.445 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:32:48.449 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:32:48.454 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:32:48.458 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:32:48.458 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.1262ms.
2018-07-13 17:32:48.458 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:32:48.460 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8612ms.
2018-07-13 17:32:48.460 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 33.5826ms
2018-07-13 17:32:48.460 +07:00 [Information] Request finished in 51.399ms 200 text/html; charset=utf-8
2018-07-13 17:32:48.498 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:32:48.504 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-13 17:32:48.505 +07:00 [Information] Request finished in 8.2741ms 200 text/css
2018-07-13 17:32:48.543 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:32:48.546 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-13 17:32:48.546 +07:00 [Information] Request finished in 3.4018ms 200 application/javascript
2018-07-13 17:32:49.957 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-13 17:32:49.959 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-13 17:32:49.959 +07:00 [Information] Request finished in 2.3954ms 200 image/x-icon
2018-07-13 17:32:54.178 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-13 17:32:54.180 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-13 17:32:54.181 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:54.189 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:54.191 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:32:54.198 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-13 17:32:54.211 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:32:54.218 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:32:54.223 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:32:54.230 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:32:54.234 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:32:54.234 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 43.4606ms.
2018-07-13 17:32:54.234 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-13 17:32:54.236 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.9445ms.
2018-07-13 17:32:54.237 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 56.5778ms
2018-07-13 17:32:54.237 +07:00 [Information] Request finished in 58.8966ms 200 text/html; charset=utf-8
2018-07-13 17:32:54.281 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-13 17:32:54.282 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-13 17:32:54.283 +07:00 [Information] Request finished in 1.3053ms 304 application/javascript
2018-07-13 17:32:54.283 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-13 17:32:54.284 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-13 17:32:54.285 +07:00 [Information] Request finished in 2.3438ms 304 text/css
2018-07-13 17:32:57.592 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-13 17:32:57.604 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-13 17:32:57.605 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-13 17:32:57.815 +07:00 [Information] Executed DbCommand ("208"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-13 17:32:57.816 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-13 17:32:57.820 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-13 17:32:57.825 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-13 17:32:57.830 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:32:57.835 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:32:57.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-13 17:32:57.845 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-13 17:32:57.845 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.4107ms.
2018-07-13 17:32:57.845 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-13 17:32:57.846 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 240.8372ms
2018-07-13 17:32:57.846 +07:00 [Information] Request finished in 253.2685ms 200 application/json; charset=utf-8

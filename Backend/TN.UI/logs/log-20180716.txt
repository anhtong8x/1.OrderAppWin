2018-07-16 08:10:06.500 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-16 08:10:06.573 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:10:07.462 +07:00 [Information] Executed DbCommand ("156"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:10:09.960 +07:00 [Information] Executed DbCommand ("124"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 08:10:10.034 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 08:10:12.424 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-16 08:10:12.718 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 08:10:12.869 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 70.4358ms.
2018-07-16 08:10:15.494 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 08:10:19.924 +07:00 [Information] Executed ViewResult - view "Index" executed in 7054.1415ms.
2018-07-16 08:10:19.924 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 7500.0296ms
2018-07-16 08:10:19.925 +07:00 [Information] Request finished in 13425.3391ms 200 text/html; charset=utf-8
2018-07-16 08:10:20.144 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-16 08:10:20.145 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:10:20.145 +07:00 [Information] Request finished in 0.8707ms 304 text/css
2018-07-16 08:10:20.173 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 08:10:20.174 +07:00 [Information] The file "/Content/Admin/js/jquery.validate.min.js" was not modified
2018-07-16 08:10:20.174 +07:00 [Information] Request finished in 1.6773ms 304 application/javascript
2018-07-16 08:10:20.186 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 08:10:20.186 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 08:10:20.186 +07:00 [Information] Request finished in 0.7094ms 304 application/javascript
2018-07-16 08:10:20.343 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 08:10:20.351 +07:00 [Information] The file "/Content/Admin/js/jquery.min.js" was not modified
2018-07-16 08:10:20.351 +07:00 [Information] Request finished in 7.9513ms 304 application/javascript
2018-07-16 08:10:20.421 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 08:10:20.422 +07:00 [Information] The file "/Content/Admin/js/jquery.validate.unobtrusive.min.js" was not modified
2018-07-16 08:10:20.422 +07:00 [Information] Request finished in 0.6997ms 304 application/javascript
2018-07-16 08:10:20.618 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 08:10:20.620 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Data/Avatar/bd3b77a0-6085-4dc1-81bc-404c9bdde815.jpeg  
2018-07-16 08:10:20.824 +07:00 [Information] The file "/Data/Avatar/bd3b77a0-6085-4dc1-81bc-404c9bdde815.jpeg" was not modified
2018-07-16 08:10:20.825 +07:00 [Information] Request finished in 204.0982ms 304 image/jpeg
2018-07-16 08:10:24.241 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 08:10:24.241 +07:00 [Information] Request finished in 3622.5502ms 200 application/javascript
2018-07-16 08:10:24.660 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 08:10:24.698 +07:00 [Information] The file "/Content/Admin/images/user-img-background.jpg" was not modified
2018-07-16 08:10:24.698 +07:00 [Information] Request finished in 38.1039ms 304 image/jpeg
2018-07-16 08:10:25.309 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 08:10:25.323 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/plugins/bootstrap/fonts/glyphicons-halflings-regular.woff2  
2018-07-16 08:10:25.323 +07:00 [Information] The file "/Content/Admin/plugins/bootstrap/fonts/glyphicons-halflings-regular.woff2" was not modified
2018-07-16 08:10:25.323 +07:00 [Information] Request finished in 0.6572ms 304 font/woff2
2018-07-16 08:10:25.633 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 08:10:25.634 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:10:25.640 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:10:25.727 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 08:10:26.012 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 08:10:26.084 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 08:10:26.084 +07:00 [Information] Request finished in 71.8742ms 200 image/x-icon
2018-07-16 08:10:26.713 +07:00 [Information] Executed DbCommand ("28"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 08:10:26.873 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 08:10:26.878 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1150.297ms.
2018-07-16 08:10:26.961 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 08:10:27.050 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 171.9862ms.
2018-07-16 08:10:27.050 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 1416.7221ms
2018-07-16 08:10:27.050 +07:00 [Information] Request finished in 1741.473ms 200 text/html; charset=utf-8
2018-07-16 08:25:10.670 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:25:10.672 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:25:10.701 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:25:10.706 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 08:25:10.795 +07:00 [Information] Executed DbCommand ("50"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 08:25:10.824 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.829 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.833 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.836 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.840 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.844 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.864 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.868 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.872 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.875 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.879 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.883 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.887 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:25:10.891 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 08:25:10.925 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:25:10.926 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:25:11.003 +07:00 [Information] Executed DbCommand ("61"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:25:11.042 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:25:11.072 +07:00 [Information] Executed DbCommand ("27"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:25:11.094 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:25:11.100 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:25:11.107 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:25:11.107 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 181.1597ms.
2018-07-16 08:25:11.178 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:25:11.223 +07:00 [Information] Executed ViewResult - view "Edit" executed in 115.9928ms.
2018-07-16 08:25:11.223 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 298.1202ms
2018-07-16 08:25:11.223 +07:00 [Information] Request finished in 553.6787ms 200 text/html; charset=utf-8
2018-07-16 08:25:11.435 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 08:25:11.437 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=DaKIs3qLPhedz-XvhS5bfH8pKHoU38bQlCsgmJc4230  
2018-07-16 08:25:11.440 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 08:25:11.440 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 08:25:11.447 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 08:25:11.463 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:25:11.463 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 08:25:11.463 +07:00 [Information] The file "/Content/Admin/js/jquery.validate.unobtrusive.min.js" was not modified
2018-07-16 08:25:11.463 +07:00 [Information] Request finished in 25.8986ms 304 text/css
2018-07-16 08:25:11.463 +07:00 [Information] Request finished in 28.5435ms 304 application/javascript
2018-07-16 08:25:11.463 +07:00 [Information] Request finished in 23.7727ms 304 application/javascript
2018-07-16 08:25:11.463 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 08:25:11.474 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 08:25:11.475 +07:00 [Information] The file "/Content/Admin/js/jquery.validate.min.js" was not modified
2018-07-16 08:25:11.475 +07:00 [Information] Request finished in 0.8197ms 304 application/javascript
2018-07-16 08:25:11.478 +07:00 [Information] The file "/Content/Admin/js/jquery.min.js" was not modified
2018-07-16 08:25:11.478 +07:00 [Information] Request finished in 30.7827ms 304 application/javascript
2018-07-16 08:25:11.506 +07:00 [Information] The file "/Content/Admin/images/no-avatar.jpg" was not modified
2018-07-16 08:25:11.506 +07:00 [Information] Request finished in 42.832ms 304 image/jpeg
2018-07-16 08:25:11.678 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 08:25:11.678 +07:00 [Information] Request finished in 238.743ms 200 application/javascript
2018-07-16 08:25:12.499 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 08:25:12.499 +07:00 [Information] The file "/Content/Admin/images/user-img-background.jpg" was not modified
2018-07-16 08:25:12.500 +07:00 [Information] Request finished in 0.6642ms 304 image/jpeg
2018-07-16 08:25:15.819 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 08:25:15.820 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 08:25:15.820 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:25:15.826 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:25:15.827 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:25:15.834 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 08:25:15.863 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:25:15.887 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:25:15.919 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:25:15.924 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:25:15.929 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:25:15.937 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 110.1143ms.
2018-07-16 08:25:15.938 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:25:15.949 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 129.2081ms
2018-07-16 08:25:15.950 +07:00 [Information] Request finished in 131.1015ms 200 application/json; charset=utf-8
2018-07-16 08:29:47.735 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-16 08:29:47.736 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-16 08:29:47.737 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:29:47.895 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:29:47.896 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 08:29:47.896 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0268ms.
2018-07-16 08:29:47.896 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 08:29:47.898 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.7714ms.
2018-07-16 08:29:47.898 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 161.706ms
2018-07-16 08:29:47.898 +07:00 [Information] Request finished in 163.7612ms 200 text/html; charset=utf-8
2018-07-16 08:29:48.719 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 08:29:48.721 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 08:29:48.721 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:29:48.728 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:29:48.730 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 08:29:48.738 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 08:29:48.744 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 08:29:48.745 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 14.9132ms.
2018-07-16 08:29:48.745 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 08:29:48.746 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.9012ms.
2018-07-16 08:29:48.746 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 25.6702ms
2018-07-16 08:29:48.747 +07:00 [Information] Request finished in 27.6811ms 200 text/html; charset=utf-8
2018-07-16 08:29:48.891 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 08:29:48.916 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 08:29:48.916 +07:00 [Information] Request finished in 25.6317ms 200 image/x-icon
2018-07-16 08:40:53.349 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 08:40:53.351 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:40:53.352 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:40:53.428 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:40:53.429 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 08:40:53.499 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:40:53.534 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:40:53.555 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 125.958ms.
2018-07-16 08:40:53.556 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:40:53.556 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 204.3799ms
2018-07-16 08:40:53.556 +07:00 [Information] Request finished in 206.5884ms 200 application/json; charset=utf-8
2018-07-16 08:40:58.332 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 08:40:58.333 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 08:40:58.333 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:40:58.339 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:40:58.339 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:40:58.344 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 08:40:58.349 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:40:58.355 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:40:58.360 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:40:58.366 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:40:58.370 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:40:58.370 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 30.599ms.
2018-07-16 08:40:58.370 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:40:58.370 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 37.1669ms
2018-07-16 08:40:58.370 +07:00 [Information] Request finished in 38.8568ms 200 application/json; charset=utf-8
2018-07-16 08:41:00.791 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 08:41:00.792 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:41:00.793 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:41:00.798 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:41:00.800 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 08:41:00.807 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:41:00.814 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:41:00.834 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 33.0979ms.
2018-07-16 08:41:00.834 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:41:00.834 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 41.6239ms
2018-07-16 08:41:00.834 +07:00 [Information] Request finished in 43.8919ms 200 application/json; charset=utf-8
2018-07-16 08:41:02.363 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 08:41:02.364 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 08:41:02.365 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:41:02.370 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:41:02.371 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:41:02.376 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 08:41:02.382 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:41:02.391 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:41:02.395 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:41:02.401 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:41:02.406 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:41:02.406 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 35.141ms.
2018-07-16 08:41:02.407 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:41:02.407 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 42.3929ms
2018-07-16 08:41:02.407 +07:00 [Information] Request finished in 43.9615ms 200 application/json; charset=utf-8
2018-07-16 08:48:42.760 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 08:48:42.762 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:48:42.763 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:48:42.795 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:48:42.797 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 08:48:42.801 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:48:42.810 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:48:42.833 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 36.3418ms.
2018-07-16 08:48:42.833 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:48:42.833 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 71.2135ms
2018-07-16 08:48:42.834 +07:00 [Information] Request finished in 74.7811ms 200 application/json; charset=utf-8
2018-07-16 08:48:43.465 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 08:48:43.466 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:48:43.466 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:48:43.474 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:48:43.474 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 08:48:43.479 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:48:43.490 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:48:43.507 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 32.6044ms.
2018-07-16 08:48:43.507 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:48:43.508 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 41.789ms
2018-07-16 08:48:43.508 +07:00 [Information] Request finished in 42.9116ms 200 application/json; charset=utf-8
2018-07-16 08:50:44.293 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:50:44.305 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:50:44.306 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:50:44.312 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:50:44.314 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:50:44.325 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:50:44.332 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:50:44.361 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:50:44.366 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:50:44.372 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:50:44.376 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:50:44.376 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 61.239ms.
2018-07-16 08:50:45.785 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:50:45.817 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1440.432ms.
2018-07-16 08:50:45.817 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1511.7756ms
2018-07-16 08:50:45.817 +07:00 [Information] Request finished in 1524.0237ms 200 text/html; charset=utf-8
2018-07-16 08:50:45.860 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 08:50:45.861 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=Txm23jIqwUiBdUbgC_5uuz4WkERP8ccpCWOCWGyjnVA  
2018-07-16 08:50:45.862 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 08:50:45.862 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 08:50:45.865 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 08:50:45.866 +07:00 [Information] Request finished in 4.4092ms 200 text/css
2018-07-16 08:50:45.873 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 08:50:46.104 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 08:50:46.105 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 08:50:46.166 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 08:50:46.166 +07:00 [Information] Request finished in 304.4053ms 200 application/javascript
2018-07-16 08:50:46.167 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 08:50:46.167 +07:00 [Information] Request finished in 62.682ms 200 application/javascript
2018-07-16 08:50:46.167 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 08:50:46.167 +07:00 [Information] Request finished in 293.5999ms 200 application/javascript
2018-07-16 08:50:46.261 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 08:50:46.261 +07:00 [Information] Request finished in 155.7266ms 200 image/jpeg
2018-07-16 08:50:46.339 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 08:50:46.339 +07:00 [Information] Request finished in 480.6138ms 200 application/javascript
2018-07-16 08:50:46.342 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 08:50:46.343 +07:00 [Information] Request finished in 481.1487ms 200 application/javascript
2018-07-16 08:50:46.484 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 08:50:46.509 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 08:50:46.509 +07:00 [Information] Request finished in 25.5949ms 200 image/jpeg
2018-07-16 08:50:50.041 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=Txm23jIqwUiBdUbgC_5uuz4WkERP8ccpCWOCWGyjnVA  
2018-07-16 08:50:50.042 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:50:50.043 +07:00 [Information] Request finished in 1.4855ms 304 text/css
2018-07-16 08:51:02.385 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:51:02.388 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:51:02.389 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:51:02.398 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:51:02.400 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:51:02.408 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:51:02.414 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:51:02.420 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:51:02.424 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:51:02.430 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:51:02.434 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:51:02.434 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.3883ms.
2018-07-16 08:51:02.434 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:51:02.436 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4011ms.
2018-07-16 08:51:02.436 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 47.0476ms
2018-07-16 08:51:02.436 +07:00 [Information] Request finished in 50.7685ms 200 text/html; charset=utf-8
2018-07-16 08:51:02.451 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=Txm23jIqwUiBdUbgC_5uuz4WkERP8ccpCWOCWGyjnVA  
2018-07-16 08:51:02.452 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:51:02.452 +07:00 [Information] Request finished in 0.7144ms 304 text/css
2018-07-16 08:51:18.343 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:51:18.354 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:51:18.355 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:51:18.363 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:51:18.364 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:51:18.377 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:51:18.394 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:51:18.414 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:51:18.429 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:51:18.444 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:51:18.462 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:51:18.462 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 98.3493ms.
2018-07-16 08:51:18.747 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:51:18.767 +07:00 [Information] Executed ViewResult - view "Edit" executed in 304.4858ms.
2018-07-16 08:51:18.767 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 412.9312ms
2018-07-16 08:51:18.767 +07:00 [Information] Request finished in 424.62ms 200 text/html; charset=utf-8
2018-07-16 08:51:18.784 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=Txm23jIqwUiBdUbgC_5uuz4WkERP8ccpCWOCWGyjnVA  
2018-07-16 08:51:18.786 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:51:18.786 +07:00 [Information] Request finished in 2.1818ms 304 text/css
2018-07-16 08:51:37.927 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:51:37.935 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:51:37.936 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:51:37.944 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:51:37.945 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:51:37.954 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:51:37.965 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:51:37.973 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:51:37.982 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:51:37.988 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:51:37.992 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:51:37.992 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 47.3307ms.
2018-07-16 08:51:38.219 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:51:38.240 +07:00 [Information] Executed ViewResult - view "Edit" executed in 247.6409ms.
2018-07-16 08:51:38.240 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 304.7072ms
2018-07-16 08:51:38.240 +07:00 [Information] Request finished in 313.1806ms 200 text/html; charset=utf-8
2018-07-16 08:51:38.257 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=Txm23jIqwUiBdUbgC_5uuz4WkERP8ccpCWOCWGyjnVA  
2018-07-16 08:51:38.258 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:51:38.259 +07:00 [Information] Request finished in 1.4362ms 304 text/css
2018-07-16 08:51:45.870 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=Txm23jIqwUiBdUbgC_5uuz4WkERP8ccpCWOCWGyjnVA  
2018-07-16 08:51:45.872 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:51:45.872 +07:00 [Information] Request finished in 2.2398ms 304 text/css
2018-07-16 08:51:57.569 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:51:57.574 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:51:57.575 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:51:57.583 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:51:57.583 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:51:57.590 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:51:57.599 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:51:57.605 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:51:57.614 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:51:57.622 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:51:57.626 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:51:57.626 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.3811ms.
2018-07-16 08:51:57.626 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:51:57.628 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4695ms.
2018-07-16 08:51:57.628 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 53.1131ms
2018-07-16 08:51:57.628 +07:00 [Information] Request finished in 58.5818ms 200 text/html; charset=utf-8
2018-07-16 08:51:57.649 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=Txm23jIqwUiBdUbgC_5uuz4WkERP8ccpCWOCWGyjnVA  
2018-07-16 08:51:57.649 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:51:57.650 +07:00 [Information] Request finished in 1.4762ms 304 text/css
2018-07-16 08:52:57.399 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:52:57.402 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:52:57.403 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:52:57.419 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:52:57.420 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:52:57.440 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:52:57.458 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:52:57.480 +07:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:52:57.494 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:52:57.506 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:52:57.520 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:52:57.520 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 99.8852ms.
2018-07-16 08:52:57.520 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:52:57.527 +07:00 [Information] Executed ViewResult - view "Edit" executed in 7.043ms.
2018-07-16 08:52:57.528 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 125.3714ms
2018-07-16 08:52:57.528 +07:00 [Information] Request finished in 128.4843ms 200 text/html; charset=utf-8
2018-07-16 08:52:57.569 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 08:52:57.569 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=cG-eZkX9tdGPS_h8_q2ocSfVuOj82L8q3juJk1xOJZI  
2018-07-16 08:52:57.571 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 08:52:57.571 +07:00 [Information] Request finished in 2.1236ms 200 application/javascript
2018-07-16 08:52:57.576 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 08:52:57.576 +07:00 [Information] Request finished in 7.1494ms 200 text/css
2018-07-16 08:52:57.577 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 08:52:57.578 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 08:52:57.578 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 08:52:57.579 +07:00 [Information] Request finished in 0.6808ms 200 application/javascript
2018-07-16 08:52:57.581 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 08:52:57.582 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 08:52:57.582 +07:00 [Information] Request finished in 0.8353ms 200 image/jpeg
2018-07-16 08:52:57.582 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 08:52:57.582 +07:00 [Information] Request finished in 5.1522ms 200 application/javascript
2018-07-16 08:52:57.588 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 08:52:57.588 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 08:52:57.589 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 08:52:57.589 +07:00 [Information] Request finished in 1.4341ms 200 application/javascript
2018-07-16 08:52:57.589 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 08:52:57.590 +07:00 [Information] Request finished in 1.6845ms 200 application/javascript
2018-07-16 08:52:58.044 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 08:52:58.045 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 08:52:58.045 +07:00 [Information] Request finished in 1.5265ms 200 image/jpeg
2018-07-16 08:53:03.236 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 08:53:03.244 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:53:03.244 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:53:03.250 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:53:03.251 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 08:53:03.257 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:53:03.268 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:53:03.278 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 26.3443ms.
2018-07-16 08:53:03.278 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:53:03.278 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 34.2822ms
2018-07-16 08:53:03.278 +07:00 [Information] Request finished in 42.2782ms 200 application/json; charset=utf-8
2018-07-16 08:53:03.698 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 08:53:03.699 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:53:03.699 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:53:03.705 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:53:03.706 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 08:53:03.710 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:53:03.716 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:53:03.727 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 20.9602ms.
2018-07-16 08:53:03.727 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:53:03.727 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 28.5101ms
2018-07-16 08:53:03.728 +07:00 [Information] Request finished in 29.6712ms 200 application/json; charset=utf-8
2018-07-16 08:53:13.670 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=cG-eZkX9tdGPS_h8_q2ocSfVuOj82L8q3juJk1xOJZI  
2018-07-16 08:53:13.671 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:53:13.671 +07:00 [Information] Request finished in 1.1531ms 304 text/css
2018-07-16 08:54:16.343 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:54:16.351 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:54:16.351 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:54:16.358 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:54:16.359 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:54:16.368 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:54:16.375 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:54:16.383 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:54:16.387 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:54:16.392 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:54:16.405 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:54:16.405 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 45.9047ms.
2018-07-16 08:54:16.625 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:54:16.652 +07:00 [Information] Executed ViewResult - view "Edit" executed in 246.1942ms.
2018-07-16 08:54:16.652 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 300.5316ms
2018-07-16 08:54:16.652 +07:00 [Information] Request finished in 309.3473ms 200 text/html; charset=utf-8
2018-07-16 08:54:16.670 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=MabOkVffs4kOcRiVo_DWejOSQbpmyX2gB5KNAEQk3x8  
2018-07-16 08:54:16.678 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 08:54:16.679 +07:00 [Information] Request finished in 8.3929ms 200 text/css
2018-07-16 08:54:30.713 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=MabOkVffs4kOcRiVo_DWejOSQbpmyX2gB5KNAEQk3x8  
2018-07-16 08:54:30.714 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 08:54:30.714 +07:00 [Information] Request finished in 0.9375ms 304 text/css
2018-07-16 08:55:05.914 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:55:05.916 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:55:05.917 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:55:05.929 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:55:05.930 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:55:05.935 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:55:05.940 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:55:05.946 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:55:05.950 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:55:05.954 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:55:05.958 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:55:05.958 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.0415ms.
2018-07-16 08:55:05.958 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:55:05.966 +07:00 [Information] Executed ViewResult - view "Edit" executed in 7.7572ms.
2018-07-16 08:55:05.966 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 49.5137ms
2018-07-16 08:55:05.966 +07:00 [Information] Request finished in 52.0269ms 200 text/html; charset=utf-8
2018-07-16 08:55:05.996 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=BWjgU5JUFn-HnKirBn69RBhKXuyPo_Q7rE1qUQB3Aw8  
2018-07-16 08:55:05.997 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 08:55:05.998 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 08:55:05.998 +07:00 [Information] Request finished in 0.9547ms 200 application/javascript
2018-07-16 08:55:05.999 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 08:55:06.000 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 08:55:06.002 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 08:55:06.002 +07:00 [Information] Request finished in 2.1114ms 200 application/javascript
2018-07-16 08:55:06.007 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 08:55:06.008 +07:00 [Information] Request finished in 9.2114ms 200 application/javascript
2018-07-16 08:55:06.008 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 08:55:06.010 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 08:55:06.010 +07:00 [Information] Request finished in 14.2257ms 200 text/css
2018-07-16 08:55:06.012 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 08:55:06.012 +07:00 [Information] Request finished in 3.4424ms 200 application/javascript
2018-07-16 08:55:06.012 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 08:55:06.013 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 08:55:06.016 +07:00 [Information] Request finished in 1.1649ms 200 application/javascript
2018-07-16 08:55:06.018 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 08:55:06.019 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 08:55:06.020 +07:00 [Information] Request finished in 1.5286ms 200 image/jpeg
2018-07-16 08:55:06.621 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 08:55:06.622 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 08:55:06.622 +07:00 [Information] Request finished in 1.6685ms 200 image/jpeg
2018-07-16 08:56:16.214 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:56:16.216 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:56:16.223 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:56:16.252 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 08:56:16.257 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 08:56:16.261 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.265 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.269 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.273 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.277 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.280 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.284 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.287 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.290 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.294 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.297 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.302 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.305 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 08:56:16.310 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 08:56:16.311 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:56:16.311 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:56:16.316 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:56:16.322 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:56:16.328 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:56:16.332 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:56:16.337 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:56:16.341 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:56:16.342 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.3094ms.
2018-07-16 08:56:16.342 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:56:16.353 +07:00 [Information] Executed ViewResult - view "Edit" executed in 11.1219ms.
2018-07-16 08:56:16.353 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.1341ms
2018-07-16 08:56:16.353 +07:00 [Information] Request finished in 139.4513ms 200 text/html; charset=utf-8
2018-07-16 08:56:16.377 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 08:56:16.380 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 08:56:16.380 +07:00 [Information] Request finished in 3.823ms 200 text/css
2018-07-16 08:56:16.382 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 08:56:16.382 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 08:56:16.382 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 08:56:16.382 +07:00 [Information] Request finished in 0.8567ms 200 application/javascript
2018-07-16 08:56:16.383 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 08:56:16.383 +07:00 [Information] Request finished in 0.7172ms 200 application/javascript
2018-07-16 08:56:16.383 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 08:56:16.383 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 08:56:16.384 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 08:56:16.384 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 08:56:16.384 +07:00 [Information] Request finished in 1.4006ms 200 application/javascript
2018-07-16 08:56:16.384 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 08:56:16.385 +07:00 [Information] Request finished in 0.7003ms 200 application/javascript
2018-07-16 08:56:16.386 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 08:56:16.386 +07:00 [Information] Request finished in 2.7499ms 200 application/javascript
2018-07-16 08:56:16.386 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 08:56:16.387 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 08:56:16.387 +07:00 [Information] Request finished in 0.7846ms 200 image/jpeg
2018-07-16 08:56:16.848 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 08:56:16.849 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 08:56:16.850 +07:00 [Information] Request finished in 1.6124ms 200 image/jpeg
2018-07-16 08:56:49.890 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 08:56:49.899 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 08:56:49.899 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:56:49.904 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:56:49.905 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:56:49.911 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:56:49.916 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:56:49.922 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:56:49.926 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:56:49.932 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:56:49.936 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:56:49.936 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.7314ms.
2018-07-16 08:56:50.162 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 08:56:50.183 +07:00 [Information] Executed ViewResult - view "Edit" executed in 246.9229ms.
2018-07-16 08:56:50.183 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 284.0355ms
2018-07-16 08:56:50.183 +07:00 [Information] Request finished in 293.4109ms 200 text/html; charset=utf-8
2018-07-16 08:56:50.203 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 08:56:50.203 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 08:56:50.203 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 08:56:50.204 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 08:56:50.205 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 08:56:50.205 +07:00 [Information] Request finished in 1.5822ms 200 application/javascript
2018-07-16 08:56:50.205 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 08:56:50.205 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 08:56:50.205 +07:00 [Information] Request finished in 0.6966ms 200 image/jpeg
2018-07-16 08:56:50.205 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 08:56:50.207 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 08:56:50.207 +07:00 [Information] Request finished in 2.192ms 200 application/javascript
2018-07-16 08:56:50.208 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 08:56:50.208 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 08:56:50.209 +07:00 [Information] Request finished in 5.5381ms 200 text/css
2018-07-16 08:56:50.209 +07:00 [Information] Request finished in 3.5443ms 200 application/javascript
2018-07-16 08:56:50.210 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 08:56:50.211 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 08:56:50.212 +07:00 [Information] Request finished in 1.8562ms 200 application/javascript
2018-07-16 08:56:50.213 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 08:56:50.213 +07:00 [Information] Request finished in 9.7879ms 200 application/javascript
2018-07-16 08:56:50.649 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 08:56:50.651 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 08:56:50.651 +07:00 [Information] Request finished in 1.712ms 200 image/jpeg
2018-07-16 08:56:59.691 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 08:56:59.696 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 08:56:59.697 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:56:59.702 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:56:59.702 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 08:56:59.702 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1051ms.
2018-07-16 08:56:59.703 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 08:56:59.730 +07:00 [Information] Executed ViewResult - view "Note" executed in 27.7513ms.
2018-07-16 08:56:59.730 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 34.1131ms
2018-07-16 08:56:59.731 +07:00 [Information] Request finished in 39.5429ms 200 text/html; charset=utf-8
2018-07-16 08:56:59.741 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 08:56:59.750 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 08:56:59.751 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:56:59.758 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:56:59.759 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 08:56:59.778 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 08:56:59.783 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 08:56:59.783 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 23.9345ms.
2018-07-16 08:56:59.784 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 08:56:59.785 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 1.1885ms.
2018-07-16 08:56:59.785 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 34.2717ms
2018-07-16 08:56:59.785 +07:00 [Information] Request finished in 43.5648ms 200 text/html; charset=utf-8
2018-07-16 08:59:28.969 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 281
2018-07-16 08:59:28.977 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-16 08:59:28.977 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:28.983 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:29.035 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Valid
2018-07-16 08:59:29.185 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NoteConfirmationTrips] ([ConfirmationTripsId], [Content], [CreatedDate], [CreatedUser], [StudentCheckOutId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [NoteConfirmationTrips]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2018-07-16 08:59:29.203 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 167.1718ms.
2018-07-16 08:59:29.203 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:29.203 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 226.2308ms
2018-07-16 08:59:29.203 +07:00 [Information] Request finished in 234.3353ms 200 application/json; charset=utf-8
2018-07-16 08:59:29.423 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 08:59:29.425 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 08:59:29.425 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:29.436 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:29.437 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 08:59:29.442 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 08:59:29.447 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 08:59:29.448 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.7249ms.
2018-07-16 08:59:29.448 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 08:59:29.449 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.8539ms.
2018-07-16 08:59:29.449 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 23.8177ms
2018-07-16 08:59:29.449 +07:00 [Information] Request finished in 26.5219ms 200 text/html; charset=utf-8
2018-07-16 08:59:38.696 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 08:59:38.704 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:59:38.705 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:38.711 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:38.712 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 08:59:38.718 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:59:38.725 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:59:38.737 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 24.8479ms.
2018-07-16 08:59:38.737 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:38.737 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 33.1106ms
2018-07-16 08:59:38.737 +07:00 [Information] Request finished in 41.4315ms 200 application/json; charset=utf-8
2018-07-16 08:59:40.273 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 08:59:40.274 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:59:40.275 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:40.281 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:40.283 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 08:59:40.292 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:59:40.304 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:59:40.316 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 33.3643ms.
2018-07-16 08:59:40.317 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:40.317 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 42.2067ms
2018-07-16 08:59:40.317 +07:00 [Information] Request finished in 44.3588ms 200 application/json; charset=utf-8
2018-07-16 08:59:41.593 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 08:59:41.594 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:59:41.594 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:41.600 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:41.601 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "False", "99"]) - Validation state: Valid
2018-07-16 08:59:41.605 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:59:41.612 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:59:41.624 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 22.9163ms.
2018-07-16 08:59:41.624 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:41.624 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 30.2381ms
2018-07-16 08:59:41.624 +07:00 [Information] Request finished in 32.1306ms 200 application/json; charset=utf-8
2018-07-16 08:59:42.296 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 40
2018-07-16 08:59:42.298 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 08:59:42.299 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:42.304 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:42.304 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "False", "99"]) - Validation state: Valid
2018-07-16 08:59:42.310 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 08:59:42.320 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 08:59:42.326 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 21.9907ms.
2018-07-16 08:59:42.327 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:42.327 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 28.7248ms
2018-07-16 08:59:42.327 +07:00 [Information] Request finished in 30.8228ms 200 application/json; charset=utf-8
2018-07-16 08:59:44.588 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 277
2018-07-16 08:59:44.589 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-16 08:59:44.590 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:44.595 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:44.611 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Invalid
2018-07-16 08:59:44.611 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0213ms.
2018-07-16 08:59:44.611 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:44.612 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 22.2048ms
2018-07-16 08:59:44.612 +07:00 [Information] Request finished in 23.5611ms 200 application/json; charset=utf-8
2018-07-16 08:59:44.823 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 08:59:44.824 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 08:59:44.825 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:44.832 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:44.834 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 08:59:44.839 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 08:59:44.844 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 08:59:44.844 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 9.773ms.
2018-07-16 08:59:44.844 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 08:59:44.844 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3348ms.
2018-07-16 08:59:44.844 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 20.3096ms
2018-07-16 08:59:44.845 +07:00 [Information] Request finished in 22.0775ms 200 text/html; charset=utf-8
2018-07-16 08:59:45.541 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 08:59:45.547 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 08:59:45.547 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:45.552 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:45.553 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:59:45.557 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 08:59:45.562 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:59:45.568 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:59:45.573 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:59:45.578 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:59:45.582 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:59:45.582 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.5862ms.
2018-07-16 08:59:45.582 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:45.582 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 35.8578ms
2018-07-16 08:59:45.583 +07:00 [Information] Request finished in 41.8061ms 200 application/json; charset=utf-8
2018-07-16 08:59:48.105 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 277
2018-07-16 08:59:48.106 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-16 08:59:48.107 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:48.112 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:48.113 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Invalid
2018-07-16 08:59:48.113 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0108ms.
2018-07-16 08:59:48.113 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:48.114 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 7.1453ms
2018-07-16 08:59:48.114 +07:00 [Information] Request finished in 8.574ms 200 application/json; charset=utf-8
2018-07-16 08:59:48.330 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 08:59:48.333 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 08:59:48.334 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:48.640 +07:00 [Information] Executed DbCommand ("304"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:48.641 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 08:59:48.650 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 08:59:48.654 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 08:59:48.655 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.9797ms.
2018-07-16 08:59:48.655 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 08:59:48.655 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.2989ms.
2018-07-16 08:59:48.655 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 321.856ms
2018-07-16 08:59:48.655 +07:00 [Information] Request finished in 324.9821ms 200 text/html; charset=utf-8
2018-07-16 08:59:49.324 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 08:59:49.325 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 08:59:49.325 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:49.331 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:49.332 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:59:49.336 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 08:59:49.341 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:59:49.347 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:59:49.352 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:59:49.357 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:59:49.361 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:59:49.361 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.0386ms.
2018-07-16 08:59:49.361 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:49.361 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 35.9913ms
2018-07-16 08:59:49.361 +07:00 [Information] Request finished in 37.3209ms 200 application/json; charset=utf-8
2018-07-16 08:59:50.992 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 277
2018-07-16 08:59:50.994 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-16 08:59:50.994 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:50.999 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:51.001 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Invalid
2018-07-16 08:59:51.001 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.0105ms.
2018-07-16 08:59:51.001 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:51.001 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 7.8444ms
2018-07-16 08:59:51.002 +07:00 [Information] Request finished in 9.2521ms 200 application/json; charset=utf-8
2018-07-16 08:59:51.213 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 08:59:51.214 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 08:59:51.215 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:51.223 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:51.224 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 08:59:51.229 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 08:59:51.234 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 08:59:51.234 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.4959ms.
2018-07-16 08:59:51.235 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 08:59:51.235 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3486ms.
2018-07-16 08:59:51.235 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 20.4209ms
2018-07-16 08:59:51.235 +07:00 [Information] Request finished in 21.7404ms 200 text/html; charset=utf-8
2018-07-16 08:59:51.972 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 08:59:51.974 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 08:59:51.974 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 08:59:51.980 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 08:59:51.981 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 08:59:51.985 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 08:59:51.989 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 08:59:51.995 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:59:52.000 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:59:52.004 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 08:59:52.009 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 08:59:52.009 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 27.9698ms.
2018-07-16 08:59:52.009 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 08:59:52.009 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 35.4152ms
2018-07-16 08:59:52.009 +07:00 [Information] Request finished in 36.7483ms 200 application/json; charset=utf-8
2018-07-16 09:01:20.622 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:01:21.223 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:01:21.888 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:22.094 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:22.269 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:01:22.396 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:01:22.572 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:01:22.652 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:01:22.687 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:01:22.716 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:01:22.720 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:01:22.727 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 453.6057ms.
2018-07-16 09:01:22.753 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:01:22.942 +07:00 [Information] Executed ViewResult - view "Edit" executed in 186.374ms.
2018-07-16 09:01:22.945 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1721.7399ms
2018-07-16 09:01:22.962 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 09:01:22.974 +07:00 [Information] Request finished in 2357.777ms 200 text/html; charset=utf-8
2018-07-16 09:01:22.983 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 09:01:22.983 +07:00 [Information] Request finished in 21.2261ms 200 text/css
2018-07-16 09:01:24.727 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:01:24.741 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:01:24.741 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:24.755 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:24.782 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 09:01:24.804 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:01:24.967 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:25.019 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 236.6021ms.
2018-07-16 09:01:25.023 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:25.038 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 297.284ms
2018-07-16 09:01:25.038 +07:00 [Information] Request finished in 311.6105ms 200 application/json; charset=utf-8
2018-07-16 09:01:26.305 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:01:26.307 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:01:26.308 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:26.321 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:26.323 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 09:01:26.335 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:01:26.344 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:26.353 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.3445ms.
2018-07-16 09:01:26.353 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:26.353 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 46.079ms
2018-07-16 09:01:26.354 +07:00 [Information] Request finished in 48.9159ms 200 application/json; charset=utf-8
2018-07-16 09:01:28.833 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:01:28.835 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:01:28.836 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:28.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:28.842 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-16 09:01:28.854 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:01:28.864 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:28.871 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.4793ms.
2018-07-16 09:01:28.871 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:28.872 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 36.7211ms
2018-07-16 09:01:28.872 +07:00 [Information] Request finished in 38.871ms 200 application/json; charset=utf-8
2018-07-16 09:01:29.498 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:01:29.499 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:01:29.499 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:29.504 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:29.505 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "False", "99"]) - Validation state: Valid
2018-07-16 09:01:29.509 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:01:29.517 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:29.542 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 36.6408ms.
2018-07-16 09:01:29.542 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:29.542 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 42.8366ms
2018-07-16 09:01:29.542 +07:00 [Information] Request finished in 45.3366ms 200 application/json; charset=utf-8
2018-07-16 09:01:29.944 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:01:29.945 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:01:29.945 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:29.951 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:29.952 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "True", "99"]) - Validation state: Valid
2018-07-16 09:01:29.959 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:01:29.969 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:29.975 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 22.6851ms.
2018-07-16 09:01:29.975 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:29.975 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 30.5451ms
2018-07-16 09:01:29.976 +07:00 [Information] Request finished in 31.6127ms 200 application/json; charset=utf-8
2018-07-16 09:01:30.506 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 40
2018-07-16 09:01:30.507 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:01:30.507 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:30.535 +07:00 [Information] Executed DbCommand ("27"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:30.536 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "False", "99"]) - Validation state: Valid
2018-07-16 09:01:30.573 +07:00 [Information] Executed DbCommand ("37"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:01:30.597 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:30.607 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 70.535ms.
2018-07-16 09:01:30.607 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:30.607 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 100.1928ms
2018-07-16 09:01:30.607 +07:00 [Information] Request finished in 102.9932ms 200 application/json; charset=utf-8
2018-07-16 09:01:31.176 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:01:31.177 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:01:31.178 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:31.201 +07:00 [Information] Executed DbCommand ("21"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:31.202 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 09:01:31.207 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:01:31.217 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:31.223 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 20.4445ms.
2018-07-16 09:01:31.223 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:31.223 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 45.3995ms
2018-07-16 09:01:31.223 +07:00 [Information] Request finished in 47.6699ms 200 application/json; charset=utf-8
2018-07-16 09:01:31.650 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:01:31.651 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:01:31.651 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:31.658 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:31.659 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 09:01:31.664 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:01:31.672 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:31.679 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 18.9817ms.
2018-07-16 09:01:31.679 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:31.679 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 28.0728ms
2018-07-16 09:01:31.679 +07:00 [Information] Request finished in 29.5294ms 200 application/json; charset=utf-8
2018-07-16 09:01:33.851 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 09:01:33.858 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 09:01:33.859 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:33.864 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:33.865 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:01:33.916 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 09:01:33.921 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 55.9501ms.
2018-07-16 09:01:33.923 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 09:01:33.987 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 65.6649ms.
2018-07-16 09:01:33.987 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 128.9616ms
2018-07-16 09:01:33.988 +07:00 [Information] Request finished in 136.9321ms 200 text/html; charset=utf-8
2018-07-16 09:01:36.392 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 257
2018-07-16 09:01:36.401 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-16 09:01:36.401 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:36.408 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:36.424 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-16 09:01:36.471 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-16 09:01:36.485 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:01:36.492 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:01:36.496 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:01:36.501 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:01:36.505 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:01:36.609 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:36.786 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 361.4645ms.
2018-07-16 09:01:36.786 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:36.786 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 385.3738ms
2018-07-16 09:01:36.786 +07:00 [Information] Request finished in 394.4847ms 200 application/json; charset=utf-8
2018-07-16 09:01:38.737 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 09:01:38.741 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 09:01:38.741 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:38.748 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:38.749 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 09:01:38.750 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7522ms.
2018-07-16 09:01:38.751 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 09:01:38.774 +07:00 [Information] Executed ViewResult - view "Note" executed in 24.7734ms.
2018-07-16 09:01:38.775 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 33.5034ms
2018-07-16 09:01:38.775 +07:00 [Information] Request finished in 39.7275ms 200 text/html; charset=utf-8
2018-07-16 09:01:38.786 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 09:01:38.796 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 09:01:38.797 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:38.802 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:38.804 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 09:01:38.842 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 09:01:38.893 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 09:01:38.910 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 105.8534ms.
2018-07-16 09:01:38.914 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 09:01:38.925 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 14.3686ms.
2018-07-16 09:01:38.925 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 128.6482ms
2018-07-16 09:01:38.925 +07:00 [Information] Request finished in 139.3483ms 200 text/html; charset=utf-8
2018-07-16 09:01:40.846 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 09:01:40.848 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 09:01:40.848 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:40.868 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:40.870 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:01:40.876 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 09:01:40.877 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.3905ms.
2018-07-16 09:01:40.877 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 09:01:40.878 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1.2657ms.
2018-07-16 09:01:40.878 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 30.2812ms
2018-07-16 09:01:40.878 +07:00 [Information] Request finished in 32.1325ms 200 text/html; charset=utf-8
2018-07-16 09:01:43.961 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 257
2018-07-16 09:01:43.963 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-16 09:01:43.964 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:01:43.970 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:01:43.972 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-16 09:01:43.978 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-16 09:01:43.986 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:01:43.992 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:01:43.997 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:01:44.006 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:01:44.010 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:01:44.020 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 09:01:44.035 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 62.7405ms.
2018-07-16 09:01:44.035 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:01:44.035 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 71.9674ms
2018-07-16 09:01:44.035 +07:00 [Information] Request finished in 74.4363ms 200 application/json; charset=utf-8
2018-07-16 09:03:11.867 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:03:12.386 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:03:12.918 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:03:13.147 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:03:13.300 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:03:13.386 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:03:13.575 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:03:13.668 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:03:13.704 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:03:13.719 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:03:13.723 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:03:13.729 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 424.8203ms.
2018-07-16 09:03:13.748 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:03:13.909 +07:00 [Information] Executed ViewResult - view "Edit" executed in 165.8621ms.
2018-07-16 09:03:13.911 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1525.0165ms
2018-07-16 09:03:13.934 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 09:03:13.936 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 09:03:13.939 +07:00 [Information] Request finished in 4.8656ms 304 text/css
2018-07-16 09:03:13.940 +07:00 [Information] Request finished in 2077.6546ms 200 text/html; charset=utf-8
2018-07-16 09:03:29.260 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:03:29.262 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:03:29.263 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:03:29.269 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:03:29.271 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:03:29.278 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:03:29.284 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:03:29.290 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:03:29.295 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:03:29.303 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:03:29.307 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:03:29.307 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.5087ms.
2018-07-16 09:03:29.308 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:03:29.310 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.4155ms.
2018-07-16 09:03:29.310 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 48.0511ms
2018-07-16 09:03:29.311 +07:00 [Information] Request finished in 50.9406ms 200 text/html; charset=utf-8
2018-07-16 09:03:29.326 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 09:03:29.326 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 09:03:29.336 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 09:03:29.337 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 09:03:29.337 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 09:03:29.337 +07:00 [Information] Request finished in 0.7635ms 200 application/javascript
2018-07-16 09:03:29.341 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 09:03:29.341 +07:00 [Information] Request finished in 14.8686ms 200 application/javascript
2018-07-16 09:03:29.341 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 09:03:29.342 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 09:03:29.342 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 09:03:29.342 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 09:03:29.342 +07:00 [Information] Request finished in 5.9702ms 200 application/javascript
2018-07-16 09:03:29.342 +07:00 [Information] Request finished in 0.9858ms 200 application/javascript
2018-07-16 09:03:29.342 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 09:03:29.342 +07:00 [Information] Request finished in 0.6767ms 200 application/javascript
2018-07-16 09:03:29.349 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 09:03:29.353 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 09:03:29.353 +07:00 [Information] Request finished in 3.7766ms 200 image/jpeg
2018-07-16 09:03:29.353 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 09:03:29.353 +07:00 [Information] Request finished in 27.0267ms 200 text/css
2018-07-16 09:03:29.967 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 09:03:29.968 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 09:03:29.968 +07:00 [Information] Request finished in 1.1441ms 200 image/jpeg
2018-07-16 09:03:32.455 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:03:32.464 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:03:32.464 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:03:32.481 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:03:32.503 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 09:03:32.532 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:03:32.733 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:03:32.762 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 259.5672ms.
2018-07-16 09:03:32.766 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:03:32.779 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 315.0576ms
2018-07-16 09:03:32.779 +07:00 [Information] Request finished in 324.0074ms 200 application/json; charset=utf-8
2018-07-16 09:03:33.003 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:03:33.005 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:03:33.006 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:03:33.012 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:03:33.014 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 09:03:33.021 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:03:33.031 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:03:33.044 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.7805ms.
2018-07-16 09:03:33.044 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:03:33.044 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 39.1508ms
2018-07-16 09:03:33.045 +07:00 [Information] Request finished in 42.0008ms 200 application/json; charset=utf-8
2018-07-16 09:03:34.025 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:03:34.028 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:03:34.028 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:03:34.037 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:03:34.038 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:03:34.043 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:03:34.048 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:03:34.056 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:03:34.060 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:03:34.065 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:03:34.069 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:03:34.069 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.9976ms.
2018-07-16 09:03:34.069 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:03:34.070 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5042ms.
2018-07-16 09:03:34.071 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.5686ms
2018-07-16 09:03:34.071 +07:00 [Information] Request finished in 46.247ms 200 text/html; charset=utf-8
2018-07-16 09:03:35.803 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:03:35.805 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:03:35.805 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:03:35.837 +07:00 [Information] Executed DbCommand ("31"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:03:35.839 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 09:03:35.843 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:03:35.850 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:03:35.857 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 18.0773ms.
2018-07-16 09:03:35.857 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:03:35.857 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 52.2639ms
2018-07-16 09:03:35.857 +07:00 [Information] Request finished in 54.3697ms 200 application/json; charset=utf-8
2018-07-16 09:03:36.185 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:03:36.186 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:03:36.187 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:03:36.198 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:03:36.199 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 09:03:36.205 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:03:36.223 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:03:36.231 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 31.2034ms.
2018-07-16 09:03:36.231 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:03:36.231 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 44.5517ms
2018-07-16 09:03:36.231 +07:00 [Information] Request finished in 45.6206ms 200 application/json; charset=utf-8
2018-07-16 09:03:36.641 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:03:36.644 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:03:36.645 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:03:36.651 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:03:36.652 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:03:36.658 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:03:36.665 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:03:36.670 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:03:36.674 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:03:36.679 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:03:36.683 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:03:36.683 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.561ms.
2018-07-16 09:03:36.683 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:03:36.684 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3849ms.
2018-07-16 09:03:36.685 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 40.4709ms
2018-07-16 09:03:36.685 +07:00 [Information] Request finished in 47.5459ms 200 text/html; charset=utf-8
2018-07-16 09:03:53.517 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 09:03:53.523 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 09:03:53.524 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:03:53.528 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:03:53.529 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:03:53.578 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 09:03:53.587 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 58.0979ms.
2018-07-16 09:03:53.589 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 09:03:53.657 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 69.8088ms.
2018-07-16 09:03:53.657 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 133.9033ms
2018-07-16 09:03:53.658 +07:00 [Information] Request finished in 141.1424ms 200 text/html; charset=utf-8
2018-07-16 09:16:17.391 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:16:17.394 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:16:17.394 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:17.424 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:17.426 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 09:16:17.431 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:16:17.441 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:16:17.459 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 33.0865ms.
2018-07-16 09:16:17.459 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:17.460 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 65.9163ms
2018-07-16 09:16:17.460 +07:00 [Information] Request finished in 68.8408ms 200 application/json; charset=utf-8
2018-07-16 09:16:18.177 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:16:18.179 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:16:18.179 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:18.185 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:18.186 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 09:16:18.194 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:16:18.208 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:16:18.226 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 40.5276ms.
2018-07-16 09:16:18.227 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:18.227 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 48.0354ms
2018-07-16 09:16:18.227 +07:00 [Information] Request finished in 50.1449ms 200 application/json; charset=utf-8
2018-07-16 09:16:18.809 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:16:18.811 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:16:18.811 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:18.819 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:18.819 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 09:16:18.827 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:16:18.839 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:16:18.848 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 28.9461ms.
2018-07-16 09:16:18.849 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:18.849 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 37.9728ms
2018-07-16 09:16:18.849 +07:00 [Information] Request finished in 39.7085ms 200 application/json; charset=utf-8
2018-07-16 09:16:19.355 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:16:19.356 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:16:19.356 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:19.361 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:19.362 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 09:16:19.367 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:16:19.374 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:16:19.381 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 18.7868ms.
2018-07-16 09:16:19.382 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:19.382 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 26.0414ms
2018-07-16 09:16:19.382 +07:00 [Information] Request finished in 27.493ms 200 application/json; charset=utf-8
2018-07-16 09:16:19.988 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:16:19.991 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:16:19.991 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:19.997 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:19.998 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-16 09:16:20.002 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:16:20.010 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:16:20.016 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 17.315ms.
2018-07-16 09:16:20.016 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:20.016 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 25.0761ms
2018-07-16 09:16:20.016 +07:00 [Information] Request finished in 28.4889ms 200 application/json; charset=utf-8
2018-07-16 09:16:20.444 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:16:20.445 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:16:20.445 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:20.450 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:20.451 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "True", "99"]) - Validation state: Valid
2018-07-16 09:16:20.455 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:16:20.462 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:16:20.469 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 18.0527ms.
2018-07-16 09:16:20.469 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:20.469 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 24.4862ms
2018-07-16 09:16:20.469 +07:00 [Information] Request finished in 25.6007ms 200 application/json; charset=utf-8
2018-07-16 09:16:22.438 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 09:16:22.446 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 09:16:22.447 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:22.452 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:22.458 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:16:22.494 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 09:16:22.506 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:16:22.513 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:16:22.517 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:16:22.522 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:16:22.527 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:16:22.528 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 70.101ms.
2018-07-16 09:16:22.528 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:22.528 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 82.5001ms
2018-07-16 09:16:22.528 +07:00 [Information] Request finished in 90.9537ms 200 application/json; charset=utf-8
2018-07-16 09:16:24.554 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:16:24.555 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:16:24.556 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:24.562 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:24.563 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 09:16:24.567 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:16:24.575 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:16:24.580 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16.9691ms.
2018-07-16 09:16:24.580 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:24.580 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 24.9119ms
2018-07-16 09:16:24.580 +07:00 [Information] Request finished in 26.9196ms 200 application/json; charset=utf-8
2018-07-16 09:16:25.902 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 09:16:25.903 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 09:16:25.903 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:25.909 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:25.909 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:16:25.913 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 09:16:25.918 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:16:25.923 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:16:25.929 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:16:25.935 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:16:25.942 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:16:25.942 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 32.8357ms.
2018-07-16 09:16:25.942 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:25.943 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 39.6174ms
2018-07-16 09:16:25.943 +07:00 [Information] Request finished in 40.9895ms 200 application/json; charset=utf-8
2018-07-16 09:16:28.081 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:16:28.082 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:16:28.083 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:28.089 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:28.090 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 09:16:28.097 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:16:28.112 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:16:28.139 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 48.7121ms.
2018-07-16 09:16:28.139 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:28.139 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 56.8627ms
2018-07-16 09:16:28.139 +07:00 [Information] Request finished in 58.6844ms 200 application/json; charset=utf-8
2018-07-16 09:16:29.791 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 09:16:29.792 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 09:16:29.793 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:16:29.799 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:16:29.800 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:16:29.806 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 09:16:29.812 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:16:29.819 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:16:29.824 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:16:29.829 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:16:29.833 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:16:29.833 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 33.2688ms.
2018-07-16 09:16:29.834 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:16:29.834 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 41.3091ms
2018-07-16 09:16:29.834 +07:00 [Information] Request finished in 42.5702ms 200 application/json; charset=utf-8
2018-07-16 09:17:59.137 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 09:17:59.145 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:17:59.157 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:17:59.229 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 09:17:59.288 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 09:17:59.308 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:17:59.309 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:17:59.318 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:17:59.327 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:17:59.336 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:17:59.345 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:17:59.355 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:17:59.360 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:17:59.361 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 51.7048ms.
2018-07-16 09:18:01.013 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:18:01.037 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1676.03ms.
2018-07-16 09:18:01.037 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1729.322ms
2018-07-16 09:18:01.037 +07:00 [Information] Request finished in 1899.86ms 200 text/html; charset=utf-8
2018-07-16 09:18:01.062 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 09:18:01.070 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 09:18:01.070 +07:00 [Information] Request finished in 7.6967ms 200 text/css
2018-07-16 09:24:10.983 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:24:10.994 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:24:10.994 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:24:11.021 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:24:11.022 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:24:11.029 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:24:11.035 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:24:11.041 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:24:11.047 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:24:11.052 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:24:11.056 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:24:11.056 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.6651ms.
2018-07-16 09:24:11.368 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:24:11.384 +07:00 [Information] Executed ViewResult - view "Edit" executed in 328.2197ms.
2018-07-16 09:24:11.384 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 390.6935ms
2018-07-16 09:24:11.385 +07:00 [Information] Request finished in 401.8369ms 200 text/html; charset=utf-8
2018-07-16 09:24:11.403 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 09:24:11.404 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 09:24:11.404 +07:00 [Information] Request finished in 0.8882ms 304 text/css
2018-07-16 09:24:11.412 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 09:24:11.414 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 09:24:11.414 +07:00 [Information] Request finished in 2.6108ms 304 application/javascript
2018-07-16 09:25:07.800 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:25:07.811 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:25:07.812 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:25:07.821 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:25:07.822 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:25:07.829 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:25:07.838 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:25:07.844 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:25:07.849 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:25:07.854 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:25:07.859 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:25:07.859 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 37ms.
2018-07-16 09:25:08.154 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:25:08.172 +07:00 [Information] Executed ViewResult - view "Edit" executed in 313.2105ms.
2018-07-16 09:25:08.172 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 361.2247ms
2018-07-16 09:25:08.173 +07:00 [Information] Request finished in 373.1453ms 200 text/html; charset=utf-8
2018-07-16 09:28:36.130 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:28:36.131 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:28:36.137 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:28:36.141 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 09:28:36.171 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 09:28:36.172 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 09:28:36.172 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 09:28:36.172 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 09:28:36.180 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.181 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.181 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.184 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.184 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.184 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.185 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.186 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.187 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.187 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.187 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.187 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.187 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.188 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.188 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.188 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.189 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.189 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 09:28:36.210 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 09:28:36.261 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.309 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.323 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.329 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.333 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.344 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.371 +07:00 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.375 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.378 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.382 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.386 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.390 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.393 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 09:28:36.399 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 09:28:36.423 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:28:36.424 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:28:36.431 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:28:36.435 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:28:36.441 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:28:36.446 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:28:36.451 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:28:36.454 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:28:36.455 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.1886ms.
2018-07-16 09:28:36.672 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:28:36.692 +07:00 [Information] Executed ViewResult - view "Edit" executed in 236.8439ms.
2018-07-16 09:28:36.692 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 268.295ms
2018-07-16 09:28:36.692 +07:00 [Information] Request finished in 562.4753ms 200 text/html; charset=utf-8
2018-07-16 09:28:36.711 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 09:28:36.712 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 09:28:36.712 +07:00 [Information] Request finished in 1.1442ms 304 application/javascript
2018-07-16 09:28:36.714 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 09:28:36.715 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 09:28:36.715 +07:00 [Information] Request finished in 0.9664ms 304 text/css
2018-07-16 09:34:21.105 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:34:21.116 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:34:21.116 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:34:21.144 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:34:21.147 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:34:21.152 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:34:21.163 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:34:21.169 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:34:21.173 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:34:21.179 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:34:21.186 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:34:21.186 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 39.1284ms.
2018-07-16 09:34:21.416 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:34:21.437 +07:00 [Information] Executed ViewResult - view "Edit" executed in 251.5889ms.
2018-07-16 09:34:21.438 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 321.7408ms
2018-07-16 09:34:21.438 +07:00 [Information] Request finished in 332.8424ms 200 text/html; charset=utf-8
2018-07-16 09:34:21.459 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 09:34:21.462 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 09:34:21.462 +07:00 [Information] Request finished in 2.9804ms 304 text/css
2018-07-16 09:34:21.462 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 09:34:21.462 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 09:34:21.462 +07:00 [Information] Request finished in 0.3541ms 304 application/javascript
2018-07-16 09:36:09.353 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 09:36:09.358 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 09:36:09.359 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:36:09.365 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:36:09.365 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 09:36:09.367 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.987ms.
2018-07-16 09:36:09.368 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 09:36:09.418 +07:00 [Information] Executed ViewResult - view "Note" executed in 51.0226ms.
2018-07-16 09:36:09.418 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 59.8323ms
2018-07-16 09:36:09.418 +07:00 [Information] Request finished in 65.2571ms 200 text/html; charset=utf-8
2018-07-16 09:36:09.429 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 09:36:09.437 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 09:36:09.438 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:36:09.444 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:36:09.444 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 09:36:09.487 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 09:36:09.552 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 09:36:09.561 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 116.8926ms.
2018-07-16 09:36:09.564 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 09:36:09.571 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 8.9406ms.
2018-07-16 09:36:09.571 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 133.3133ms
2018-07-16 09:36:09.571 +07:00 [Information] Request finished in 142.0494ms 200 text/html; charset=utf-8
2018-07-16 09:42:18.139 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 09:42:18.158 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:42:18.159 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:42:18.183 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:42:18.184 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 09:42:18.188 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:42:18.196 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:42:18.244 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 60.0204ms.
2018-07-16 09:42:18.244 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:42:18.245 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 86.3915ms
2018-07-16 09:42:18.245 +07:00 [Information] Request finished in 106.0426ms 200 application/json; charset=utf-8
2018-07-16 09:42:18.852 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 09:42:18.854 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 09:42:18.855 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:42:18.860 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:42:18.862 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 09:42:18.866 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:42:18.875 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 09:42:18.915 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 52.1791ms.
2018-07-16 09:42:18.915 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 09:42:18.915 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 60.6371ms
2018-07-16 09:42:18.915 +07:00 [Information] Request finished in 63.8806ms 200 application/json; charset=utf-8
2018-07-16 09:42:26.396 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:42:26.398 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:42:26.398 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:42:26.404 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:42:26.405 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:42:26.411 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:42:26.416 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:42:26.422 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:42:26.440 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:42:26.449 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:42:26.454 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:42:26.454 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 48.9533ms.
2018-07-16 09:42:26.454 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:42:26.456 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.7276ms.
2018-07-16 09:42:26.456 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 58.0847ms
2018-07-16 09:42:26.456 +07:00 [Information] Request finished in 59.9941ms 200 text/html; charset=utf-8
2018-07-16 09:42:26.480 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 09:42:26.481 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 09:42:26.481 +07:00 [Information] Request finished in 0.9173ms 304 text/css
2018-07-16 09:42:26.484 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 09:42:26.484 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 09:42:26.484 +07:00 [Information] Request finished in 0.8032ms 304 application/javascript
2018-07-16 09:42:59.989 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:43:00.002 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:43:00.003 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:43:00.011 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:43:00.012 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:43:00.021 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:43:00.027 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:43:00.033 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:43:00.038 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:43:00.044 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:43:00.048 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:43:00.048 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.2738ms.
2018-07-16 09:43:00.267 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:43:00.290 +07:00 [Information] Executed ViewResult - view "Edit" executed in 241.3468ms.
2018-07-16 09:43:00.290 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 287.7957ms
2018-07-16 09:43:00.290 +07:00 [Information] Request finished in 305.051ms 200 text/html; charset=utf-8
2018-07-16 09:43:06.480 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:43:06.482 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:43:06.483 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:43:06.493 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:43:06.494 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:43:06.500 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:43:06.508 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:43:06.515 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:43:06.519 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:43:06.529 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:43:06.536 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:43:06.536 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 41.2436ms.
2018-07-16 09:43:06.536 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:43:06.537 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.418ms.
2018-07-16 09:43:06.537 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 55.241ms
2018-07-16 09:43:06.537 +07:00 [Information] Request finished in 57.1065ms 200 text/html; charset=utf-8
2018-07-16 09:43:52.940 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:43:52.941 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:43:52.942 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:43:52.948 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:43:52.949 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:43:52.956 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:43:52.964 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:43:52.971 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:43:52.980 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:43:52.986 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:43:52.994 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:43:52.994 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 44.9325ms.
2018-07-16 09:43:52.994 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:43:52.996 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.6453ms.
2018-07-16 09:43:52.996 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 54.3175ms
2018-07-16 09:43:52.996 +07:00 [Information] Request finished in 57.4056ms 200 text/html; charset=utf-8
2018-07-16 09:45:30.825 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:45:30.827 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:45:30.828 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:45:30.836 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:45:30.836 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:45:30.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:45:30.848 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:45:30.855 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:45:30.860 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:45:30.867 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:45:30.871 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:45:30.871 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.9953ms.
2018-07-16 09:45:30.872 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:45:30.873 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8388ms.
2018-07-16 09:45:30.873 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 46.7974ms
2018-07-16 09:45:30.874 +07:00 [Information] Request finished in 48.4903ms 200 text/html; charset=utf-8
2018-07-16 09:54:35.932 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:54:36.539 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:54:37.064 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:54:37.271 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:54:37.438 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:54:37.525 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:54:37.699 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:54:37.791 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:54:37.827 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:54:37.843 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:54:37.847 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:54:37.853 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 410.9758ms.
2018-07-16 09:54:39.431 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:54:39.654 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1787.2767ms.
2018-07-16 09:54:39.656 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 3115.6745ms
2018-07-16 09:54:39.685 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 09:54:39.685 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 09:54:39.687 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 09:54:39.687 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 09:54:39.688 +07:00 [Information] Request finished in 3762.5352ms 200 text/html; charset=utf-8
2018-07-16 09:54:39.689 +07:00 [Information] Request finished in 4.342ms 304 text/css
2018-07-16 09:54:39.689 +07:00 [Information] Request finished in 4.3306ms 304 application/javascript
2018-07-16 09:55:15.785 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 09:55:15.803 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 09:55:15.805 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 09:55:15.813 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 09:55:15.817 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 09:55:15.823 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 09:55:15.829 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 09:55:15.838 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:55:15.844 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:55:15.850 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 09:55:15.855 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 09:55:15.856 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 38.2151ms.
2018-07-16 09:55:16.193 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 09:55:16.223 +07:00 [Information] Executed ViewResult - view "Edit" executed in 366.7399ms.
2018-07-16 09:55:16.223 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 419.33ms
2018-07-16 09:55:16.223 +07:00 [Information] Request finished in 438.8382ms 200 text/html; charset=utf-8
2018-07-16 10:00:13.895 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:00:14.637 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:00:14.827 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:00:14.962 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 10:00:14.986 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 10:00:14.988 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 10:00:14.988 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 10:00:14.988 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 10:00:15.004 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.006 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.006 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.013 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.013 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.014 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.014 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.015 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.016 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.016 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.016 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.016 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.016 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.017 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.017 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.018 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.019 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.019 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 10:00:15.040 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 10:00:15.096 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.138 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.143 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.147 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.150 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.152 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.154 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.158 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.161 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.165 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.168 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.172 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.176 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:00:15.190 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 10:00:15.612 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:00:15.649 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:00:15.728 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:00:15.887 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:00:15.966 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:00:15.999 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:00:16.016 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:00:16.019 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:00:16.026 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 372.5489ms.
2018-07-16 10:00:16.045 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:00:16.216 +07:00 [Information] Executed ViewResult - view "Edit" executed in 176.1367ms.
2018-07-16 10:00:16.219 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 606.5162ms
2018-07-16 10:00:16.245 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:00:16.248 +07:00 [Information] Request finished in 2358.5461ms 200 text/html; charset=utf-8
2018-07-16 10:00:16.250 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 10:00:16.270 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:00:16.271 +07:00 [Information] Request finished in 20.7907ms 200 text/css
2018-07-16 10:00:16.271 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:00:16.271 +07:00 [Information] Request finished in 26.8447ms 200 application/javascript
2018-07-16 10:00:25.398 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:00:25.403 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:00:25.404 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:00:25.410 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:00:25.420 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:00:25.425 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:00:25.432 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:00:25.437 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:00:25.442 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:00:25.447 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:00:25.451 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:00:25.452 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.6218ms.
2018-07-16 10:00:25.452 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:00:25.455 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.6952ms.
2018-07-16 10:00:25.455 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 52.0758ms
2018-07-16 10:00:25.455 +07:00 [Information] Request finished in 57.4879ms 200 text/html; charset=utf-8
2018-07-16 10:00:25.490 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 10:00:25.490 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:00:25.491 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 10:00:25.491 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 10:00:25.493 +07:00 [Information] Request finished in 2.6622ms 304 text/css
2018-07-16 10:00:25.493 +07:00 [Information] Request finished in 2.6622ms 304 application/javascript
2018-07-16 10:00:28.211 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 10:00:28.216 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 10:00:28.217 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:00:28.224 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:00:28.227 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 10:00:28.228 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7683ms.
2018-07-16 10:00:28.230 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 10:00:28.284 +07:00 [Information] Executed ViewResult - view "Note" executed in 55.9074ms.
2018-07-16 10:00:28.284 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 67.2849ms
2018-07-16 10:00:28.284 +07:00 [Information] Request finished in 72.6749ms 200 text/html; charset=utf-8
2018-07-16 10:00:28.305 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:00:28.316 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:00:28.317 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:00:28.323 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:00:28.347 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:00:28.394 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:00:28.455 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:00:28.465 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 117.4659ms.
2018-07-16 10:00:28.466 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:00:28.474 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 8.4364ms.
2018-07-16 10:00:28.474 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 157.375ms
2018-07-16 10:00:28.474 +07:00 [Information] Request finished in 171.9741ms 200 text/html; charset=utf-8
2018-07-16 10:01:54.549 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:01:54.551 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:01:54.551 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:01:55.462 +07:00 [Information] Executed DbCommand ("909"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:01:55.463 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:01:55.522 +07:00 [Information] Executed DbCommand ("57"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:01:55.528 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:01:55.534 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:01:55.539 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:01:55.544 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:01:55.548 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:01:55.548 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 84.8971ms.
2018-07-16 10:01:55.549 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:01:55.550 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8364ms.
2018-07-16 10:01:55.551 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 999.9159ms
2018-07-16 10:01:55.551 +07:00 [Information] Request finished in 1002.0845ms 200 text/html; charset=utf-8
2018-07-16 10:01:55.567 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 10:01:55.569 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:01:55.569 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 10:01:55.569 +07:00 [Information] Request finished in 2.266ms 304 text/css
2018-07-16 10:01:55.569 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 10:01:55.569 +07:00 [Information] Request finished in 0.379ms 304 application/javascript
2018-07-16 10:05:50.302 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:05:50.303 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:05:50.304 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:05:50.310 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:05:50.310 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:05:50.315 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:05:50.324 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:05:50.330 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:05:50.335 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:05:50.362 +07:00 [Information] Executed DbCommand ("26"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:05:50.368 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:05:50.368 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 57.99ms.
2018-07-16 10:05:50.369 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:05:50.370 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5572ms.
2018-07-16 10:05:50.370 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 66.7636ms
2018-07-16 10:05:50.370 +07:00 [Information] Request finished in 68.6271ms 200 text/html; charset=utf-8
2018-07-16 10:05:50.385 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=TIqiiJsjKdI7qS3vqTme1udubhURFZnadsvuaH9A9Cg  
2018-07-16 10:05:50.386 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 10:05:50.386 +07:00 [Information] Request finished in 0.7685ms 304 text/css
2018-07-16 10:05:50.388 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:05:50.389 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 10:05:50.389 +07:00 [Information] Request finished in 0.7254ms 304 application/javascript
2018-07-16 10:11:26.493 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:11:26.494 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:11:26.496 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:11:26.526 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:11:26.527 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:11:26.532 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:11:26.536 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:11:26.541 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:11:26.546 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:11:26.555 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:11:26.559 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:11:26.559 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.8411ms.
2018-07-16 10:11:26.560 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:11:27.929 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1369.3553ms.
2018-07-16 10:11:27.929 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1434.5432ms
2018-07-16 10:11:27.929 +07:00 [Information] Request finished in 1436.6192ms 200 text/html; charset=utf-8
2018-07-16 10:11:27.973 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=P3trk9_5uX_2hmaQp8gShFGI4cI49n_wr7XYCqtulD8  
2018-07-16 10:11:27.977 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:11:27.978 +07:00 [Information] Request finished in 4.5942ms 200 text/css
2018-07-16 10:11:27.979 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:11:27.980 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 10:11:27.980 +07:00 [Information] Request finished in 0.85ms 304 application/javascript
2018-07-16 10:12:31.314 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:12:31.326 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:12:31.326 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:12:31.333 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:12:31.335 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:12:31.342 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:12:31.347 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:12:31.352 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:12:31.356 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:12:31.360 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:12:31.364 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:12:31.365 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.4534ms.
2018-07-16 10:12:33.170 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:12:33.302 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1937.7538ms.
2018-07-16 10:12:33.303 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1976.9215ms
2018-07-16 10:12:33.303 +07:00 [Information] Request finished in 1988.9262ms 200 text/html; charset=utf-8
2018-07-16 10:12:33.323 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:12:33.325 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=iwiw6Qs5xvmqwSEO6GV0lF95sGIOFJ4waCKkXPM5M5Y  
2018-07-16 10:12:33.326 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:12:33.326 +07:00 [Information] Request finished in 3.7069ms 200 application/javascript
2018-07-16 10:12:33.328 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:12:33.330 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:12:33.330 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 10:12:33.332 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:12:33.335 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:12:33.335 +07:00 [Information] Request finished in 9.6511ms 200 text/css
2018-07-16 10:12:33.335 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:12:33.365 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:12:33.365 +07:00 [Information] Request finished in 34.708ms 200 application/javascript
2018-07-16 10:12:33.367 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:12:33.368 +07:00 [Information] Request finished in 32.2944ms 200 image/jpeg
2018-07-16 10:12:33.609 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:12:33.609 +07:00 [Information] Request finished in 277.0503ms 200 application/javascript
2018-07-16 10:12:33.673 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 10:12:33.674 +07:00 [Information] Request finished in 343.6632ms 200 application/javascript
2018-07-16 10:12:33.717 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:12:33.717 +07:00 [Information] Request finished in 389.9873ms 200 application/javascript
2018-07-16 10:12:33.968 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:12:33.986 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:12:33.986 +07:00 [Information] Request finished in 18.1513ms 200 image/jpeg
2018-07-16 10:14:41.648 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:14:41.650 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:14:41.650 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:14:41.656 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:14:41.657 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:14:41.665 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:14:41.672 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:14:41.677 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:14:41.681 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:14:41.687 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:14:41.690 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:14:41.690 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.2976ms.
2018-07-16 10:14:41.690 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:14:41.698 +07:00 [Information] Executed ViewResult - view "Edit" executed in 7.2709ms.
2018-07-16 10:14:41.698 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 48.1444ms
2018-07-16 10:14:41.698 +07:00 [Information] Request finished in 50.0938ms 200 text/html; charset=utf-8
2018-07-16 10:14:41.714 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=gIthNiSaEoNXnWPXfvWvMl4_npaLNo6bzf-xT81WhZc  
2018-07-16 10:14:41.718 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:14:41.720 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:14:41.720 +07:00 [Information] Request finished in 2.0362ms 200 application/javascript
2018-07-16 10:14:41.720 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:14:41.721 +07:00 [Information] Request finished in 6.1392ms 200 text/css
2018-07-16 10:14:41.732 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:14:41.734 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 10:14:41.734 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:14:41.734 +07:00 [Information] Request finished in 2.1979ms 200 image/jpeg
2018-07-16 10:14:41.734 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:14:41.735 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 10:14:41.735 +07:00 [Information] Request finished in 1.2905ms 200 application/javascript
2018-07-16 10:14:41.735 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:14:41.735 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:14:41.735 +07:00 [Information] Request finished in 0.692ms 200 application/javascript
2018-07-16 10:14:41.753 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:14:41.753 +07:00 [Information] Request finished in 18.0822ms 200 application/javascript
2018-07-16 10:14:41.754 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:14:41.756 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:14:41.757 +07:00 [Information] Request finished in 3.2132ms 200 application/javascript
2018-07-16 10:14:42.358 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:14:42.359 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:14:42.359 +07:00 [Information] Request finished in 1.3333ms 200 image/jpeg
2018-07-16 10:14:58.482 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:14:58.483 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:14:58.483 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:14:58.499 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:14:58.500 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:14:58.511 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:14:58.527 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:14:58.548 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:14:58.558 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:14:58.567 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:14:58.579 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:14:58.579 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 79.079ms.
2018-07-16 10:14:58.579 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:14:58.588 +07:00 [Information] Executed ViewResult - view "Edit" executed in 8.4824ms.
2018-07-16 10:14:58.588 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 105.1759ms
2018-07-16 10:14:58.588 +07:00 [Information] Request finished in 106.5435ms 200 text/html; charset=utf-8
2018-07-16 10:14:58.608 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 10:14:58.608 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:14:58.608 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:14:58.609 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:14:58.609 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 10:14:58.609 +07:00 [Information] Request finished in 1.0063ms 200 application/javascript
2018-07-16 10:14:58.609 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=OhZD8mNE27QpO-e498FvpfScZI9hcpo8HOHsNzWZL0k  
2018-07-16 10:14:58.609 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:14:58.609 +07:00 [Information] Request finished in 1.0677ms 200 application/javascript
2018-07-16 10:14:58.609 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:14:58.609 +07:00 [Information] Request finished in 1.4884ms 200 application/javascript
2018-07-16 10:14:58.612 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:14:58.613 +07:00 [Information] Request finished in 3.8876ms 200 application/javascript
2018-07-16 10:14:58.615 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:14:58.615 +07:00 [Information] Request finished in 6.4449ms 200 text/css
2018-07-16 10:14:58.619 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:14:58.621 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:14:58.621 +07:00 [Information] Request finished in 1.8906ms 200 application/javascript
2018-07-16 10:14:58.625 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:14:58.627 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:14:58.627 +07:00 [Information] Request finished in 2.2066ms 200 image/jpeg
2018-07-16 10:14:58.864 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:14:58.865 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:14:58.865 +07:00 [Information] Request finished in 1.2513ms 200 image/jpeg
2018-07-16 10:15:15.620 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:15:15.622 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:15:15.623 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:15:15.629 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:15:15.630 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:15:15.636 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:15:15.641 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:15:15.647 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:15:15.651 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:15:15.656 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:15:15.659 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:15:15.660 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.3754ms.
2018-07-16 10:15:15.660 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:15:15.671 +07:00 [Information] Executed ViewResult - view "Edit" executed in 11.1132ms.
2018-07-16 10:15:15.671 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 49.1108ms
2018-07-16 10:15:15.671 +07:00 [Information] Request finished in 51.316ms 200 text/html; charset=utf-8
2018-07-16 10:15:15.692 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=nNDZA2JVOLR6tJlWe8VwnW-W5E6ab6iM2XtlfDN9k7Y  
2018-07-16 10:15:15.695 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:15:15.695 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:15:15.695 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 10:15:15.695 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:15:15.696 +07:00 [Information] Request finished in 0.6534ms 200 application/javascript
2018-07-16 10:15:15.696 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 10:15:15.696 +07:00 [Information] Request finished in 0.5479ms 200 application/javascript
2018-07-16 10:15:15.696 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:15:15.696 +07:00 [Information] Request finished in 1.1268ms 200 application/javascript
2018-07-16 10:15:15.701 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:15:15.701 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:15:15.702 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:15:15.702 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:15:15.702 +07:00 [Information] Request finished in 0.7738ms 200 application/javascript
2018-07-16 10:15:15.708 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:15:15.708 +07:00 [Information] Request finished in 15.5659ms 200 text/css
2018-07-16 10:15:15.709 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:15:15.709 +07:00 [Information] Request finished in 7.1063ms 200 application/javascript
2018-07-16 10:15:15.711 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:15:15.711 +07:00 [Information] Request finished in 9.9744ms 200 image/jpeg
2018-07-16 10:15:15.949 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:15:15.949 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:15:15.950 +07:00 [Information] Request finished in 1.0388ms 200 image/jpeg
2018-07-16 10:15:20.752 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=nNDZA2JVOLR6tJlWe8VwnW-W5E6ab6iM2XtlfDN9k7Y  
2018-07-16 10:15:20.753 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 10:15:20.753 +07:00 [Information] Request finished in 0.8739ms 304 text/css
2018-07-16 10:15:34.618 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:15:34.619 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:15:34.619 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:15:34.633 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:15:34.634 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:15:34.645 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:15:34.650 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:15:34.657 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:15:34.661 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:15:34.666 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:15:34.670 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:15:34.670 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.7219ms.
2018-07-16 10:15:34.670 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:15:34.671 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5572ms.
2018-07-16 10:15:34.672 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 52.7172ms
2018-07-16 10:15:34.672 +07:00 [Information] Request finished in 54.2901ms 200 text/html; charset=utf-8
2018-07-16 10:15:34.690 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=nNDZA2JVOLR6tJlWe8VwnW-W5E6ab6iM2XtlfDN9k7Y  
2018-07-16 10:15:34.690 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 10:15:34.691 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:15:34.691 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:15:34.691 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 10:15:34.691 +07:00 [Information] Request finished in 1.3452ms 200 application/javascript
2018-07-16 10:15:34.692 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:15:34.692 +07:00 [Information] Request finished in 1.0419ms 200 application/javascript
2018-07-16 10:15:34.696 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:15:34.696 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:15:34.697 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:15:34.697 +07:00 [Information] Request finished in 1.1141ms 200 application/javascript
2018-07-16 10:15:34.697 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:15:34.697 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:15:34.697 +07:00 [Information] Request finished in 6.5702ms 200 application/javascript
2018-07-16 10:15:34.697 +07:00 [Information] Request finished in 1.4181ms 200 application/javascript
2018-07-16 10:15:34.699 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:15:34.699 +07:00 [Information] Request finished in 9.3023ms 200 text/css
2018-07-16 10:15:34.714 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:15:34.715 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:15:34.715 +07:00 [Information] Request finished in 1.0845ms 200 image/jpeg
2018-07-16 10:15:35.039 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:15:35.040 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:15:35.040 +07:00 [Information] Request finished in 2.0846ms 200 image/jpeg
2018-07-16 10:15:38.868 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:15:38.871 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:15:38.871 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:15:38.877 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:15:38.877 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:15:38.884 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:15:38.890 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:15:38.898 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:15:38.907 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:15:38.912 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:15:38.917 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:15:38.917 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 39.9279ms.
2018-07-16 10:15:38.917 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:15:38.927 +07:00 [Information] Executed ViewResult - view "Edit" executed in 9.9132ms.
2018-07-16 10:15:38.927 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 56.4926ms
2018-07-16 10:15:38.928 +07:00 [Information] Request finished in 59.1927ms 200 text/html; charset=utf-8
2018-07-16 10:15:38.947 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:15:38.947 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:15:38.947 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:15:38.948 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:15:38.948 +07:00 [Information] Request finished in 1.4612ms 200 application/javascript
2018-07-16 10:15:38.949 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:15:38.949 +07:00 [Information] Request finished in 2.0044ms 200 application/javascript
2018-07-16 10:15:38.950 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 10:15:38.950 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:15:38.950 +07:00 [Information] Request finished in 3.7487ms 200 text/css
2018-07-16 10:15:38.950 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 10:15:38.951 +07:00 [Information] Request finished in 0.7964ms 200 application/javascript
2018-07-16 10:15:38.954 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:15:38.960 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:15:38.961 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:15:38.961 +07:00 [Information] Request finished in 6.7546ms 200 application/javascript
2018-07-16 10:15:38.961 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:15:38.961 +07:00 [Information] Request finished in 0.6709ms 200 application/javascript
2018-07-16 10:15:38.964 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:15:38.965 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:15:38.966 +07:00 [Information] Request finished in 1.9322ms 200 image/jpeg
2018-07-16 10:15:39.186 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:15:39.187 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:15:39.187 +07:00 [Information] Request finished in 1.6099ms 200 image/jpeg
2018-07-16 10:16:51.501 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:16:51.514 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:16:51.514 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:16:51.538 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:16:51.539 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:16:51.546 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:16:51.553 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:16:51.558 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:16:51.563 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:16:51.568 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:16:51.573 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:16:51.574 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.4161ms.
2018-07-16 10:16:51.912 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:16:51.933 +07:00 [Information] Executed ViewResult - view "Edit" executed in 359.095ms.
2018-07-16 10:16:51.933 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 419.0865ms
2018-07-16 10:16:51.933 +07:00 [Information] Request finished in 432.2393ms 200 text/html; charset=utf-8
2018-07-16 10:16:51.949 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:16:51.950 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 10:16:51.950 +07:00 [Information] Request finished in 1.3118ms 304 text/css
2018-07-16 10:25:43.222 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:25:43.231 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:25:43.231 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:25:43.274 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:25:43.275 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:25:43.282 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:25:43.288 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:25:43.293 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:25:43.298 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:25:43.302 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:25:43.306 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:25:43.306 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.42ms.
2018-07-16 10:25:43.545 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:25:43.567 +07:00 [Information] Executed ViewResult - view "Edit" executed in 261.1972ms.
2018-07-16 10:25:43.568 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 336.6936ms
2018-07-16 10:25:43.568 +07:00 [Information] Request finished in 346.3085ms 200 text/html; charset=utf-8
2018-07-16 10:25:43.586 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:25:43.587 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 10:25:43.587 +07:00 [Information] Request finished in 0.9196ms 304 application/javascript
2018-07-16 10:25:43.590 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:25:43.590 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 10:25:43.590 +07:00 [Information] Request finished in 0.7347ms 304 text/css
2018-07-16 10:25:54.550 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:25:54.558 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:25:54.559 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:25:54.564 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:25:54.564 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:25:54.569 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:25:54.574 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:25:54.579 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:25:54.583 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:25:54.588 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:25:54.592 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:25:54.592 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.0978ms.
2018-07-16 10:25:54.818 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:25:54.838 +07:00 [Information] Executed ViewResult - view "Edit" executed in 245.9392ms.
2018-07-16 10:25:54.838 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 280.002ms
2018-07-16 10:25:54.839 +07:00 [Information] Request finished in 288.569ms 200 text/html; charset=utf-8
2018-07-16 10:26:07.259 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:26:07.267 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:26:07.267 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:26:07.273 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:26:07.273 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:26:07.279 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:26:07.284 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:26:07.291 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:26:07.295 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:26:07.300 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:26:07.303 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:26:07.304 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.2879ms.
2018-07-16 10:26:07.540 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:26:07.564 +07:00 [Information] Executed ViewResult - view "Edit" executed in 260.6098ms.
2018-07-16 10:26:07.565 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 297.8766ms
2018-07-16 10:26:07.565 +07:00 [Information] Request finished in 305.4645ms 200 text/html; charset=utf-8
2018-07-16 10:26:27.333 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:26:27.346 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:26:27.347 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:26:27.352 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:26:27.353 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:26:27.359 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:26:27.367 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:26:27.373 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:26:27.377 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:26:27.388 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:26:27.392 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:26:27.393 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 39.7856ms.
2018-07-16 10:26:27.721 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:26:27.742 +07:00 [Information] Executed ViewResult - view "Edit" executed in 349.6474ms.
2018-07-16 10:26:27.743 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 396.3175ms
2018-07-16 10:26:27.743 +07:00 [Information] Request finished in 410.5045ms 200 text/html; charset=utf-8
2018-07-16 10:28:30.872 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:28:30.881 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:28:30.882 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:28:30.900 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:28:30.901 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:28:30.916 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:28:30.921 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:28:30.926 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:28:30.930 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:28:30.935 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:28:30.939 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:28:30.939 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 38.2807ms.
2018-07-16 10:28:31.169 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:28:31.194 +07:00 [Information] Executed ViewResult - view "Edit" executed in 254.9683ms.
2018-07-16 10:28:31.195 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 313.3135ms
2018-07-16 10:28:31.195 +07:00 [Information] Request finished in 323.3688ms 200 text/html; charset=utf-8
2018-07-16 10:28:31.216 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:28:31.217 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 10:28:31.217 +07:00 [Information] Request finished in 0.7683ms 304 text/css
2018-07-16 10:28:31.218 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:28:31.218 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 10:28:31.218 +07:00 [Information] Request finished in 0.7204ms 304 application/javascript
2018-07-16 10:36:02.222 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:36:02.225 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:36:02.253 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:36:02.261 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 10:36:02.271 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 10:36:02.274 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.279 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.283 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.290 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.304 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.324 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.336 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.340 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.345 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.349 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.353 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.356 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.360 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 10:36:02.365 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 10:36:02.366 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:36:02.366 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:36:02.371 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:36:02.376 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:36:02.382 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:36:02.386 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:36:02.391 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:36:02.395 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:36:02.396 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.4874ms.
2018-07-16 10:36:02.396 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:36:02.840 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:36:02.842 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:36:02.843 +07:00 [Information] Executed ViewResult - view "Edit" executed in 447.5941ms.
2018-07-16 10:36:02.847 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:36:02.847 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:36:02.850 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:36:02.850 +07:00 [Information] Request finished in 2.2999ms 200 application/javascript
2018-07-16 10:36:02.850 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:36:02.850 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 484.7974ms
2018-07-16 10:36:02.851 +07:00 [Information] Request finished in 3.8044ms 200 text/css
2018-07-16 10:36:02.851 +07:00 [Information] Request finished in 631.1672ms 200 text/html; charset=utf-8
2018-07-16 10:36:02.864 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:36:02.865 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:36:02.865 +07:00 [Information] Request finished in 23.8016ms 200 image/jpeg
2018-07-16 10:36:02.877 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:36:02.889 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:36:02.889 +07:00 [Information] Request finished in 11.5812ms 200 application/javascript
2018-07-16 10:36:02.896 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:36:02.896 +07:00 [Information] Request finished in 32.3165ms 200 application/javascript
2018-07-16 10:36:02.904 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:36:02.904 +07:00 [Information] Request finished in 64.3973ms 200 application/javascript
2018-07-16 10:36:03.494 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:36:03.516 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:36:03.516 +07:00 [Information] Request finished in 21.3387ms 200 image/jpeg
2018-07-16 10:37:21.563 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:37:21.567 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:37:21.568 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:21.574 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:21.575 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:37:21.580 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:37:21.588 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:37:21.595 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:37:21.601 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:37:21.606 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:37:21.610 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:37:21.610 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.2709ms.
2018-07-16 10:37:21.611 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:37:22.060 +07:00 [Information] Executed ViewResult - view "Edit" executed in 448.8668ms.
2018-07-16 10:37:22.060 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 492.7285ms
2018-07-16 10:37:22.060 +07:00 [Information] Request finished in 497.1443ms 200 text/html; charset=utf-8
2018-07-16 10:37:22.091 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:37:22.092 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:37:22.094 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:37:22.094 +07:00 [Information] Request finished in 1.4892ms 200 application/javascript
2018-07-16 10:37:22.100 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:37:22.100 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:37:22.100 +07:00 [Information] Request finished in 0.8409ms 200 image/jpeg
2018-07-16 10:37:22.102 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:37:22.102 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:37:22.102 +07:00 [Information] Request finished in 11.4116ms 200 text/css
2018-07-16 10:37:22.104 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:37:22.104 +07:00 [Information] Request finished in 2.1466ms 200 application/javascript
2018-07-16 10:37:22.108 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:37:22.109 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:37:22.110 +07:00 [Information] Request finished in 1.2375ms 200 application/javascript
2018-07-16 10:37:22.128 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:37:22.128 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:37:22.129 +07:00 [Information] Request finished in 0.9274ms 200 application/javascript
2018-07-16 10:37:22.609 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:37:22.611 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:37:22.611 +07:00 [Information] Request finished in 2.3887ms 200 image/jpeg
2018-07-16 10:37:38.112 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 10:37:38.115 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:37:38.117 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:38.148 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:38.148 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:37:38.156 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:37:38.161 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:37:38.168 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:37:38.172 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:37:38.177 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:37:38.181 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:37:38.182 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.9526ms.
2018-07-16 10:37:38.182 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:37:38.185 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.9152ms.
2018-07-16 10:37:38.185 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 69.7521ms
2018-07-16 10:37:38.186 +07:00 [Information] Request finished in 74.1839ms 200 text/html; charset=utf-8
2018-07-16 10:37:38.206 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:37:38.209 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:37:38.210 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:37:38.210 +07:00 [Information] Request finished in 5.3263ms 200 application/javascript
2018-07-16 10:37:38.216 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:37:38.216 +07:00 [Information] Request finished in 6.5843ms 200 text/css
2018-07-16 10:37:38.223 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:37:38.224 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:37:38.225 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:37:38.227 +07:00 [Information] Request finished in 3.9657ms 200 application/javascript
2018-07-16 10:37:38.228 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:37:38.228 +07:00 [Information] Request finished in 3.9791ms 200 image/jpeg
2018-07-16 10:37:38.244 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:37:38.246 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:37:38.246 +07:00 [Information] Request finished in 1.8431ms 200 application/javascript
2018-07-16 10:37:38.250 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:37:38.252 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:37:38.253 +07:00 [Information] Request finished in 2.1972ms 200 application/javascript
2018-07-16 10:37:38.597 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:37:38.599 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:37:38.599 +07:00 [Information] Request finished in 1.7124ms 200 image/jpeg
2018-07-16 10:37:40.808 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager  
2018-07-16 10:37:40.813 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 10:37:40.814 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:40.819 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:40.823 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:37:40.824 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1832ms.
2018-07-16 10:37:40.825 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:37:40.884 +07:00 [Information] Executed ViewResult - view "Index" executed in 59.8826ms.
2018-07-16 10:37:40.884 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 69.818ms
2018-07-16 10:37:40.884 +07:00 [Information] Request finished in 75.7809ms 200 text/html; charset=utf-8
2018-07-16 10:37:41.201 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/plugins/bootstrap/fonts/glyphicons-halflings-regular.woff2  
2018-07-16 10:37:41.202 +07:00 [Information] The file "/Content/Admin/plugins/bootstrap/fonts/glyphicons-halflings-regular.woff2" was not modified
2018-07-16 10:37:41.203 +07:00 [Information] Request finished in 1.3091ms 304 font/woff2
2018-07-16 10:37:41.295 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 10:37:41.304 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 10:37:41.305 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:41.334 +07:00 [Information] Executed DbCommand ("28"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:41.336 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:37:41.405 +07:00 [Information] Executed DbCommand ("32"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 10:37:41.641 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:37:41.641 +07:00 [Warning] The Include operation for navigation '"[m].Vehicle"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:37:41.641 +07:00 [Warning] The Include operation for navigation '"[m].Route"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:37:41.655 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:37:41.681 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 344.2646ms.
2018-07-16 10:37:41.687 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:37:41.695 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 13.8688ms.
2018-07-16 10:37:41.695 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 390.8778ms
2018-07-16 10:37:41.695 +07:00 [Information] Request finished in 400.8802ms 200 text/html; charset=utf-8
2018-07-16 10:37:43.931 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 10:37:43.932 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 10:37:43.932 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:43.941 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:43.942 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:37:43.949 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 10:37:43.957 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:37:43.958 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 15.8583ms.
2018-07-16 10:37:43.958 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:37:43.959 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.0439ms.
2018-07-16 10:37:43.960 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 27.6178ms
2018-07-16 10:37:43.960 +07:00 [Information] Request finished in 29.4276ms 200 text/html; charset=utf-8
2018-07-16 10:37:44.634 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 10:37:44.636 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 10:37:44.637 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:44.641 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:44.642 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:37:44.649 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 10:37:44.654 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:37:44.654 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.9806ms.
2018-07-16 10:37:44.655 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:37:44.655 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.5666ms.
2018-07-16 10:37:44.655 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 19.0174ms
2018-07-16 10:37:44.655 +07:00 [Information] Request finished in 21.8216ms 200 text/html; charset=utf-8
2018-07-16 10:37:45.809 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/96?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 10:37:45.810 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:37:45.810 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:45.848 +07:00 [Information] Executed DbCommand ("36"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:45.849 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["96"]) - Validation state: Valid
2018-07-16 10:37:45.864 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:37:45.874 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:37:45.885 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:37:45.894 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE 0 = 1
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:37:45.917 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:37:45.932 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE 0 = 1
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:37:45.932 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 83.3552ms.
2018-07-16 10:37:45.932 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:37:45.935 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.5742ms.
2018-07-16 10:37:45.935 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 125.0674ms
2018-07-16 10:37:45.935 +07:00 [Information] Request finished in 126.2382ms 200 text/html; charset=utf-8
2018-07-16 10:37:49.432 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&key=&startDate=&endDate=&transportCompanyId=&direction=&isLoss=&status=&ordertype=asc&orderby=date&limit=10  
2018-07-16 10:37:49.434 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 10:37:49.434 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:49.439 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:49.439 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:37:49.440 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0156ms.
2018-07-16 10:37:49.440 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:37:49.447 +07:00 [Information] Executed ViewResult - view "Index" executed in 7.4346ms.
2018-07-16 10:37:49.447 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 13.615ms
2018-07-16 10:37:49.448 +07:00 [Information] Request finished in 15.7774ms 200 text/html; charset=utf-8
2018-07-16 10:37:49.788 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 10:37:49.790 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 10:37:49.791 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:49.803 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:49.804 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:37:49.847 +07:00 [Information] Executed DbCommand ("33"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 10:37:49.862 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:37:49.863 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 59.2836ms.
2018-07-16 10:37:49.863 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:37:49.865 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.3064ms.
2018-07-16 10:37:49.865 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 74.2749ms
2018-07-16 10:37:49.865 +07:00 [Information] Request finished in 77.1598ms 200 text/html; charset=utf-8
2018-07-16 10:37:50.982 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 10:37:50.984 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:37:50.985 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:37:51.004 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:37:51.005 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:37:51.017 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:37:51.030 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:37:51.037 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:37:51.042 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:37:51.047 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:37:51.051 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:37:51.051 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 46.4849ms.
2018-07-16 10:37:51.052 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:37:51.054 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.4772ms.
2018-07-16 10:37:51.054 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 70.2464ms
2018-07-16 10:37:51.054 +07:00 [Information] Request finished in 71.9157ms 200 text/html; charset=utf-8
2018-07-16 10:38:35.648 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 10:38:35.651 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:38:35.651 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:38:35.661 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:38:35.662 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:38:35.669 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:38:35.677 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:38:35.683 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:38:35.687 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:38:35.692 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:38:35.696 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:38:35.696 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.8176ms.
2018-07-16 10:38:35.696 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:38:35.936 +07:00 [Information] Executed ViewResult - view "Edit" executed in 239.7672ms.
2018-07-16 10:38:35.936 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 285.8158ms
2018-07-16 10:38:35.937 +07:00 [Information] Request finished in 288.4013ms 200 text/html; charset=utf-8
2018-07-16 10:38:35.960 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:38:35.961 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:38:35.961 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 10:38:35.961 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:38:35.963 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:38:35.963 +07:00 [Information] Request finished in 3.0041ms 200 application/javascript
2018-07-16 10:38:35.964 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:38:35.965 +07:00 [Information] Request finished in 3.1632ms 200 application/javascript
2018-07-16 10:38:35.965 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:38:35.967 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:38:35.967 +07:00 [Information] Request finished in 1.7987ms 200 application/javascript
2018-07-16 10:38:35.968 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:38:35.968 +07:00 [Information] Request finished in 7.4332ms 200 text/css
2018-07-16 10:38:35.976 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:38:35.976 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:38:35.977 +07:00 [Information] Request finished in 0.8414ms 200 application/javascript
2018-07-16 10:38:35.986 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:38:35.987 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:38:35.987 +07:00 [Information] Request finished in 1.1229ms 200 image/jpeg
2018-07-16 10:38:36.064 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 10:38:36.064 +07:00 [Information] Request finished in 102.6464ms 200 application/javascript
2018-07-16 10:38:36.405 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:38:36.407 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:38:36.407 +07:00 [Information] Request finished in 2.4225ms 200 image/jpeg
2018-07-16 10:38:58.956 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 10:38:58.958 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:38:58.959 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:38:58.964 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:38:58.965 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:38:58.971 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:38:58.978 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:38:58.985 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:38:58.991 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:38:58.996 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:38:59.002 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:38:59.002 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.7952ms.
2018-07-16 10:38:59.002 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:38:59.004 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8371ms.
2018-07-16 10:38:59.004 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 46.1185ms
2018-07-16 10:38:59.004 +07:00 [Information] Request finished in 48.412ms 200 text/html; charset=utf-8
2018-07-16 10:38:59.029 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 10:38:59.031 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:38:59.031 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:38:59.034 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 10:38:59.034 +07:00 [Information] Request finished in 4.6528ms 200 application/javascript
2018-07-16 10:38:59.036 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 10:38:59.036 +07:00 [Information] Request finished in 5.3883ms 200 application/javascript
2018-07-16 10:38:59.037 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 10:38:59.039 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 10:38:59.039 +07:00 [Information] Request finished in 2.1896ms 200 application/javascript
2018-07-16 10:38:59.040 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 10:38:59.040 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 10:38:59.041 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 10:38:59.041 +07:00 [Information] Request finished in 1.5099ms 200 application/javascript
2018-07-16 10:38:59.043 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:38:59.043 +07:00 [Information] Request finished in 12.5313ms 200 text/css
2018-07-16 10:38:59.043 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 10:38:59.043 +07:00 [Information] Request finished in 3.5178ms 200 application/javascript
2018-07-16 10:38:59.044 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 10:38:59.046 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 10:38:59.046 +07:00 [Information] Request finished in 2.0171ms 200 image/jpeg
2018-07-16 10:38:59.358 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 10:38:59.359 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 10:38:59.359 +07:00 [Information] Request finished in 1.2959ms 200 image/jpeg
2018-07-16 10:40:31.286 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 10:40:31.296 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:40:31.297 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:40:31.303 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:40:31.306 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:40:31.311 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:40:31.317 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:40:31.323 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:40:31.329 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:40:31.334 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:40:31.340 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:40:31.340 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.9459ms.
2018-07-16 10:40:31.561 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:40:31.583 +07:00 [Information] Executed ViewResult - view "Edit" executed in 242.3794ms.
2018-07-16 10:40:31.583 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 286.4288ms
2018-07-16 10:40:31.583 +07:00 [Information] Request finished in 297.0594ms 200 text/html; charset=utf-8
2018-07-16 10:40:43.775 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 10:40:43.784 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:40:43.785 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:40:43.791 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:40:43.791 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:40:43.796 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:40:43.801 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:40:43.806 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:40:43.811 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:40:43.817 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:40:43.820 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:40:43.821 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.9979ms.
2018-07-16 10:40:44.038 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:40:44.059 +07:00 [Information] Executed ViewResult - view "Edit" executed in 237.9268ms.
2018-07-16 10:40:44.059 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 274.0524ms
2018-07-16 10:40:44.059 +07:00 [Information] Request finished in 283.5677ms 200 text/html; charset=utf-8
2018-07-16 10:43:09.063 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-16 10:43:09.065 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:09.070 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:09.076 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 10:43:09.080 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 10:43:09.102 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-16 10:43:09.103 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:43:09.124 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 20.7416ms.
2018-07-16 10:43:09.144 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:43:09.265 +07:00 [Information] Executed ViewResult - view "Index" executed in 140.9895ms.
2018-07-16 10:43:09.265 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 163.2272ms
2018-07-16 10:43:09.265 +07:00 [Information] Request finished in 202.2806ms 200 text/html; charset=utf-8
2018-07-16 10:43:09.351 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:43:09.354 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 10:43:09.355 +07:00 [Information] Request finished in 3.4388ms 200 text/css
2018-07-16 10:43:09.943 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:09.949 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:09.950 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:09.955 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:09.962 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:10.011 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:10.030 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:10.032 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 70.2206ms.
2018-07-16 10:43:10.034 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:10.048 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 15.6994ms.
2018-07-16 10:43:10.048 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 98.6875ms
2018-07-16 10:43:10.048 +07:00 [Information] Request finished in 105.7732ms 200 text/html; charset=utf-8
2018-07-16 10:43:12.529 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-16 10:43:12.531 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-16 10:43:12.531 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:12.541 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:12.542 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:43:12.542 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0193ms.
2018-07-16 10:43:12.542 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:43:12.543 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.3432ms.
2018-07-16 10:43:12.543 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 12.4017ms
2018-07-16 10:43:12.543 +07:00 [Information] Request finished in 14.4191ms 200 text/html; charset=utf-8
2018-07-16 10:43:12.746 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:12.747 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:12.747 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:12.753 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:12.759 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:12.770 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:12.781 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:12.781 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 21.4376ms.
2018-07-16 10:43:12.781 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:12.782 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.9734ms.
2018-07-16 10:43:12.782 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 35.2932ms
2018-07-16 10:43:12.782 +07:00 [Information] Request finished in 36.4368ms 200 text/html; charset=utf-8
2018-07-16 10:43:14.233 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:14.234 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:14.234 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:14.242 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:14.243 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["2", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:14.250 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:14.259 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:14.261 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 16.992ms.
2018-07-16 10:43:14.261 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:14.262 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.7493ms.
2018-07-16 10:43:14.262 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 28.334ms
2018-07-16 10:43:14.262 +07:00 [Information] Request finished in 33.2436ms 200 text/html; charset=utf-8
2018-07-16 10:43:15.388 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:15.390 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:15.390 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:15.398 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:15.399 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["3", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:15.407 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:15.417 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:15.418 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 18.7423ms.
2018-07-16 10:43:15.418 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:15.420 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.0115ms.
2018-07-16 10:43:15.420 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 29.9227ms
2018-07-16 10:43:15.420 +07:00 [Information] Request finished in 31.9678ms 200 text/html; charset=utf-8
2018-07-16 10:43:16.523 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:16.524 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:16.525 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:16.531 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:16.533 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["4", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:16.539 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:16.545 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:16.545 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.2119ms.
2018-07-16 10:43:16.545 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:16.546 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.6074ms.
2018-07-16 10:43:16.546 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 21.8397ms
2018-07-16 10:43:16.546 +07:00 [Information] Request finished in 26.3452ms 200 text/html; charset=utf-8
2018-07-16 10:43:17.345 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:17.347 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:17.347 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:17.372 +07:00 [Information] Executed DbCommand ("24"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:17.373 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["5", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:17.383 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:17.389 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:17.390 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 16.2115ms.
2018-07-16 10:43:17.390 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:17.390 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.4799ms.
2018-07-16 10:43:17.390 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 43.4693ms
2018-07-16 10:43:17.390 +07:00 [Information] Request finished in 45.8466ms 200 text/html; charset=utf-8
2018-07-16 10:43:18.146 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:18.148 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:18.149 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:18.176 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:18.176 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["3", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:18.182 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:18.187 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:18.188 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.8568ms.
2018-07-16 10:43:18.189 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:18.189 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.844ms.
2018-07-16 10:43:18.190 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 41.4793ms
2018-07-16 10:43:18.190 +07:00 [Information] Request finished in 43.9531ms 200 text/html; charset=utf-8
2018-07-16 10:43:19.611 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:19.612 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:19.612 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:19.635 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:19.636 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["2", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:19.657 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:19.675 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:19.676 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 39.9889ms.
2018-07-16 10:43:19.677 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:19.678 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.1086ms.
2018-07-16 10:43:19.678 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 65.8422ms
2018-07-16 10:43:19.678 +07:00 [Information] Request finished in 67.1228ms 200 text/html; charset=utf-8
2018-07-16 10:43:20.708 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:20.710 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:20.711 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:20.717 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:20.718 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:20.727 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:20.738 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:20.738 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 19.9581ms.
2018-07-16 10:43:20.738 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:20.739 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.8084ms.
2018-07-16 10:43:20.739 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 28.9543ms
2018-07-16 10:43:20.739 +07:00 [Information] Request finished in 30.9412ms 200 text/html; charset=utf-8
2018-07-16 10:43:25.420 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Create  
2018-07-16 10:43:25.429 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Create\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)"
2018-07-16 10:43:25.430 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:25.437 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:25.438 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" - Validation state: Valid
2018-07-16 10:43:25.438 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5705ms.
2018-07-16 10:43:25.440 +07:00 [Information] Executing ViewResult, running view "Create".
2018-07-16 10:43:25.525 +07:00 [Information] Executed ViewResult - view "Create" executed in 86.5471ms.
2018-07-16 10:43:25.525 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" in 96.1158ms
2018-07-16 10:43:25.525 +07:00 [Information] Request finished in 106.119ms 200 text/html; charset=utf-8
2018-07-16 10:43:25.535 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Create  
2018-07-16 10:43:25.535 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Create\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)"
2018-07-16 10:43:25.536 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:25.537 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Create  
2018-07-16 10:43:25.538 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Create\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)"
2018-07-16 10:43:25.538 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:25.538 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Create  
2018-07-16 10:43:25.539 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Create\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)"
2018-07-16 10:43:25.540 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:25.540 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Create  
2018-07-16 10:43:25.541 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Create\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)"
2018-07-16 10:43:25.541 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:25.549 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:25.550 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" - Validation state: Valid
2018-07-16 10:43:25.550 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0152ms.
2018-07-16 10:43:25.550 +07:00 [Information] Executing ViewResult, running view "Create".
2018-07-16 10:43:25.553 +07:00 [Information] Executed ViewResult - view "Create" executed in 2.8543ms.
2018-07-16 10:43:25.553 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" in 17.355ms
2018-07-16 10:43:25.553 +07:00 [Information] Request finished in 18.3408ms 200 text/html; charset=utf-8
2018-07-16 10:43:25.553 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Create  
2018-07-16 10:43:25.553 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Create  
2018-07-16 10:43:25.556 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Create\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)"
2018-07-16 10:43:25.556 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Create\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)"
2018-07-16 10:43:25.556 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:25.556 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:25.557 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Create  
2018-07-16 10:43:25.558 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Create\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)"
2018-07-16 10:43:25.558 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:25.562 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:25.563 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" - Validation state: Valid
2018-07-16 10:43:25.563 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0411ms.
2018-07-16 10:43:25.564 +07:00 [Information] Executing ViewResult, running view "Create".
2018-07-16 10:43:25.566 +07:00 [Information] Executed ViewResult - view "Create" executed in 2.2298ms.
2018-07-16 10:43:25.566 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" in 28.4964ms
2018-07-16 10:43:25.566 +07:00 [Information] Request finished in 29.5616ms 200 text/html; charset=utf-8
2018-07-16 10:43:25.591 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:25.591 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:25.591 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" - Validation state: Valid
2018-07-16 10:43:25.591 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0114ms.
2018-07-16 10:43:25.591 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" - Validation state: Valid
2018-07-16 10:43:25.591 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0089ms.
2018-07-16 10:43:25.591 +07:00 [Information] Executing ViewResult, running view "Create".
2018-07-16 10:43:25.591 +07:00 [Information] Executing ViewResult, running view "Create".
2018-07-16 10:43:25.593 +07:00 [Information] Executed ViewResult - view "Create" executed in 1.1166ms.
2018-07-16 10:43:25.593 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" in 51.8114ms
2018-07-16 10:43:25.593 +07:00 [Information] Executed ViewResult - view "Create" executed in 1.3057ms.
2018-07-16 10:43:25.593 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" in 53.5451ms
2018-07-16 10:43:25.593 +07:00 [Information] Request finished in 52.6696ms 200 text/html; charset=utf-8
2018-07-16 10:43:25.593 +07:00 [Information] Request finished in 54.6054ms 200 text/html; charset=utf-8
2018-07-16 10:43:25.609 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:25.609 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:25.609 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" - Validation state: Valid
2018-07-16 10:43:25.609 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" - Validation state: Valid
2018-07-16 10:43:25.609 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.012ms.
2018-07-16 10:43:25.610 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0067ms.
2018-07-16 10:43:25.610 +07:00 [Information] Executing ViewResult, running view "Create".
2018-07-16 10:43:25.610 +07:00 [Information] Executing ViewResult, running view "Create".
2018-07-16 10:43:25.611 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:25.611 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" - Validation state: Valid
2018-07-16 10:43:25.611 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0089ms.
2018-07-16 10:43:25.611 +07:00 [Information] Executed ViewResult - view "Create" executed in 1.4194ms.
2018-07-16 10:43:25.611 +07:00 [Information] Executing ViewResult, running view "Create".
2018-07-16 10:43:25.611 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" in 53.0623ms
2018-07-16 10:43:25.613 +07:00 [Information] Request finished in 55.1327ms 200 text/html; charset=utf-8
2018-07-16 10:43:25.614 +07:00 [Information] Executed ViewResult - view "Create" executed in 3.9557ms.
2018-07-16 10:43:25.614 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" in 57.774ms
2018-07-16 10:43:25.614 +07:00 [Information] Request finished in 61.0493ms 200 text/html; charset=utf-8
2018-07-16 10:43:25.614 +07:00 [Information] Executed ViewResult - view "Create" executed in 3.4096ms.
2018-07-16 10:43:25.615 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Create (TN.UI)" in 58.6215ms
2018-07-16 10:43:25.615 +07:00 [Information] Request finished in 61.6413ms 200 text/html; charset=utf-8
2018-07-16 10:43:31.363 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:31.365 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:31.367 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:31.711 +07:00 [Information] Executed DbCommand ("341"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:31.712 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["2", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:31.721 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:31.727 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:31.728 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 15.744ms.
2018-07-16 10:43:31.728 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:31.729 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.1278ms.
2018-07-16 10:43:31.729 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 363.1356ms
2018-07-16 10:43:31.729 +07:00 [Information] Request finished in 366.4869ms 200 text/html; charset=utf-8
2018-07-16 10:43:32.758 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:32.760 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:32.762 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:32.777 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:32.778 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["3", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:32.788 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:32.795 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:32.795 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 17.3912ms.
2018-07-16 10:43:32.795 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:32.796 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.6538ms.
2018-07-16 10:43:32.796 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 34.487ms
2018-07-16 10:43:32.796 +07:00 [Information] Request finished in 38.7245ms 200 text/html; charset=utf-8
2018-07-16 10:43:33.829 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:33.832 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:33.834 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:33.840 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:33.841 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["4", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:33.848 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:33.854 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:33.854 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.0842ms.
2018-07-16 10:43:33.854 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:33.855 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.9785ms.
2018-07-16 10:43:33.855 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 22.3431ms
2018-07-16 10:43:33.856 +07:00 [Information] Request finished in 27.1957ms 200 text/html; charset=utf-8
2018-07-16 10:43:34.897 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager  
2018-07-16 10:43:34.904 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)"
2018-07-16 10:43:34.904 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:34.909 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:34.914 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:43:34.954 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:43:34.992 +07:00 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [VehicleBrand] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:43:35.015 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Provider] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:43:35.018 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 103.5125ms.
2018-07-16 10:43:35.032 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:43:35.089 +07:00 [Information] Executed ViewResult - view "Index" executed in 71.4078ms.
2018-07-16 10:43:35.089 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" in 185.4763ms
2018-07-16 10:43:35.089 +07:00 [Information] Request finished in 192.8848ms 200 text/html; charset=utf-8
2018-07-16 10:43:35.401 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager application/x-www-form-urlencoded; charset=UTF-8 295
2018-07-16 10:43:35.411 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:35.412 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:35.420 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:35.421 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name", "", "", "", "", "", "", "", "", "", "False", "False", "False", "False"]) - Validation state: Valid
2018-07-16 10:43:35.548 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:43:35.548 +07:00 [Warning] The Include operation for navigation '"[m].VehicleBrand"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:43:35.702 +07:00 [Information] Executed DbCommand ("72"ms) [Parameters=["@__p_10='?' (DbType = Int32), @__p_11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m.VehicleGroup].[Id], [m.VehicleGroup].[Name], [m.VehicleFloorboardsType].[Id], [m.VehicleFloorboardsType].[Name], [m.VehicleBrand].[Id], [m.VehicleBrand].[Name], [m].[Id] AS [Id1], [m].[Aircon], [m].[Capacity], [m].[ContractEndDate], [m].[DeviceGPSId], [m].[DoorDown], [m].[DoorUp], [m].[DriverCode], [m].[Heading], [m].[Ignition], [m].[IsDelete], [m].[IsWorking], [m].[Lat], [m].[IsAirConditioner], [m].[Fuel], [m].[Note], [m].[Lng], [m].[NumOfSeat], [m].[Lpn], [m].[RegistryEndDate], [m].[SOS], [m].[Speed], [m].[Status], [m].[TrackingTime], [m].[TransportCompanyId] AS [Id0], [m.TransportCompany].[Name] AS [Name0], [m].[YearOfManufacture], [m].[TransportCompanyId], [m].[TransportCompanyStartDate], [m].[UnderwriteEndDate], [m].[Type], [m].[VehicleBrandId], [m].[VehicleFloorboardsTypeId], [m].[VehicleGroupId]
FROM [Vehicle] AS [m]
LEFT JOIN [VehicleGroup] AS [m.VehicleGroup] ON [m].[VehicleGroupId] = [m.VehicleGroup].[Id]
LEFT JOIN [VehicleFloorboardsType] AS [m.VehicleFloorboardsType] ON [m].[VehicleFloorboardsTypeId] = [m.VehicleFloorboardsType].[Id]
LEFT JOIN [VehicleBrand] AS [m.VehicleBrand] ON [m].[VehicleBrandId] = [m.VehicleBrand].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Lpn]
OFFSET @__p_10 ROWS FETCH NEXT @__p_11 ROWS ONLY"
2018-07-16 10:43:35.771 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:43:35.771 +07:00 [Warning] The Include operation for navigation '"[m].VehicleBrand"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:43:35.795 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Vehicle] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:35.802 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 380.6734ms.
2018-07-16 10:43:35.805 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:35.813 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 10.7058ms.
2018-07-16 10:43:35.814 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" in 402.089ms
2018-07-16 10:43:35.814 +07:00 [Information] Request finished in 413.0998ms 200 text/html; charset=utf-8
2018-07-16 10:43:36.106 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-16 10:43:36.109 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-16 10:43:36.109 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:36.118 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:36.119 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:43:36.119 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0126ms.
2018-07-16 10:43:36.119 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:43:36.120 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.4099ms.
2018-07-16 10:43:36.120 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 11.2784ms
2018-07-16 10:43:36.120 +07:00 [Information] Request finished in 13.9714ms 200 text/html; charset=utf-8
2018-07-16 10:43:36.336 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:43:36.337 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:36.338 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:36.347 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:36.351 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:43:36.359 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:43:36.367 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:36.369 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 17.6925ms.
2018-07-16 10:43:36.369 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:36.370 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.7654ms.
2018-07-16 10:43:36.370 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 32.7962ms
2018-07-16 10:43:36.370 +07:00 [Information] Request finished in 34.1625ms 200 text/html; charset=utf-8
2018-07-16 10:43:37.712 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager/Edit/25?returnurl=%2FAdmin%2FCompany%2FTransportCompanyManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Dname  
2018-07-16 10:43:37.719 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Edit\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)"
2018-07-16 10:43:37.720 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:37.731 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:37.732 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)" with arguments (["25"]) - Validation state: Valid
2018-07-16 10:43:37.753 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 10:43:37.756 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 23.6561ms.
2018-07-16 10:43:37.758 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:43:37.820 +07:00 [Information] Executed ViewResult - view "Edit" executed in 63.9464ms.
2018-07-16 10:43:37.820 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Edit (TN.UI)" in 100.9564ms
2018-07-16 10:43:37.821 +07:00 [Information] Request finished in 108.3447ms 200 text/html; charset=utf-8
2018-07-16 10:43:39.687 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager  
2018-07-16 10:43:39.689 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)"
2018-07-16 10:43:39.690 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:39.696 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:39.697 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:43:39.702 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:43:39.707 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [VehicleBrand] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:43:39.713 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Provider] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:43:39.714 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 16.7926ms.
2018-07-16 10:43:39.714 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:43:39.717 +07:00 [Information] Executed ViewResult - view "Index" executed in 3.1432ms.
2018-07-16 10:43:39.717 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" in 28.2667ms
2018-07-16 10:43:39.717 +07:00 [Information] Request finished in 30.8411ms 200 text/html; charset=utf-8
2018-07-16 10:43:39.947 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager application/x-www-form-urlencoded; charset=UTF-8 295
2018-07-16 10:43:39.948 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)"
2018-07-16 10:43:39.949 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:39.955 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:39.956 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name", "", "", "", "", "", "", "", "", "", "False", "False", "False", "False"]) - Validation state: Valid
2018-07-16 10:43:40.003 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__p_10='?' (DbType = Int32), @__p_11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m.VehicleGroup].[Id], [m.VehicleGroup].[Name], [m.VehicleFloorboardsType].[Id], [m.VehicleFloorboardsType].[Name], [m.VehicleBrand].[Id], [m.VehicleBrand].[Name], [m].[Id] AS [Id1], [m].[Aircon], [m].[Capacity], [m].[ContractEndDate], [m].[DeviceGPSId], [m].[DoorDown], [m].[DoorUp], [m].[DriverCode], [m].[Heading], [m].[Ignition], [m].[IsDelete], [m].[IsWorking], [m].[Lat], [m].[IsAirConditioner], [m].[Fuel], [m].[Note], [m].[Lng], [m].[NumOfSeat], [m].[Lpn], [m].[RegistryEndDate], [m].[SOS], [m].[Speed], [m].[Status], [m].[TrackingTime], [m].[TransportCompanyId] AS [Id0], [m.TransportCompany].[Name] AS [Name0], [m].[YearOfManufacture], [m].[TransportCompanyId], [m].[TransportCompanyStartDate], [m].[UnderwriteEndDate], [m].[Type], [m].[VehicleBrandId], [m].[VehicleFloorboardsTypeId], [m].[VehicleGroupId]
FROM [Vehicle] AS [m]
LEFT JOIN [VehicleGroup] AS [m.VehicleGroup] ON [m].[VehicleGroupId] = [m.VehicleGroup].[Id]
LEFT JOIN [VehicleFloorboardsType] AS [m.VehicleFloorboardsType] ON [m].[VehicleFloorboardsTypeId] = [m.VehicleFloorboardsType].[Id]
LEFT JOIN [VehicleBrand] AS [m.VehicleBrand] ON [m].[VehicleBrandId] = [m.VehicleBrand].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Lpn]
OFFSET @__p_10 ROWS FETCH NEXT @__p_11 ROWS ONLY"
2018-07-16 10:43:40.021 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Vehicle] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:43:40.022 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 65.4075ms.
2018-07-16 10:43:40.022 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:43:40.023 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.8777ms.
2018-07-16 10:43:40.023 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" in 74.2536ms
2018-07-16 10:43:40.023 +07:00 [Information] Request finished in 75.7715ms 200 text/html; charset=utf-8
2018-07-16 10:43:43.396 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager/Edit/2112?returnurl=%2FAdmin%2FCompany%2FVehicleManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Dname%26falseRegistryEndDate%3DFalse%26falseUnderwriteEndDate%3DFalse%26falseEndDateGPS%3DFalse%26falseContractEndDate%3DFalse  
2018-07-16 10:43:43.404 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Edit\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Edit (TN.UI)"
2018-07-16 10:43:43.405 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:43.420 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:43:43.422 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Edit (TN.UI)" with arguments (["2112"]) - Validation state: Valid
2018-07-16 10:43:43.483 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[Aircon], [m].[Capacity], [m].[ContractEndDate], [m].[CreatedDate], [m].[CreatedUser], [m].[DeviceGPSId], [m].[DoorDown], [m].[DoorUp], [m].[DriverCode], [m].[Fuel], [m].[Heading], [m].[Ignition], [m].[IsAirConditioner], [m].[IsDelete], [m].[IsWorking], [m].[Lat], [m].[Lng], [m].[Lpn], [m].[Note], [m].[NumOfSeat], [m].[RegistryEndDate], [m].[SOS], [m].[Speed], [m].[Status], [m].[TrackingTime], [m].[TransportCompanyId], [m].[TransportCompanyStartDate], [m].[Type], [m].[UnderwriteEndDate], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleBrandId], [m].[VehicleFloorboardsTypeId], [m].[VehicleGroupId], [m].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [Vehicle] AS [m]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[Id] = @__id_0"
2018-07-16 10:43:43.526 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [VehicleGroup] AS [y]
ORDER BY [y].[Name]"
2018-07-16 10:43:43.539 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [VehicleBrand] AS [y]
ORDER BY [y].[Name]"
2018-07-16 10:43:43.552 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [VehicleFloorboardsType] AS [y]
ORDER BY [y].[Name]"
2018-07-16 10:43:43.554 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 132.8085ms.
2018-07-16 10:43:43.559 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:43:43.725 +07:00 [Information] Executed ViewResult - view "Edit" executed in 170.2643ms.
2018-07-16 10:43:43.726 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Edit (TN.UI)" in 320.9186ms
2018-07-16 10:43:43.726 +07:00 [Information] Request finished in 330.0414ms 200 text/html; charset=utf-8
2018-07-16 10:43:43.879 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager/RoteNameInVehicle application/x-www-form-urlencoded; charset=UTF-8 7
2018-07-16 10:43:43.879 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager/GetDeviceGPS?id=-1  
2018-07-16 10:43:43.884 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager/GetShoolByVehicle application/x-www-form-urlencoded; charset=UTF-8 7
2018-07-16 10:43:43.886 +07:00 [Information] Route matched with "{area = \"Company\", action = \"GetDeviceGPS\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.GetDeviceGPS (TN.UI)"
2018-07-16 10:43:43.887 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.GetDeviceGPS (TN.UI)" with arguments (["-1"]) - Validation state: Valid
2018-07-16 10:43:43.887 +07:00 [Information] Route matched with "{area = \"Company\", action = \"RoteNameInVehicle\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.RoteNameInVehicle (TN.UI)"
2018-07-16 10:43:43.888 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.RoteNameInVehicle (TN.UI)" with arguments (["2112"]) - Validation state: Valid
2018-07-16 10:43:43.890 +07:00 [Information] Route matched with "{area = \"Company\", action = \"GetShoolByVehicle\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.GetShoolByVehicle (TN.UI)"
2018-07-16 10:43:43.891 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.GetShoolByVehicle (TN.UI)" with arguments (["2112"]) - Validation state: Valid
2018-07-16 10:43:43.896 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:43.916 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:43.922 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:43:43.928 +07:00 [Warning] The Include operation for navigation '"[x].School"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:43:43.939 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__vehicleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[BusType], [x].[Code], [x].[Color], [x].[CreatedDate], [x].[CreatedUser], [x].[DateEnd], [x].[DateStart], [x].[Fri], [x].[IsDelete], [x].[IsFri], [x].[IsMon], [x].[IsSat], [x].[IsSun], [x].[IsThu], [x].[IsTue], [x].[IsWed], [x].[Mon], [x].[Name], [x].[Note], [x].[Sat], [x].[Status], [x].[Sun], [x].[Thu], [x].[TimePeriod], [x].[Tue], [x].[UpdatedDate], [x].[UpdatedUser], [x].[Wed]
FROM [Route] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [RouteVehicle] AS [m]
    WHERE ([m].[VehicleId] = @__vehicleId_0) AND ([x].[Id] = [m].[RouteId]))"
2018-07-16 10:43:43.954 +07:00 [Information] Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[Company], [m].[EndDate], [m].[Expire], [m].[IsOld], [m].[Name], [m].[ProviderId], [m].[StartDate], [m.Provider].[Id], [m.Provider].[Name]
FROM [DeviceGPS] AS [m]
LEFT JOIN [Provider] AS [m.Provider] ON [m].[ProviderId] = [m.Provider].[Id]
WHERE [m].[Id] = @__id_0"
2018-07-16 10:43:43.961 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.RoteNameInVehicle (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 72.7974ms.
2018-07-16 10:43:43.962 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.GetDeviceGPS (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 75.101ms.
2018-07-16 10:43:43.965 +07:00 [Information] Executing ObjectResult, writing value of type '"System.String"'.
2018-07-16 10:43:43.965 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.RoteNameInVehicle (TN.UI)" in 77.8557ms
2018-07-16 10:43:43.966 +07:00 [Information] Request finished in 86.8561ms 200 text/plain; charset=utf-8
2018-07-16 10:43:43.966 +07:00 [Information] Executing ObjectResult, writing value of type '"null"'.
2018-07-16 10:43:43.966 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.GetDeviceGPS (TN.UI)" in 79.6136ms
2018-07-16 10:43:43.966 +07:00 [Information] Request finished in 87.3857ms 204 
2018-07-16 10:43:44.002 +07:00 [Information] Executed DbCommand ("38"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x.School].[Id], [x.School].[Address], [x.School].[Code], [x.School].[CreatedDate], [x.School].[CreatedUser], [x.School].[DistrictId], [x.School].[Image], [x.School].[IsDelete], [x.School].[Lat], [x.School].[Lng], [x.School].[Name], [x.School].[Note], [x.School].[Status], [x.School].[Trips], [x.School].[UpdatedDate], [x.School].[UpdatedUser], [x].[VehicleId], [x].[SchoolId], [x].[Trips] AS [Trips0], [x].[ChangeDate]
FROM [VehicleSchool] AS [x]
INNER JOIN [School] AS [x.School] ON [x].[SchoolId] = [x.School].[Id]
WHERE ([x].[VehicleId] = @__id_0) AND ([x.School].[IsDelete] = 0)"
2018-07-16 10:43:44.020 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.GetShoolByVehicle (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 129.379ms.
2018-07-16 10:43:44.021 +07:00 [Information] Executing ObjectResult, writing value of type '"System.String"'.
2018-07-16 10:43:44.021 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.GetShoolByVehicle (TN.UI)" in 130.3422ms
2018-07-16 10:43:44.021 +07:00 [Information] Request finished in 136.6065ms 200 text/plain; charset=utf-8
2018-07-16 10:44:30.048 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager  
2018-07-16 10:44:30.051 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)"
2018-07-16 10:44:30.051 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:30.057 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:30.058 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:30.066 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:44:30.070 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [VehicleBrand] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:30.074 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Provider] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:30.075 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 17.0259ms.
2018-07-16 10:44:30.075 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:30.077 +07:00 [Information] Executed ViewResult - view "Index" executed in 2.5609ms.
2018-07-16 10:44:30.078 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" in 26.5865ms
2018-07-16 10:44:30.078 +07:00 [Information] Request finished in 30.0345ms 200 text/html; charset=utf-8
2018-07-16 10:44:30.352 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager application/x-www-form-urlencoded; charset=UTF-8 295
2018-07-16 10:44:30.354 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:30.354 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:30.360 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:30.369 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name", "", "", "", "", "", "", "", "", "", "False", "False", "False", "False"]) - Validation state: Valid
2018-07-16 10:44:30.409 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__p_10='?' (DbType = Int32), @__p_11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m.VehicleGroup].[Id], [m.VehicleGroup].[Name], [m.VehicleFloorboardsType].[Id], [m.VehicleFloorboardsType].[Name], [m.VehicleBrand].[Id], [m.VehicleBrand].[Name], [m].[Id] AS [Id1], [m].[Aircon], [m].[Capacity], [m].[ContractEndDate], [m].[DeviceGPSId], [m].[DoorDown], [m].[DoorUp], [m].[DriverCode], [m].[Heading], [m].[Ignition], [m].[IsDelete], [m].[IsWorking], [m].[Lat], [m].[IsAirConditioner], [m].[Fuel], [m].[Note], [m].[Lng], [m].[NumOfSeat], [m].[Lpn], [m].[RegistryEndDate], [m].[SOS], [m].[Speed], [m].[Status], [m].[TrackingTime], [m].[TransportCompanyId] AS [Id0], [m.TransportCompany].[Name] AS [Name0], [m].[YearOfManufacture], [m].[TransportCompanyId], [m].[TransportCompanyStartDate], [m].[UnderwriteEndDate], [m].[Type], [m].[VehicleBrandId], [m].[VehicleFloorboardsTypeId], [m].[VehicleGroupId]
FROM [Vehicle] AS [m]
LEFT JOIN [VehicleGroup] AS [m.VehicleGroup] ON [m].[VehicleGroupId] = [m.VehicleGroup].[Id]
LEFT JOIN [VehicleFloorboardsType] AS [m.VehicleFloorboardsType] ON [m].[VehicleFloorboardsTypeId] = [m.VehicleFloorboardsType].[Id]
LEFT JOIN [VehicleBrand] AS [m.VehicleBrand] ON [m].[VehicleBrandId] = [m.VehicleBrand].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Lpn]
OFFSET @__p_10 ROWS FETCH NEXT @__p_11 ROWS ONLY"
2018-07-16 10:44:30.420 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Vehicle] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:30.420 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 50.3713ms.
2018-07-16 10:44:30.420 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:30.421 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.8764ms.
2018-07-16 10:44:30.421 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" in 67.1702ms
2018-07-16 10:44:30.421 +07:00 [Information] Request finished in 69.2412ms 200 text/html; charset=utf-8
2018-07-16 10:44:32.516 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyEmployeeManager  
2018-07-16 10:44:32.544 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyEmployeeManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)"
2018-07-16 10:44:32.545 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:32.551 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:32.553 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:32.852 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Place] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:32.878 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:44:32.899 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [TransportCompanyJob] AS [y]
ORDER BY [y].[Id]"
2018-07-16 10:44:32.915 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [TransportCompanyJobStatus] AS [y]
ORDER BY [y].[Id]"
2018-07-16 10:44:32.918 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 365.0296ms.
2018-07-16 10:44:32.940 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:33.046 +07:00 [Information] Executed ViewResult - view "Index" executed in 127.868ms.
2018-07-16 10:44:33.047 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)" in 502.1306ms
2018-07-16 10:44:33.047 +07:00 [Information] Request finished in 531.3525ms 200 text/html; charset=utf-8
2018-07-16 10:44:33.298 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyEmployeeManager application/x-www-form-urlencoded; charset=UTF-8 181
2018-07-16 10:44:33.316 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyEmployeeManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:33.317 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:33.354 +07:00 [Information] Executed DbCommand ("35"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:33.355 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "fullName", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:44:33.750 +07:00 [Information] Executed DbCommand ("301"ms) [Parameters=["@__p_7='?' (DbType = Int32), @__p_8='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Avatar], [m].[Birthday], [m].[CheckedStatus], [m].[CreatedDate], [m].[CreatedUser], [m].[DrivingLicense], [m].[DrivingLicenseDate], [m].[DrivingLicenseEndDate], [m].[DrivingLicenseGrade], [m].[DrivingLicensePlaceId], [m].[EthicalTraining], [m].[FullName], [m].[Grade], [m].[IDCard], [m].[IDCardDate], [m].[IDCardPlaceId], [m].[IsDelete], [m].[JobDateStart], [m].[Note], [m].[PhysicalExamination], [m].[ProfessionalTraining], [m].[Sex], [m].[TransportCompanyId], [m].[TransportCompanyJobId], [m].[TransportCompanyJobStatusId], [m].[UpdatedDate], [m].[UpdatedUser], [m.TransportCompanyJobStatus].[Id], [m.TransportCompanyJobStatus].[IsDisable], [m.TransportCompanyJobStatus].[Name], [m.DrivingLicensePlace].[Id], [m.DrivingLicensePlace].[Name], [m.TransportCompanyJob].[Id], [m.TransportCompanyJob].[Code], [m.TransportCompanyJob].[Name], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser], [m.IDCardPlace].[Id], [m.IDCardPlace].[Name]
FROM [TransportCompanyEmployee] AS [m]
LEFT JOIN [TransportCompanyJobStatus] AS [m.TransportCompanyJobStatus] ON [m].[TransportCompanyJobStatusId] = [m.TransportCompanyJobStatus].[Id]
LEFT JOIN [Place] AS [m.DrivingLicensePlace] ON [m].[DrivingLicensePlaceId] = [m.DrivingLicensePlace].[Id]
LEFT JOIN [TransportCompanyJob] AS [m.TransportCompanyJob] ON [m].[TransportCompanyJobId] = [m.TransportCompanyJob].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
LEFT JOIN [Place] AS [m.IDCardPlace] ON [m].[IDCardPlaceId] = [m.IDCardPlace].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[FullName]
OFFSET @__p_7 ROWS FETCH NEXT @__p_8 ROWS ONLY"
2018-07-16 10:44:33.838 +07:00 [Warning] The Include operation for navigation '"[m].IDCardPlace"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:44:33.838 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:44:33.839 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompanyJob"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:44:33.839 +07:00 [Warning] The Include operation for navigation '"[m].DrivingLicensePlace"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:44:33.839 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompanyJobStatus"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:44:33.853 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompanyEmployee] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:33.856 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 500.4629ms.
2018-07-16 10:44:33.858 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:33.870 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 13.3901ms.
2018-07-16 10:44:33.870 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)" in 553.232ms
2018-07-16 10:44:33.870 +07:00 [Information] Request finished in 571.6749ms 200 text/html; charset=utf-8
2018-07-16 10:44:35.149 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager  
2018-07-16 10:44:35.151 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)"
2018-07-16 10:44:35.151 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:35.159 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:35.160 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:35.166 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:44:35.172 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [VehicleBrand] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:35.177 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Provider] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:35.178 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 17.5596ms.
2018-07-16 10:44:35.178 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:35.180 +07:00 [Information] Executed ViewResult - view "Index" executed in 2.6199ms.
2018-07-16 10:44:35.181 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" in 29.8241ms
2018-07-16 10:44:35.181 +07:00 [Information] Request finished in 31.6879ms 200 text/html; charset=utf-8
2018-07-16 10:44:35.434 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager application/x-www-form-urlencoded; charset=UTF-8 295
2018-07-16 10:44:35.435 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:35.436 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:35.442 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:35.443 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name", "", "", "", "", "", "", "", "", "", "False", "False", "False", "False"]) - Validation state: Valid
2018-07-16 10:44:35.494 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__p_10='?' (DbType = Int32), @__p_11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m.VehicleGroup].[Id], [m.VehicleGroup].[Name], [m.VehicleFloorboardsType].[Id], [m.VehicleFloorboardsType].[Name], [m.VehicleBrand].[Id], [m.VehicleBrand].[Name], [m].[Id] AS [Id1], [m].[Aircon], [m].[Capacity], [m].[ContractEndDate], [m].[DeviceGPSId], [m].[DoorDown], [m].[DoorUp], [m].[DriverCode], [m].[Heading], [m].[Ignition], [m].[IsDelete], [m].[IsWorking], [m].[Lat], [m].[IsAirConditioner], [m].[Fuel], [m].[Note], [m].[Lng], [m].[NumOfSeat], [m].[Lpn], [m].[RegistryEndDate], [m].[SOS], [m].[Speed], [m].[Status], [m].[TrackingTime], [m].[TransportCompanyId] AS [Id0], [m.TransportCompany].[Name] AS [Name0], [m].[YearOfManufacture], [m].[TransportCompanyId], [m].[TransportCompanyStartDate], [m].[UnderwriteEndDate], [m].[Type], [m].[VehicleBrandId], [m].[VehicleFloorboardsTypeId], [m].[VehicleGroupId]
FROM [Vehicle] AS [m]
LEFT JOIN [VehicleGroup] AS [m.VehicleGroup] ON [m].[VehicleGroupId] = [m.VehicleGroup].[Id]
LEFT JOIN [VehicleFloorboardsType] AS [m.VehicleFloorboardsType] ON [m].[VehicleFloorboardsTypeId] = [m.VehicleFloorboardsType].[Id]
LEFT JOIN [VehicleBrand] AS [m.VehicleBrand] ON [m].[VehicleBrandId] = [m.VehicleBrand].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Lpn]
OFFSET @__p_10 ROWS FETCH NEXT @__p_11 ROWS ONLY"
2018-07-16 10:44:35.508 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Vehicle] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:35.509 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 65.2997ms.
2018-07-16 10:44:35.509 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:35.511 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.5521ms.
2018-07-16 10:44:35.511 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" in 75.3581ms
2018-07-16 10:44:35.511 +07:00 [Information] Request finished in 76.9864ms 200 text/html; charset=utf-8
2018-07-16 10:44:36.250 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-16 10:44:36.252 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-16 10:44:36.252 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:36.260 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:36.260 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:36.260 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.019ms.
2018-07-16 10:44:36.260 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:36.262 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.4295ms.
2018-07-16 10:44:36.262 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 10.2353ms
2018-07-16 10:44:36.262 +07:00 [Information] Request finished in 12.5513ms 200 text/html; charset=utf-8
2018-07-16 10:44:36.447 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:44:36.449 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:36.449 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:36.463 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:36.465 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:44:36.475 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:44:36.488 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:36.489 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 23.207ms.
2018-07-16 10:44:36.489 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:36.490 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.1776ms.
2018-07-16 10:44:36.491 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 41.6001ms
2018-07-16 10:44:36.491 +07:00 [Information] Request finished in 43.7243ms 200 text/html; charset=utf-8
2018-07-16 10:44:37.417 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager  
2018-07-16 10:44:37.418 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)"
2018-07-16 10:44:37.419 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:37.425 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:37.426 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:37.431 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:44:37.438 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [VehicleBrand] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:37.444 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Provider] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:37.444 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 18.7037ms.
2018-07-16 10:44:37.444 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:37.447 +07:00 [Information] Executed ViewResult - view "Index" executed in 2.9933ms.
2018-07-16 10:44:37.448 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" in 28.9505ms
2018-07-16 10:44:37.448 +07:00 [Information] Request finished in 32.0133ms 200 text/html; charset=utf-8
2018-07-16 10:44:37.686 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager application/x-www-form-urlencoded; charset=UTF-8 295
2018-07-16 10:44:37.687 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:37.688 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:37.695 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:37.695 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name", "", "", "", "", "", "", "", "", "", "False", "False", "False", "False"]) - Validation state: Valid
2018-07-16 10:44:37.751 +07:00 [Information] Executed DbCommand ("26"ms) [Parameters=["@__p_10='?' (DbType = Int32), @__p_11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m.VehicleGroup].[Id], [m.VehicleGroup].[Name], [m.VehicleFloorboardsType].[Id], [m.VehicleFloorboardsType].[Name], [m.VehicleBrand].[Id], [m.VehicleBrand].[Name], [m].[Id] AS [Id1], [m].[Aircon], [m].[Capacity], [m].[ContractEndDate], [m].[DeviceGPSId], [m].[DoorDown], [m].[DoorUp], [m].[DriverCode], [m].[Heading], [m].[Ignition], [m].[IsDelete], [m].[IsWorking], [m].[Lat], [m].[IsAirConditioner], [m].[Fuel], [m].[Note], [m].[Lng], [m].[NumOfSeat], [m].[Lpn], [m].[RegistryEndDate], [m].[SOS], [m].[Speed], [m].[Status], [m].[TrackingTime], [m].[TransportCompanyId] AS [Id0], [m.TransportCompany].[Name] AS [Name0], [m].[YearOfManufacture], [m].[TransportCompanyId], [m].[TransportCompanyStartDate], [m].[UnderwriteEndDate], [m].[Type], [m].[VehicleBrandId], [m].[VehicleFloorboardsTypeId], [m].[VehicleGroupId]
FROM [Vehicle] AS [m]
LEFT JOIN [VehicleGroup] AS [m.VehicleGroup] ON [m].[VehicleGroupId] = [m.VehicleGroup].[Id]
LEFT JOIN [VehicleFloorboardsType] AS [m.VehicleFloorboardsType] ON [m].[VehicleFloorboardsTypeId] = [m.VehicleFloorboardsType].[Id]
LEFT JOIN [VehicleBrand] AS [m.VehicleBrand] ON [m].[VehicleBrandId] = [m.VehicleBrand].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Lpn]
OFFSET @__p_10 ROWS FETCH NEXT @__p_11 ROWS ONLY"
2018-07-16 10:44:37.771 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Vehicle] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:37.771 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 76.0638ms.
2018-07-16 10:44:37.772 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:37.772 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.8916ms.
2018-07-16 10:44:37.773 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" in 85.1937ms
2018-07-16 10:44:37.773 +07:00 [Information] Request finished in 86.6944ms 200 text/html; charset=utf-8
2018-07-16 10:44:38.283 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyEmployeeManager  
2018-07-16 10:44:38.284 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyEmployeeManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)"
2018-07-16 10:44:38.285 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:38.291 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:38.291 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:38.295 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Place] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:38.301 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:44:38.306 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [TransportCompanyJob] AS [y]
ORDER BY [y].[Id]"
2018-07-16 10:44:38.310 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [TransportCompanyJobStatus] AS [y]
ORDER BY [y].[Id]"
2018-07-16 10:44:38.311 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 19.1471ms.
2018-07-16 10:44:38.311 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:38.313 +07:00 [Information] Executed ViewResult - view "Index" executed in 2.0526ms.
2018-07-16 10:44:38.313 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)" in 28.3057ms
2018-07-16 10:44:38.313 +07:00 [Information] Request finished in 31.8707ms 200 text/html; charset=utf-8
2018-07-16 10:44:38.570 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyEmployeeManager application/x-www-form-urlencoded; charset=UTF-8 181
2018-07-16 10:44:38.571 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyEmployeeManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:38.571 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:38.577 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:38.581 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "fullName", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:44:38.597 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_7='?' (DbType = Int32), @__p_8='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Avatar], [m].[Birthday], [m].[CheckedStatus], [m].[CreatedDate], [m].[CreatedUser], [m].[DrivingLicense], [m].[DrivingLicenseDate], [m].[DrivingLicenseEndDate], [m].[DrivingLicenseGrade], [m].[DrivingLicensePlaceId], [m].[EthicalTraining], [m].[FullName], [m].[Grade], [m].[IDCard], [m].[IDCardDate], [m].[IDCardPlaceId], [m].[IsDelete], [m].[JobDateStart], [m].[Note], [m].[PhysicalExamination], [m].[ProfessionalTraining], [m].[Sex], [m].[TransportCompanyId], [m].[TransportCompanyJobId], [m].[TransportCompanyJobStatusId], [m].[UpdatedDate], [m].[UpdatedUser], [m.TransportCompanyJobStatus].[Id], [m.TransportCompanyJobStatus].[IsDisable], [m.TransportCompanyJobStatus].[Name], [m.DrivingLicensePlace].[Id], [m.DrivingLicensePlace].[Name], [m.TransportCompanyJob].[Id], [m.TransportCompanyJob].[Code], [m.TransportCompanyJob].[Name], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser], [m.IDCardPlace].[Id], [m.IDCardPlace].[Name]
FROM [TransportCompanyEmployee] AS [m]
LEFT JOIN [TransportCompanyJobStatus] AS [m.TransportCompanyJobStatus] ON [m].[TransportCompanyJobStatusId] = [m.TransportCompanyJobStatus].[Id]
LEFT JOIN [Place] AS [m.DrivingLicensePlace] ON [m].[DrivingLicensePlaceId] = [m.DrivingLicensePlace].[Id]
LEFT JOIN [TransportCompanyJob] AS [m.TransportCompanyJob] ON [m].[TransportCompanyJobId] = [m.TransportCompanyJob].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
LEFT JOIN [Place] AS [m.IDCardPlace] ON [m].[IDCardPlaceId] = [m.IDCardPlace].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[FullName]
OFFSET @__p_7 ROWS FETCH NEXT @__p_8 ROWS ONLY"
2018-07-16 10:44:38.617 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompanyEmployee] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:38.619 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 37.2486ms.
2018-07-16 10:44:38.619 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:38.620 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.0786ms.
2018-07-16 10:44:38.620 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)" in 49.3793ms
2018-07-16 10:44:38.620 +07:00 [Information] Request finished in 50.8113ms 200 text/html; charset=utf-8
2018-07-16 10:44:39.225 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyMistakeManager  
2018-07-16 10:44:39.229 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyMistakeManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyMistakeManagerController.Index (TN.UI)"
2018-07-16 10:44:39.230 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:39.237 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:39.239 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyMistakeManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:39.239 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyMistakeManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3533ms.
2018-07-16 10:44:39.241 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:39.282 +07:00 [Information] Executed ViewResult - view "Index" executed in 42.7218ms.
2018-07-16 10:44:39.282 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyMistakeManagerController.Index (TN.UI)" in 52.7002ms
2018-07-16 10:44:39.282 +07:00 [Information] Request finished in 57.1388ms 200 text/html; charset=utf-8
2018-07-16 10:44:39.489 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyMistakeManager application/x-www-form-urlencoded; charset=UTF-8 47
2018-07-16 10:44:39.506 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyMistakeManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyMistakeManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:39.508 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:39.515 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:39.515 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyMistakeManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:44:39.577 +07:00 [Information] Executed DbCommand ("37"ms) [Parameters=["@__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[IsDelete], [m].[MinFine], [m].[Name], [m].[Note], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompanyMistake] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY"
2018-07-16 10:44:39.601 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompanyMistake] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:39.602 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyMistakeManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 86.349ms.
2018-07-16 10:44:39.606 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:39.642 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 39.9307ms.
2018-07-16 10:44:39.642 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyMistakeManagerController.IndexPost (TN.UI)" in 135.7088ms
2018-07-16 10:44:39.642 +07:00 [Information] Request finished in 153.8266ms 200 text/html; charset=utf-8
2018-07-16 10:44:40.089 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyEmployeeManager  
2018-07-16 10:44:40.090 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyEmployeeManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)"
2018-07-16 10:44:40.091 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:40.096 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:40.097 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:40.102 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Place] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:40.108 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:44:40.117 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [TransportCompanyJob] AS [y]
ORDER BY [y].[Id]"
2018-07-16 10:44:40.127 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [TransportCompanyJobStatus] AS [y]
ORDER BY [y].[Id]"
2018-07-16 10:44:40.127 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.9587ms.
2018-07-16 10:44:40.127 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:40.129 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.7741ms.
2018-07-16 10:44:40.129 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.Index (TN.UI)" in 38.4816ms
2018-07-16 10:44:40.129 +07:00 [Information] Request finished in 40.4472ms 200 text/html; charset=utf-8
2018-07-16 10:44:40.497 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyEmployeeManager application/x-www-form-urlencoded; charset=UTF-8 181
2018-07-16 10:44:40.498 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyEmployeeManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:40.499 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:40.507 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:40.511 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "fullName", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:44:40.526 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_7='?' (DbType = Int32), @__p_8='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Avatar], [m].[Birthday], [m].[CheckedStatus], [m].[CreatedDate], [m].[CreatedUser], [m].[DrivingLicense], [m].[DrivingLicenseDate], [m].[DrivingLicenseEndDate], [m].[DrivingLicenseGrade], [m].[DrivingLicensePlaceId], [m].[EthicalTraining], [m].[FullName], [m].[Grade], [m].[IDCard], [m].[IDCardDate], [m].[IDCardPlaceId], [m].[IsDelete], [m].[JobDateStart], [m].[Note], [m].[PhysicalExamination], [m].[ProfessionalTraining], [m].[Sex], [m].[TransportCompanyId], [m].[TransportCompanyJobId], [m].[TransportCompanyJobStatusId], [m].[UpdatedDate], [m].[UpdatedUser], [m.TransportCompanyJobStatus].[Id], [m.TransportCompanyJobStatus].[IsDisable], [m.TransportCompanyJobStatus].[Name], [m.DrivingLicensePlace].[Id], [m.DrivingLicensePlace].[Name], [m.TransportCompanyJob].[Id], [m.TransportCompanyJob].[Code], [m.TransportCompanyJob].[Name], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser], [m.IDCardPlace].[Id], [m.IDCardPlace].[Name]
FROM [TransportCompanyEmployee] AS [m]
LEFT JOIN [TransportCompanyJobStatus] AS [m.TransportCompanyJobStatus] ON [m].[TransportCompanyJobStatusId] = [m.TransportCompanyJobStatus].[Id]
LEFT JOIN [Place] AS [m.DrivingLicensePlace] ON [m].[DrivingLicensePlaceId] = [m.DrivingLicensePlace].[Id]
LEFT JOIN [TransportCompanyJob] AS [m.TransportCompanyJob] ON [m].[TransportCompanyJobId] = [m.TransportCompanyJob].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
LEFT JOIN [Place] AS [m.IDCardPlace] ON [m].[IDCardPlaceId] = [m.IDCardPlace].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[FullName]
OFFSET @__p_7 ROWS FETCH NEXT @__p_8 ROWS ONLY"
2018-07-16 10:44:40.542 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompanyEmployee] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:40.543 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.4355ms.
2018-07-16 10:44:40.544 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:40.546 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 2.0198ms.
2018-07-16 10:44:40.546 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyEmployeeManagerController.IndexPost (TN.UI)" in 47.3667ms
2018-07-16 10:44:40.546 +07:00 [Information] Request finished in 48.9112ms 200 text/html; charset=utf-8
2018-07-16 10:44:41.368 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager  
2018-07-16 10:44:41.369 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)"
2018-07-16 10:44:41.370 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:41.393 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:41.395 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:41.406 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:44:41.411 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [VehicleBrand] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:41.415 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Provider] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:44:41.415 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 20.3377ms.
2018-07-16 10:44:41.416 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:41.417 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.9339ms.
2018-07-16 10:44:41.418 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" in 48.0053ms
2018-07-16 10:44:41.418 +07:00 [Information] Request finished in 50.5492ms 200 text/html; charset=utf-8
2018-07-16 10:44:41.668 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager application/x-www-form-urlencoded; charset=UTF-8 295
2018-07-16 10:44:41.669 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:41.670 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:41.675 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:41.680 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name", "", "", "", "", "", "", "", "", "", "False", "False", "False", "False"]) - Validation state: Valid
2018-07-16 10:44:41.718 +07:00 [Information] Executed DbCommand ("26"ms) [Parameters=["@__p_10='?' (DbType = Int32), @__p_11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m.VehicleGroup].[Id], [m.VehicleGroup].[Name], [m.VehicleFloorboardsType].[Id], [m.VehicleFloorboardsType].[Name], [m.VehicleBrand].[Id], [m.VehicleBrand].[Name], [m].[Id] AS [Id1], [m].[Aircon], [m].[Capacity], [m].[ContractEndDate], [m].[DeviceGPSId], [m].[DoorDown], [m].[DoorUp], [m].[DriverCode], [m].[Heading], [m].[Ignition], [m].[IsDelete], [m].[IsWorking], [m].[Lat], [m].[IsAirConditioner], [m].[Fuel], [m].[Note], [m].[Lng], [m].[NumOfSeat], [m].[Lpn], [m].[RegistryEndDate], [m].[SOS], [m].[Speed], [m].[Status], [m].[TrackingTime], [m].[TransportCompanyId] AS [Id0], [m.TransportCompany].[Name] AS [Name0], [m].[YearOfManufacture], [m].[TransportCompanyId], [m].[TransportCompanyStartDate], [m].[UnderwriteEndDate], [m].[Type], [m].[VehicleBrandId], [m].[VehicleFloorboardsTypeId], [m].[VehicleGroupId]
FROM [Vehicle] AS [m]
LEFT JOIN [VehicleGroup] AS [m.VehicleGroup] ON [m].[VehicleGroupId] = [m.VehicleGroup].[Id]
LEFT JOIN [VehicleFloorboardsType] AS [m.VehicleFloorboardsType] ON [m].[VehicleFloorboardsTypeId] = [m.VehicleFloorboardsType].[Id]
LEFT JOIN [VehicleBrand] AS [m.VehicleBrand] ON [m].[VehicleBrandId] = [m.VehicleBrand].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Lpn]
OFFSET @__p_10 ROWS FETCH NEXT @__p_11 ROWS ONLY"
2018-07-16 10:44:41.733 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Vehicle] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:41.734 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 53.4852ms.
2018-07-16 10:44:41.734 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:41.735 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.7973ms.
2018-07-16 10:44:41.735 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" in 65.4341ms
2018-07-16 10:44:41.735 +07:00 [Information] Request finished in 67.4674ms 200 text/html; charset=utf-8
2018-07-16 10:44:42.354 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/TransportCompanyManager  
2018-07-16 10:44:42.356 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)"
2018-07-16 10:44:42.356 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:42.363 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:42.364 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:44:42.364 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0125ms.
2018-07-16 10:44:42.364 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:44:42.365 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.1712ms.
2018-07-16 10:44:42.366 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.Index (TN.UI)" in 9.8536ms
2018-07-16 10:44:42.366 +07:00 [Information] Request finished in 11.6911ms 200 text/html; charset=utf-8
2018-07-16 10:44:42.557 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:44:42.559 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:44:42.559 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:44:42.583 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:44:42.586 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:44:42.594 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:44:42.599 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:44:42.600 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 14.1383ms.
2018-07-16 10:44:42.600 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:44:42.601 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.7358ms.
2018-07-16 10:44:42.601 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 42.35ms
2018-07-16 10:44:42.601 +07:00 [Information] Request finished in 44.0488ms 200 text/html; charset=utf-8
2018-07-16 10:45:22.864 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:45:22.865 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:22.868 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:22.875 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:22.876 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["2", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:45:22.883 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:45:22.889 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:22.889 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.9661ms.
2018-07-16 10:45:22.889 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:22.890 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.7279ms.
2018-07-16 10:45:22.890 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 24.8811ms
2018-07-16 10:45:22.890 +07:00 [Information] Request finished in 26.434ms 200 text/html; charset=utf-8
2018-07-16 10:45:24.083 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:45:24.085 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:24.085 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:24.095 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:24.096 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["3", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:45:24.105 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:45:24.115 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:24.116 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 19.1287ms.
2018-07-16 10:45:24.117 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:24.118 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.0267ms.
2018-07-16 10:45:24.118 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 32.6579ms
2018-07-16 10:45:24.118 +07:00 [Information] Request finished in 34.6201ms 200 text/html; charset=utf-8
2018-07-16 10:45:25.257 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:45:25.258 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:25.259 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:25.266 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:25.267 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["4", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:45:25.275 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:45:25.281 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:25.281 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.455ms.
2018-07-16 10:45:25.281 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:25.282 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.7877ms.
2018-07-16 10:45:25.282 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 23.5099ms
2018-07-16 10:45:25.282 +07:00 [Information] Request finished in 25.4268ms 200 text/html; charset=utf-8
2018-07-16 10:45:25.939 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:45:25.940 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:25.941 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:25.949 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:25.951 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["5", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:45:25.960 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:45:25.966 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:25.966 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 15.2143ms.
2018-07-16 10:45:25.967 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:25.967 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.6796ms.
2018-07-16 10:45:25.967 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 26.6895ms
2018-07-16 10:45:25.968 +07:00 [Information] Request finished in 28.544ms 200 text/html; charset=utf-8
2018-07-16 10:45:26.871 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:45:26.876 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:26.876 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:26.884 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:26.887 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["4", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:45:26.895 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:45:26.899 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:26.900 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.0873ms.
2018-07-16 10:45:26.900 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:26.901 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.8553ms.
2018-07-16 10:45:26.901 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 25.0818ms
2018-07-16 10:45:26.901 +07:00 [Information] Request finished in 31.6697ms 200 text/html; charset=utf-8
2018-07-16 10:45:28.404 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:45:28.408 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:28.409 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:28.415 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:28.416 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["3", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:45:28.423 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:45:28.430 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:28.431 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 14.4311ms.
2018-07-16 10:45:28.431 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:28.432 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.7832ms.
2018-07-16 10:45:28.432 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 23.0979ms
2018-07-16 10:45:28.432 +07:00 [Information] Request finished in 27.8688ms 200 text/html; charset=utf-8
2018-07-16 10:45:29.681 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:45:29.683 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:29.683 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:29.697 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:29.699 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["2", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:45:29.708 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:45:29.714 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:29.714 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 14.9686ms.
2018-07-16 10:45:29.714 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:29.715 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.5715ms.
2018-07-16 10:45:29.715 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 31.8677ms
2018-07-16 10:45:29.715 +07:00 [Information] Request finished in 36.4095ms 200 text/html; charset=utf-8
2018-07-16 10:45:31.180 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/TransportCompanyManager application/x-www-form-urlencoded; charset=UTF-8 55
2018-07-16 10:45:31.183 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"TransportCompanyManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:31.184 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:31.192 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:31.193 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name"]) - Validation state: Valid
2018-07-16 10:45:31.202 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Address], [m].[Code], [m].[CreatedDate], [m].[CreatedUser], [m].[DateIssued], [m].[Email], [m].[IsDelete], [m].[Name], [m].[Note], [m].[PhoneFax], [m].[Status], [m].[UpdatedDate], [m].[UpdatedUser]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY"
2018-07-16 10:45:31.209 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:31.210 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 16.0615ms.
2018-07-16 10:45:31.210 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:31.211 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.1833ms.
2018-07-16 10:45:31.211 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.TransportCompanyManagerController.IndexPost (TN.UI)" in 28.573ms
2018-07-16 10:45:31.212 +07:00 [Information] Request finished in 31.9029ms 200 text/html; charset=utf-8
2018-07-16 10:45:32.489 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager  
2018-07-16 10:45:32.491 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)"
2018-07-16 10:45:32.491 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:32.497 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:32.497 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:45:32.501 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 10:45:32.506 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [VehicleBrand] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:45:32.511 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Provider] AS [x]
ORDER BY [x].[Name]"
2018-07-16 10:45:32.511 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 14.0606ms.
2018-07-16 10:45:32.511 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:45:32.513 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.8343ms.
2018-07-16 10:45:32.513 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" in 22.4303ms
2018-07-16 10:45:32.513 +07:00 [Information] Request finished in 27.1085ms 200 text/html; charset=utf-8
2018-07-16 10:45:32.759 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager application/x-www-form-urlencoded; charset=UTF-8 295
2018-07-16 10:45:32.760 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:32.760 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:32.778 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:32.779 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name", "", "", "", "", "", "", "", "", "", "False", "False", "False", "False"]) - Validation state: Valid
2018-07-16 10:45:32.826 +07:00 [Information] Executed DbCommand ("26"ms) [Parameters=["@__p_10='?' (DbType = Int32), @__p_11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m.VehicleGroup].[Id], [m.VehicleGroup].[Name], [m.VehicleFloorboardsType].[Id], [m.VehicleFloorboardsType].[Name], [m.VehicleBrand].[Id], [m.VehicleBrand].[Name], [m].[Id] AS [Id1], [m].[Aircon], [m].[Capacity], [m].[ContractEndDate], [m].[DeviceGPSId], [m].[DoorDown], [m].[DoorUp], [m].[DriverCode], [m].[Heading], [m].[Ignition], [m].[IsDelete], [m].[IsWorking], [m].[Lat], [m].[IsAirConditioner], [m].[Fuel], [m].[Note], [m].[Lng], [m].[NumOfSeat], [m].[Lpn], [m].[RegistryEndDate], [m].[SOS], [m].[Speed], [m].[Status], [m].[TrackingTime], [m].[TransportCompanyId] AS [Id0], [m.TransportCompany].[Name] AS [Name0], [m].[YearOfManufacture], [m].[TransportCompanyId], [m].[TransportCompanyStartDate], [m].[UnderwriteEndDate], [m].[Type], [m].[VehicleBrandId], [m].[VehicleFloorboardsTypeId], [m].[VehicleGroupId]
FROM [Vehicle] AS [m]
LEFT JOIN [VehicleGroup] AS [m.VehicleGroup] ON [m].[VehicleGroupId] = [m.VehicleGroup].[Id]
LEFT JOIN [VehicleFloorboardsType] AS [m.VehicleFloorboardsType] ON [m].[VehicleFloorboardsTypeId] = [m.VehicleFloorboardsType].[Id]
LEFT JOIN [VehicleBrand] AS [m.VehicleBrand] ON [m].[VehicleBrandId] = [m.VehicleBrand].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Lpn]
OFFSET @__p_10 ROWS FETCH NEXT @__p_11 ROWS ONLY"
2018-07-16 10:45:32.843 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Vehicle] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:32.845 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 65.6295ms.
2018-07-16 10:45:32.845 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:32.846 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.995ms.
2018-07-16 10:45:32.846 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" in 86.65ms
2018-07-16 10:45:32.847 +07:00 [Information] Request finished in 87.9207ms 200 text/html; charset=utf-8
2018-07-16 10:45:34.959 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager/Create  
2018-07-16 10:45:34.968 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Create\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Create (TN.UI)"
2018-07-16 10:45:34.968 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:34.974 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:34.974 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Create (TN.UI)" - Validation state: Valid
2018-07-16 10:45:34.984 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [VehicleGroup] AS [y]
ORDER BY [y].[Name]"
2018-07-16 10:45:35.018 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [VehicleBrand] AS [y]
ORDER BY [y].[Name]"
2018-07-16 10:45:35.022 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [y].[Id], [y].[Name]
FROM [VehicleFloorboardsType] AS [y]
ORDER BY [y].[Name]"
2018-07-16 10:45:35.032 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[Name]
FROM [TransportCompany] AS [m]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Name]"
2018-07-16 10:45:35.040 +07:00 [Warning] The Include operation for navigation '"[m].Provider"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 10:45:35.051 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [m.Provider].[Id], [m.Provider].[Name], [m].[Id] AS [Id0], [m].[Name] AS [Name0], [m].[EndDate]
FROM [DeviceGPS] AS [m]
LEFT JOIN [Provider] AS [m.Provider] ON [m].[ProviderId] = [m.Provider].[Id]"
2018-07-16 10:45:35.063 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Create (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 88.0191ms.
2018-07-16 10:45:35.069 +07:00 [Information] Executing ViewResult, running view "Create".
2018-07-16 10:45:35.227 +07:00 [Information] Executed ViewResult - view "Create" executed in 163.8753ms.
2018-07-16 10:45:35.227 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Create (TN.UI)" in 259.0177ms
2018-07-16 10:45:35.227 +07:00 [Information] Request finished in 268.3466ms 200 text/html; charset=utf-8
2018-07-16 10:45:42.243 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager  
2018-07-16 10:45:42.249 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 10:45:42.250 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:42.256 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:42.257 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:45:42.257 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0415ms.
2018-07-16 10:45:42.257 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:45:42.258 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.0999ms.
2018-07-16 10:45:42.258 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 9.3112ms
2018-07-16 10:45:42.259 +07:00 [Information] Request finished in 15.6468ms 200 text/html; charset=utf-8
2018-07-16 10:45:42.517 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 10:45:42.533 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 10:45:42.533 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:42.542 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:42.544 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:45:42.551 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 10:45:42.557 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:45:42.558 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.8492ms.
2018-07-16 10:45:42.558 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:45:42.559 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.5929ms.
2018-07-16 10:45:42.559 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 26.4083ms
2018-07-16 10:45:42.559 +07:00 [Information] Request finished in 42.9113ms 200 text/html; charset=utf-8
2018-07-16 10:45:44.155 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 10:45:44.164 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:45:44.164 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:44.171 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:44.171 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:45:44.177 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:45:44.185 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:45:44.191 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:45:44.197 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:45:44.202 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:45:44.205 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:45:44.205 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.2834ms.
2018-07-16 10:45:44.444 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:45:44.466 +07:00 [Information] Executed ViewResult - view "Edit" executed in 260.6161ms.
2018-07-16 10:45:44.466 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 302.3412ms
2018-07-16 10:45:44.466 +07:00 [Information] Request finished in 311.8158ms 200 text/html; charset=utf-8
2018-07-16 10:45:47.321 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 10:45:47.325 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 10:45:47.325 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:47.330 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:47.330 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 10:45:47.331 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0123ms.
2018-07-16 10:45:47.331 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 10:45:47.333 +07:00 [Information] Executed ViewResult - view "Note" executed in 2.6516ms.
2018-07-16 10:45:47.333 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 8.2468ms
2018-07-16 10:45:47.334 +07:00 [Information] Request finished in 13.5739ms 200 text/html; charset=utf-8
2018-07-16 10:45:47.343 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:45:47.362 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:45:47.363 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:47.368 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:47.368 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:45:47.374 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:45:47.382 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:45:47.382 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 14.1494ms.
2018-07-16 10:45:47.383 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:45:47.383 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 1.0017ms.
2018-07-16 10:45:47.383 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 21.174ms
2018-07-16 10:45:47.384 +07:00 [Information] Request finished in 40.7672ms 200 text/html; charset=utf-8
2018-07-16 10:45:50.221 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 10:45:50.223 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 10:45:50.223 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:50.227 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:50.227 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 10:45:50.227 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0105ms.
2018-07-16 10:45:50.227 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 10:45:50.228 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.6277ms.
2018-07-16 10:45:50.228 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 5.298ms
2018-07-16 10:45:50.228 +07:00 [Information] Request finished in 6.9982ms 200 text/html; charset=utf-8
2018-07-16 10:45:50.241 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:45:50.243 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:45:50.245 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:50.250 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:50.253 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:45:50.258 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:45:50.261 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:45:50.261 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 7.5462ms.
2018-07-16 10:45:50.261 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:45:50.261 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3103ms.
2018-07-16 10:45:50.261 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 17.4ms
2018-07-16 10:45:50.262 +07:00 [Information] Request finished in 21.505ms 200 text/html; charset=utf-8
2018-07-16 10:45:52.166 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=7  
2018-07-16 10:45:52.168 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 10:45:52.168 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:52.175 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:52.176 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "7"]) - Validation state: Valid
2018-07-16 10:45:52.177 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0201ms.
2018-07-16 10:45:52.177 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 10:45:52.177 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.6796ms.
2018-07-16 10:45:52.177 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 9.352ms
2018-07-16 10:45:52.178 +07:00 [Information] Request finished in 11.2638ms 200 text/html; charset=utf-8
2018-07-16 10:45:52.185 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:45:52.185 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:45:52.186 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:52.195 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:52.197 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "7"]) - Validation state: Valid
2018-07-16 10:45:52.202 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:45:52.209 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:45:52.209 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.2433ms.
2018-07-16 10:45:52.209 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:45:52.210 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3174ms.
2018-07-16 10:45:52.210 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 24.1378ms
2018-07-16 10:45:52.210 +07:00 [Information] Request finished in 26.2875ms 200 text/html; charset=utf-8
2018-07-16 10:45:56.454 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 10:45:56.457 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:45:56.458 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:45:56.464 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:45:56.464 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:45:56.472 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:45:56.478 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:45:56.485 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:45:56.489 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:45:56.495 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:45:56.500 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:45:56.500 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.6114ms.
2018-07-16 10:45:56.500 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:45:56.502 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5205ms.
2018-07-16 10:45:56.502 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 44.2718ms
2018-07-16 10:45:56.502 +07:00 [Information] Request finished in 48.6872ms 200 text/html; charset=utf-8
2018-07-16 10:45:56.524 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 10:45:56.525 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 10:45:56.525 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 10:45:56.525 +07:00 [Information] Request finished in 1.1337ms 304 text/css
2018-07-16 10:45:56.525 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 10:45:56.526 +07:00 [Information] Request finished in 0.9419ms 304 application/javascript
2018-07-16 10:46:29.791 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager  
2018-07-16 10:46:29.793 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 10:46:29.794 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:46:29.811 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:46:29.811 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:46:29.811 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0112ms.
2018-07-16 10:46:29.811 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:46:29.813 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.2538ms.
2018-07-16 10:46:29.813 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 19.0458ms
2018-07-16 10:46:29.813 +07:00 [Information] Request finished in 22.1627ms 200 text/html; charset=utf-8
2018-07-16 10:46:29.987 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 10:46:29.991 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 10:46:29.991 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:46:29.998 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:46:30.007 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:46:30.014 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 10:46:30.018 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:46:30.019 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.9229ms.
2018-07-16 10:46:30.019 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:46:30.020 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.4138ms.
2018-07-16 10:46:30.020 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 29.7164ms
2018-07-16 10:46:30.021 +07:00 [Information] Request finished in 33.8752ms 200 text/html; charset=utf-8
2018-07-16 10:46:39.278 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager  
2018-07-16 10:46:39.280 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 10:46:39.280 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:46:39.285 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:46:39.285 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 10:46:39.286 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0081ms.
2018-07-16 10:46:39.286 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 10:46:39.287 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.4647ms.
2018-07-16 10:46:39.287 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 7.6195ms
2018-07-16 10:46:39.287 +07:00 [Information] Request finished in 9.7986ms 200 text/html; charset=utf-8
2018-07-16 10:46:39.454 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 10:46:39.458 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 10:46:39.458 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:46:39.469 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:46:39.474 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 10:46:39.481 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 10:46:39.486 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 10:46:39.486 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.1583ms.
2018-07-16 10:46:39.486 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 10:46:39.487 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.6074ms.
2018-07-16 10:46:39.487 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 29.5784ms
2018-07-16 10:46:39.490 +07:00 [Information] Request finished in 36.5766ms 200 text/html; charset=utf-8
2018-07-16 10:46:40.789 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 10:46:40.793 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 10:46:40.794 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:46:40.800 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:46:40.800 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:46:40.805 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 10:46:40.810 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:46:40.815 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:46:40.819 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:46:40.825 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:46:40.831 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:46:40.831 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.028ms.
2018-07-16 10:46:40.831 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 10:46:40.833 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3968ms.
2018-07-16 10:46:40.833 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 39.5346ms
2018-07-16 10:46:40.833 +07:00 [Information] Request finished in 43.8259ms 200 text/html; charset=utf-8
2018-07-16 10:46:53.694 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 10:46:53.696 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 10:46:53.696 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:46:53.702 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:46:53.703 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 10:46:53.703 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0154ms.
2018-07-16 10:46:53.703 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 10:46:53.705 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.9903ms.
2018-07-16 10:46:53.705 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 9.4051ms
2018-07-16 10:46:53.705 +07:00 [Information] Request finished in 11.5841ms 200 text/html; charset=utf-8
2018-07-16 10:46:53.714 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:46:53.716 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:46:53.716 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:46:53.723 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:46:53.724 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:46:53.729 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:46:53.734 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:46:53.734 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.5379ms.
2018-07-16 10:46:53.735 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:46:53.735 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3122ms.
2018-07-16 10:46:53.735 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 19.1995ms
2018-07-16 10:46:53.735 +07:00 [Information] Request finished in 20.6744ms 200 text/html; charset=utf-8
2018-07-16 10:46:57.724 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 10:46:57.726 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 10:46:57.727 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:46:57.732 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:46:57.733 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 10:46:57.733 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0142ms.
2018-07-16 10:46:57.733 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 10:46:57.734 +07:00 [Information] Executed ViewResult - view "Note" executed in 1.1404ms.
2018-07-16 10:46:57.734 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 8.2002ms
2018-07-16 10:46:57.735 +07:00 [Information] Request finished in 10.6027ms 200 text/html; charset=utf-8
2018-07-16 10:46:57.744 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:46:57.746 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:46:57.746 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:46:57.754 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:46:57.755 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:46:57.761 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:46:57.767 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:46:57.769 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.8744ms.
2018-07-16 10:46:57.769 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:46:57.770 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3115ms.
2018-07-16 10:46:57.770 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 24.138ms
2018-07-16 10:46:57.770 +07:00 [Information] Request finished in 26.3963ms 200 text/html; charset=utf-8
2018-07-16 10:47:04.870 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 10:47:04.871 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 10:47:04.872 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:47:04.890 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:47:04.891 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 10:47:04.891 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0113ms.
2018-07-16 10:47:04.891 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 10:47:04.892 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.718ms.
2018-07-16 10:47:04.892 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 20.638ms
2018-07-16 10:47:04.892 +07:00 [Information] Request finished in 22.5985ms 200 text/html; charset=utf-8
2018-07-16 10:47:04.905 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:47:04.905 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:47:04.906 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:47:04.917 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:47:04.918 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:47:04.923 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:47:04.928 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:47:04.928 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.6209ms.
2018-07-16 10:47:04.929 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:47:04.929 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.44ms.
2018-07-16 10:47:04.929 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 23.8415ms
2018-07-16 10:47:04.930 +07:00 [Information] Request finished in 25.5147ms 200 text/html; charset=utf-8
2018-07-16 10:47:14.675 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 10:47:14.686 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 10:47:14.687 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:47:14.696 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:47:14.700 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 10:47:14.732 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 10:47:14.745 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 10:47:14.750 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:47:14.755 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:47:14.760 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND (([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 10:47:14.764 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 10:47:14.766 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 65.7345ms.
2018-07-16 10:47:14.766 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 10:47:14.779 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 92.7528ms
2018-07-16 10:47:14.779 +07:00 [Information] Request finished in 104.0574ms 200 application/json; charset=utf-8
2018-07-16 10:47:51.061 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 10:47:51.062 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 10:47:51.062 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:47:51.068 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:47:51.069 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 10:47:51.069 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0137ms.
2018-07-16 10:47:51.069 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 10:47:51.070 +07:00 [Information] Executed ViewResult - view "Note" executed in 0.7584ms.
2018-07-16 10:47:51.070 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 7.59ms
2018-07-16 10:47:51.070 +07:00 [Information] Request finished in 9.5206ms 200 text/html; charset=utf-8
2018-07-16 10:47:51.080 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:47:51.081 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:47:51.081 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:47:51.088 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:47:51.089 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:47:51.096 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:47:51.100 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:47:51.101 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.1335ms.
2018-07-16 10:47:51.101 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:47:51.101 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3101ms.
2018-07-16 10:47:51.101 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 20.2096ms
2018-07-16 10:47:51.101 +07:00 [Information] Request finished in 21.7672ms 200 text/html; charset=utf-8
2018-07-16 10:47:57.032 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 296
2018-07-16 10:47:57.044 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-16 10:47:57.045 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:47:57.051 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:47:57.073 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Valid
2018-07-16 10:47:57.316 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NoteConfirmationTrips] ([ConfirmationTripsId], [Content], [CreatedDate], [CreatedUser], [StudentCheckOutId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [NoteConfirmationTrips]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2018-07-16 10:47:57.340 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 266.8318ms.
2018-07-16 10:47:57.340 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 10:47:57.340 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 296.1101ms
2018-07-16 10:47:57.340 +07:00 [Information] Request finished in 309.2385ms 200 application/json; charset=utf-8
2018-07-16 10:47:57.549 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:47:57.552 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:47:57.553 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:47:57.558 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:47:57.559 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:47:57.566 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:47:57.571 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:47:57.571 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.9422ms.
2018-07-16 10:47:57.571 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:47:57.572 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.5287ms.
2018-07-16 10:47:57.572 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 19.7255ms
2018-07-16 10:47:57.572 +07:00 [Information] Request finished in 23.0252ms 200 text/html; charset=utf-8
2018-07-16 10:48:00.029 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 294
2018-07-16 10:48:00.031 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-16 10:48:00.031 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:48:00.041 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:48:00.042 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Valid
2018-07-16 10:48:00.053 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NoteConfirmationTrips] ([ConfirmationTripsId], [Content], [CreatedDate], [CreatedUser], [StudentCheckOutId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [NoteConfirmationTrips]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2018-07-16 10:48:00.063 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 20.2757ms.
2018-07-16 10:48:00.063 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 10:48:00.063 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 32.402ms
2018-07-16 10:48:00.063 +07:00 [Information] Request finished in 34.0941ms 200 application/json; charset=utf-8
2018-07-16 10:48:00.271 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:48:00.273 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:48:00.273 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:48:00.279 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:48:00.280 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:48:00.286 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:48:00.291 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:48:00.291 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.8064ms.
2018-07-16 10:48:00.291 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:48:00.291 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.3323ms.
2018-07-16 10:48:00.292 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 18.6239ms
2018-07-16 10:48:00.292 +07:00 [Information] Request finished in 20.7401ms 200 text/html; charset=utf-8
2018-07-16 10:48:04.499 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 302
2018-07-16 10:48:04.502 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-16 10:48:04.502 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:48:04.526 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:48:04.526 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Valid
2018-07-16 10:48:04.560 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NoteConfirmationTrips] ([ConfirmationTripsId], [Content], [CreatedDate], [CreatedUser], [StudentCheckOutId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [NoteConfirmationTrips]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2018-07-16 10:48:04.585 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 58.8571ms.
2018-07-16 10:48:04.586 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 10:48:04.586 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 83.6711ms
2018-07-16 10:48:04.586 +07:00 [Information] Request finished in 86.6214ms 200 application/json; charset=utf-8
2018-07-16 10:48:04.795 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 10:48:04.798 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 10:48:04.798 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 10:48:04.804 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 10:48:04.805 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 10:48:04.814 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 10:48:04.824 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 10:48:04.825 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 19.2235ms.
2018-07-16 10:48:04.825 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 10:48:04.826 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.5798ms.
2018-07-16 10:48:04.826 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 28.0749ms
2018-07-16 10:48:04.826 +07:00 [Information] Request finished in 31.6031ms 200 text/html; charset=utf-8
2018-07-16 11:32:13.736 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:32:14.469 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:32:14.660 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:32:14.801 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 11:32:14.828 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 11:32:14.830 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 11:32:14.830 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 11:32:14.831 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 11:32:14.848 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.850 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.850 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.855 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.855 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.856 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.857 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.858 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.859 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.859 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.859 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.859 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.859 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.860 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.860 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.861 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.861 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.862 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 11:32:14.884 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 11:32:14.941 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:14.982 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:14.987 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:14.990 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:14.993 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:14.997 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:15.001 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:15.004 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:15.008 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:15.011 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:15.015 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:15.021 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:15.030 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 11:32:15.048 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 11:32:15.450 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:32:15.489 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:32:15.564 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:32:15.725 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:32:15.798 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:15.831 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:15.846 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:15.850 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:15.856 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 363.7547ms.
2018-07-16 11:32:15.875 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:32:16.040 +07:00 [Information] Executed ViewResult - view "Edit" executed in 170.7327ms.
2018-07-16 11:32:16.043 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 592.6222ms
2018-07-16 11:32:16.076 +07:00 [Information] Request finished in 2345.1794ms 200 text/html; charset=utf-8
2018-07-16 11:32:16.077 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:32:16.077 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 11:32:16.099 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 11:32:16.099 +07:00 [Information] Request finished in 22.0519ms 200 text/css
2018-07-16 11:32:16.123 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 11:32:16.123 +07:00 [Information] Request finished in 46.2063ms 200 application/javascript
2018-07-16 11:32:19.235 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:32:19.238 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:32:19.239 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:32:19.246 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:32:19.249 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:32:19.257 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:32:19.282 +07:00 [Information] Executed DbCommand ("23"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:32:19.288 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:19.292 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:19.297 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:19.301 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:19.301 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 52.026ms.
2018-07-16 11:32:19.301 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:32:19.303 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.302ms.
2018-07-16 11:32:19.304 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 65.0425ms
2018-07-16 11:32:19.304 +07:00 [Information] Request finished in 69.333ms 200 text/html; charset=utf-8
2018-07-16 11:32:19.322 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 11:32:19.323 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 11:32:19.323 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:32:19.324 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 11:32:19.326 +07:00 [Information] Request finished in 2.6928ms 304 text/css
2018-07-16 11:32:19.340 +07:00 [Information] Request finished in 17.6023ms 304 application/javascript
2018-07-16 11:32:25.656 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 11:32:25.666 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 11:32:25.666 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:32:25.674 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:32:25.680 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:32:25.698 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 11:32:25.714 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:32:25.721 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:25.726 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:25.730 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:25.734 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:25.846 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 11:32:25.893 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 212.5595ms.
2018-07-16 11:32:25.896 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 11:32:25.910 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 243.7273ms
2018-07-16 11:32:25.910 +07:00 [Information] Request finished in 253.8182ms 200 application/json; charset=utf-8
2018-07-16 11:32:27.783 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:32:27.785 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:32:27.785 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:32:27.793 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:32:27.795 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:32:27.805 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:32:27.811 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:32:27.816 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:27.820 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:27.826 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:27.830 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:27.830 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.4359ms.
2018-07-16 11:32:27.830 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:32:27.832 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4516ms.
2018-07-16 11:32:27.832 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 47.3045ms
2018-07-16 11:32:27.832 +07:00 [Information] Request finished in 49.4972ms 200 text/html; charset=utf-8
2018-07-16 11:32:27.852 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:32:27.852 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 11:32:27.853 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 11:32:27.853 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 11:32:27.853 +07:00 [Information] Request finished in 0.4862ms 304 application/javascript
2018-07-16 11:32:27.853 +07:00 [Information] Request finished in 0.7509ms 304 text/css
2018-07-16 11:32:30.192 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 11:32:30.193 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 11:32:30.194 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:32:30.201 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:32:30.202 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:32:30.206 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 11:32:30.212 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:32:30.218 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:30.224 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:30.229 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:30.233 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:30.242 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 11:32:30.255 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 53.416ms.
2018-07-16 11:32:30.256 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 11:32:30.256 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 62.7716ms
2018-07-16 11:32:30.256 +07:00 [Information] Request finished in 64.6032ms 200 application/json; charset=utf-8
2018-07-16 11:32:32.126 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 11:32:32.127 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 11:32:32.127 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:32:32.141 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:32:32.143 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:32:32.151 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 11:32:32.156 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:32:32.166 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:32.170 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:32.175 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:32:32.180 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:32:32.187 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 11:32:32.199 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 56.0605ms.
2018-07-16 11:32:32.199 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 11:32:32.199 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 71.9112ms
2018-07-16 11:32:32.199 +07:00 [Information] Request finished in 73.4248ms 200 application/json; charset=utf-8
2018-07-16 11:32:37.829 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:32:37.832 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 11:32:37.833 +07:00 [Information] Request finished in 3.3829ms 304 text/css
2018-07-16 11:33:01.574 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:33:01.577 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:33:01.578 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:33:01.584 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:33:01.585 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:33:01.592 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:33:01.598 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:33:01.604 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:33:01.608 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:33:01.613 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:33:01.617 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:33:01.617 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.9899ms.
2018-07-16 11:33:01.617 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:33:01.619 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5186ms.
2018-07-16 11:33:01.619 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 41.7663ms
2018-07-16 11:33:01.619 +07:00 [Information] Request finished in 45.0288ms 200 text/html; charset=utf-8
2018-07-16 11:33:01.635 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 11:33:01.635 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:33:01.636 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 11:33:01.636 +07:00 [Information] Request finished in 0.7653ms 304 application/javascript
2018-07-16 11:33:01.636 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 11:33:01.636 +07:00 [Information] Request finished in 1.0302ms 304 text/css
2018-07-16 11:33:16.702 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:33:16.704 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:33:16.705 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:33:16.711 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:33:16.712 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:33:16.722 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:33:16.737 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:33:16.742 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:33:16.746 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:33:16.751 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:33:16.755 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:33:16.755 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 43.111ms.
2018-07-16 11:33:16.755 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:33:16.757 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5663ms.
2018-07-16 11:33:16.757 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 52.7217ms
2018-07-16 11:33:16.757 +07:00 [Information] Request finished in 54.838ms 200 text/html; charset=utf-8
2018-07-16 11:33:16.775 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:33:16.775 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 11:33:16.775 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 11:33:16.775 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 11:33:16.775 +07:00 [Information] Request finished in 0.7973ms 304 application/javascript
2018-07-16 11:33:16.776 +07:00 [Information] Request finished in 0.984ms 304 text/css
2018-07-16 11:33:17.578 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:33:17.579 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:33:17.579 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:33:17.586 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:33:17.586 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:33:17.593 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:33:17.613 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:33:17.627 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:33:17.637 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:33:17.642 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:33:17.648 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:33:17.649 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 61.9947ms.
2018-07-16 11:33:17.649 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:33:17.651 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.056ms.
2018-07-16 11:33:17.651 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 72.3461ms
2018-07-16 11:33:17.652 +07:00 [Information] Request finished in 73.871ms 200 text/html; charset=utf-8
2018-07-16 11:34:27.450 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:34:27.451 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:34:27.452 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:34:27.461 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:34:27.462 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:34:27.468 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:34:27.478 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:34:27.488 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:34:27.496 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:34:27.505 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:34:27.513 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:34:27.513 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 51.125ms.
2018-07-16 11:34:27.513 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:34:27.515 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.7214ms.
2018-07-16 11:34:27.515 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 63.4414ms
2018-07-16 11:34:27.515 +07:00 [Information] Request finished in 65.5434ms 200 text/html; charset=utf-8
2018-07-16 11:34:27.534 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:34:27.534 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 11:34:27.535 +07:00 [Information] Request finished in 1.3693ms 304 text/css
2018-07-16 11:34:27.538 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 11:34:27.539 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 11:34:27.539 +07:00 [Information] Request finished in 1.8752ms 304 application/javascript
2018-07-16 11:35:05.381 +07:00 [Information] Request starting HTTP/1.1 DEBUG http://localhost:44396/  0
2018-07-16 11:35:05.381 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/  
2018-07-16 11:35:05.493 +07:00 [Information] Request finished in 138.8224ms 200 
2018-07-16 11:35:06.541 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:35:06.890 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:35:07.036 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 11:35:07.078 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 11:35:07.668 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-16 11:35:07.687 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-16 11:35:07.697 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.0483ms.
2018-07-16 11:35:07.731 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 11:35:07.902 +07:00 [Information] Executed ViewResult - view "Index" executed in 187.9187ms.
2018-07-16 11:35:07.906 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 234.6148ms
2018-07-16 11:35:07.938 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:35:07.941 +07:00 [Information] Request finished in 2566.2865ms 200 text/html; charset=utf-8
2018-07-16 11:35:07.968 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 11:35:07.973 +07:00 [Information] Request finished in 34.7346ms 200 text/css
2018-07-16 11:35:09.838 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:35:09.881 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:35:09.892 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:35:09.902 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:35:10.047 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:35:10.208 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:35:10.388 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:35:10.489 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:35:10.536 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:35:10.556 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:35:10.564 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:35:10.571 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 514.1851ms.
2018-07-16 11:35:10.583 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:35:10.629 +07:00 [Information] Executed ViewResult - view "Edit" executed in 45.0302ms.
2018-07-16 11:35:10.636 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 748.2428ms
2018-07-16 11:35:10.646 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:35:10.649 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 11:35:10.654 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 11:35:10.656 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 11:35:10.664 +07:00 [Information] Request finished in 820.0516ms 200 text/html; charset=utf-8
2018-07-16 11:35:10.667 +07:00 [Information] Request finished in 19.9738ms 304 text/css
2018-07-16 11:35:10.674 +07:00 [Information] Request finished in 22.8698ms 304 application/javascript
2018-07-16 11:35:16.513 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 11:35:16.525 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 11:35:16.530 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:35:16.541 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:35:16.554 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:35:16.575 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 11:35:16.592 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:35:16.607 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:35:16.615 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:35:16.624 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:35:16.632 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:35:26.083 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 11:35:28.368 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 11809.8572ms.
2018-07-16 11:35:28.376 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 11:35:28.416 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 11887.2551ms
2018-07-16 11:35:28.421 +07:00 [Information] Request finished in 11907.2962ms 200 application/json; charset=utf-8
2018-07-16 11:35:31.118 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:35:31.127 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:35:31.135 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:35:31.151 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:35:31.156 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:35:31.166 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:35:31.174 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:35:31.183 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:35:31.190 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:35:31.199 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:35:31.206 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:35:31.209 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 50.3763ms.
2018-07-16 11:35:31.212 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:35:31.218 +07:00 [Information] Executed ViewResult - view "Edit" executed in 4.8681ms.
2018-07-16 11:35:31.223 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 89.7244ms
2018-07-16 11:35:31.233 +07:00 [Information] Request finished in 112.5656ms 200 text/html; charset=utf-8
2018-07-16 11:35:31.243 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:35:31.243 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 11:35:31.250 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 11:35:31.250 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 11:35:31.260 +07:00 [Information] Request finished in 11.8954ms 304 text/css
2018-07-16 11:35:31.264 +07:00 [Information] Request finished in 14.392ms 304 application/javascript
2018-07-16 11:38:50.425 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:38:51.031 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:38:51.534 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:38:51.716 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:38:51.873 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:38:51.959 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:38:52.128 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:38:52.196 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:38:52.229 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:38:52.245 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:38:52.249 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:38:52.256 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 379.1119ms.
2018-07-16 11:38:53.777 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:38:53.948 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1680.0255ms.
2018-07-16 11:38:53.950 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 2918.6494ms
2018-07-16 11:38:53.981 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 11:38:53.982 +07:00 [Information] Request finished in 3563.3922ms 200 text/html; charset=utf-8
2018-07-16 11:38:53.983 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 11:38:53.984 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 11:38:53.984 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 11:38:53.986 +07:00 [Information] Request finished in 2.5884ms 304 application/javascript
2018-07-16 11:38:53.986 +07:00 [Information] Request finished in 4.9955ms 304 text/css
2018-07-16 11:39:21.479 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 11:39:21.495 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 11:39:21.496 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:39:21.508 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:39:21.509 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:39:21.522 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 11:39:21.529 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:39:21.545 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:39:21.560 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:39:21.566 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:39:21.570 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:39:21.571 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 60.9029ms.
2018-07-16 11:39:21.885 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 11:39:21.907 +07:00 [Information] Executed ViewResult - view "Edit" executed in 335.9112ms.
2018-07-16 11:39:21.907 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 412.1896ms
2018-07-16 11:39:21.907 +07:00 [Information] Request finished in 428.9468ms 200 text/html; charset=utf-8
2018-07-16 11:41:17.559 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 11:41:17.564 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 11:41:17.564 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:41:17.571 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:41:17.574 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 11:41:17.575 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.6707ms.
2018-07-16 11:41:17.577 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 11:41:17.629 +07:00 [Information] Executed ViewResult - view "Note" executed in 54.0372ms.
2018-07-16 11:41:17.630 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 65.6225ms
2018-07-16 11:41:17.630 +07:00 [Information] Request finished in 70.7957ms 200 text/html; charset=utf-8
2018-07-16 11:41:17.646 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 11:41:17.659 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 11:41:17.660 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:41:17.665 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:41:17.701 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 11:41:17.751 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 11:41:17.812 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 11:41:17.823 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 121.6311ms.
2018-07-16 11:41:17.826 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 11:41:17.833 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 9.8264ms.
2018-07-16 11:41:17.833 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 173.7212ms
2018-07-16 11:41:17.833 +07:00 [Information] Request finished in 188.68ms 200 text/html; charset=utf-8
2018-07-16 11:44:54.212 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 11:44:54.220 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 11:44:54.221 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 11:44:54.230 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 11:44:54.234 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 11:44:54.252 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 11:44:54.269 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 11:44:54.276 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:44:54.280 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:44:54.285 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 11:44:54.290 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 11:44:54.387 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 11:44:54.432 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 198.1182ms.
2018-07-16 11:44:54.440 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 11:44:54.457 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 236.7847ms
2018-07-16 11:44:54.458 +07:00 [Information] Request finished in 246.0373ms 200 application/json; charset=utf-8
2018-07-16 14:04:28.496 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:04:29.240 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:04:29.432 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:04:29.574 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 14:04:29.596 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 14:04:29.598 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 14:04:29.598 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 14:04:29.598 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 14:04:29.615 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.616 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.617 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.621 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.622 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.622 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.624 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.624 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.625 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.625 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.625 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.626 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.626 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.626 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.627 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.627 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.628 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.628 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:04:29.651 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 14:04:29.706 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.746 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.751 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.756 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.759 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.762 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.767 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.771 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.775 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.778 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.782 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.786 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.790 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:04:29.805 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 14:04:30.222 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:04:30.260 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:04:30.337 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:04:30.511 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:04:30.592 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:04:30.627 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:04:30.644 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:04:30.649 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:04:30.655 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 390.7443ms.
2018-07-16 14:04:30.696 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:04:31.040 +07:00 [Information] Executed ViewResult - view "Edit" executed in 370.2697ms.
2018-07-16 14:04:31.043 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 820.0612ms
2018-07-16 14:04:31.067 +07:00 [Information] Request finished in 2576.0923ms 200 text/html; charset=utf-8
2018-07-16 14:04:31.350 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 14:04:31.358 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 14:04:31.367 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 14:04:31.367 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 14:04:31.367 +07:00 [Information] Request finished in 9.1796ms 200 application/javascript
2018-07-16 14:04:31.367 +07:00 [Information] Request finished in 17.6541ms 200 text/css
2018-07-16 14:04:56.420 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:04:56.424 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:04:56.425 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:04:56.445 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:04:56.447 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:04:56.461 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:04:56.475 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:04:56.485 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:04:56.491 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:04:56.495 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:04:56.499 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:04:56.499 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 52.2017ms.
2018-07-16 14:04:56.500 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:04:56.502 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.5871ms.
2018-07-16 14:04:56.502 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 77.963ms
2018-07-16 14:04:56.503 +07:00 [Information] Request finished in 82.3611ms 200 text/html; charset=utf-8
2018-07-16 14:05:49.256 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:05:49.259 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:05:49.260 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:05:49.265 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:05:49.266 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:05:49.271 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:05:49.275 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:05:49.280 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:05:49.283 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:05:49.287 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:05:49.290 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:05:49.290 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 23.3617ms.
2018-07-16 14:05:49.290 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:05:49.291 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5455ms.
2018-07-16 14:05:49.291 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 32.139ms
2018-07-16 14:05:49.292 +07:00 [Information] Request finished in 35.6ms 200 text/html; charset=utf-8
2018-07-16 14:08:30.967 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:08:30.968 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:08:30.969 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:08:30.975 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:08:30.976 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:08:30.982 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:08:30.988 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:08:30.993 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:08:30.997 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:08:31.002 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:08:31.006 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:08:31.006 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.0836ms.
2018-07-16 14:08:31.006 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:08:31.008 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8081ms.
2018-07-16 14:08:31.008 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 39.5437ms
2018-07-16 14:08:31.008 +07:00 [Information] Request finished in 41.0205ms 200 text/html; charset=utf-8
2018-07-16 14:10:47.560 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 14:10:47.571 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 14:10:47.572 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:10:47.579 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:10:47.588 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:10:47.602 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 14:10:47.615 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:10:47.622 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:10:47.626 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:10:47.631 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:10:47.636 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:10:47.732 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 14:10:47.765 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 177.3574ms.
2018-07-16 14:10:47.770 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 14:10:47.782 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 211.1731ms
2018-07-16 14:10:47.782 +07:00 [Information] Request finished in 222.2797ms 200 application/json; charset=utf-8
2018-07-16 14:10:49.500 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:10:49.501 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:10:49.501 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:10:49.507 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:10:49.507 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:10:49.516 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:10:49.523 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:10:49.534 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:10:49.540 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:10:49.546 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:10:49.550 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:10:49.551 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 43.1269ms.
2018-07-16 14:10:49.551 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:10:49.553 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.7437ms.
2018-07-16 14:10:49.553 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 51.6972ms
2018-07-16 14:10:49.553 +07:00 [Information] Request finished in 53.4281ms 200 text/html; charset=utf-8
2018-07-16 14:11:29.019 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:11:29.020 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:11:29.021 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:11:29.026 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:11:29.026 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:11:29.033 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:11:29.038 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:11:29.042 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:11:29.046 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:11:29.051 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:11:29.055 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:11:29.055 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.3837ms.
2018-07-16 14:11:29.055 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:11:29.056 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5402ms.
2018-07-16 14:11:29.056 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 36.1113ms
2018-07-16 14:11:29.057 +07:00 [Information] Request finished in 37.5062ms 200 text/html; charset=utf-8
2018-07-16 14:11:30.902 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 14:11:30.910 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 14:11:30.910 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:11:30.922 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:11:30.946 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 14:11:30.954 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 14:11:30.955 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 9.1937ms.
2018-07-16 14:11:30.956 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 14:11:30.956 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 46.2217ms
2018-07-16 14:11:30.956 +07:00 [Information] Request finished in 54.5163ms 200 application/json; charset=utf-8
2018-07-16 14:11:31.651 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:11:31.653 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:11:31.654 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:11:31.662 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:11:31.662 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:11:31.667 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:11:31.672 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:11:31.678 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:11:31.683 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:11:31.688 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:11:31.692 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:11:31.692 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.2794ms.
2018-07-16 14:11:31.692 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:11:31.693 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4724ms.
2018-07-16 14:11:31.693 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 39.7476ms
2018-07-16 14:11:31.693 +07:00 [Information] Request finished in 45.4311ms 200 text/html; charset=utf-8
2018-07-16 14:11:33.157 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 14:11:33.159 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 14:11:33.160 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:11:33.165 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:11:33.166 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 14:11:33.170 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 14:11:33.170 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 3.9279ms.
2018-07-16 14:11:33.170 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 14:11:33.170 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 10.8811ms
2018-07-16 14:11:33.171 +07:00 [Information] Request finished in 13.9764ms 200 application/json; charset=utf-8
2018-07-16 14:11:33.737 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 14:11:33.739 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 14:11:33.740 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:11:33.751 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:11:33.752 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 14:11:33.756 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 14:11:33.757 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 4.3315ms.
2018-07-16 14:11:33.757 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 14:11:33.757 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 18.2666ms
2018-07-16 14:11:33.757 +07:00 [Information] Request finished in 20.6728ms 200 application/json; charset=utf-8
2018-07-16 14:11:35.711 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:11:35.713 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:11:35.714 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:11:35.721 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:11:35.722 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:11:35.729 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:11:35.735 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:11:35.740 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:11:35.744 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:11:35.749 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:11:35.753 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:11:35.753 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.2176ms.
2018-07-16 14:11:35.753 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:11:35.755 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4255ms.
2018-07-16 14:11:35.755 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 41.7958ms
2018-07-16 14:11:35.755 +07:00 [Information] Request finished in 44.7713ms 200 text/html; charset=utf-8
2018-07-16 14:11:48.616 +07:00 [Information] Request starting HTTP/1.1 DEBUG http://localhost:44396/  0
2018-07-16 14:11:48.616 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/  
2018-07-16 14:11:48.697 +07:00 [Information] Request finished in 87.8343ms 200 
2018-07-16 14:11:49.634 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:11:50.005 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:11:50.191 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 14:11:50.232 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 14:11:50.736 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-16 14:11:50.761 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-16 14:11:50.772 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.1534ms.
2018-07-16 14:11:50.801 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 14:11:51.021 +07:00 [Information] Executed ViewResult - view "Index" executed in 229.6995ms.
2018-07-16 14:11:51.028 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 287.1791ms
2018-07-16 14:11:51.075 +07:00 [Information] Request finished in 2452.5097ms 200 text/html; charset=utf-8
2018-07-16 14:11:51.084 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 14:11:51.146 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 14:11:51.150 +07:00 [Information] Request finished in 67.4388ms 200 text/css
2018-07-16 14:15:13.580 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 14:15:13.619 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 14:15:13.628 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:15:13.653 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:15:13.749 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:15:13.773 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 14:15:13.831 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:15:13.921 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:15:13.964 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:15:13.986 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:15:13.993 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:15:14.155 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 14:15:14.188 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 435.4333ms.
2018-07-16 14:15:14.202 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 14:15:14.229 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 604.4597ms
2018-07-16 14:15:14.236 +07:00 [Information] Request finished in 655.3779ms 200 application/json; charset=utf-8
2018-07-16 14:15:17.310 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 14:15:17.320 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 14:15:17.325 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:15:17.337 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:15:17.370 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 14:15:20.714 +07:00 [Information] Executed DbCommand ("38"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 14:15:56.018 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/  
2018-07-16 14:15:56.018 +07:00 [Information] Request starting HTTP/1.1 DEBUG http://localhost:44396/  0
2018-07-16 14:15:56.091 +07:00 [Information] Request finished in 76.1269ms 200 
2018-07-16 14:15:56.726 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-16 14:15:57.316 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:15:57.697 +07:00 [Information] Executed DbCommand ("23"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:15:57.839 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-16 14:15:57.848 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.8619ms.
2018-07-16 14:15:57.873 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 14:15:58.069 +07:00 [Information] Executed ViewResult - view "Index" executed in 203.2738ms.
2018-07-16 14:15:58.076 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 1345.3907ms
2018-07-16 14:15:58.119 +07:00 [Information] Request finished in 2106.5939ms 200 text/html; charset=utf-8
2018-07-16 14:16:58.973 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 14:16:59.027 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 14:16:59.035 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:16:59.051 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:16:59.175 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 14:17:01.850 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 14:17:01.891 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:17:01.971 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2790.4402ms.
2018-07-16 14:17:01.985 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 14:17:02.006 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 2974.4119ms
2018-07-16 14:17:02.011 +07:00 [Information] Request finished in 3035.8122ms 200 application/json; charset=utf-8
2018-07-16 14:17:04.626 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:17:04.642 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:17:04.648 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:17:04.657 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:17:04.673 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:17:04.794 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:17:04.956 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:17:05.055 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:17:05.099 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:17:05.118 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:17:05.126 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:17:05.133 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 455.3806ms.
2018-07-16 14:17:05.173 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:17:05.263 +07:00 [Information] Executed ViewResult - view "Edit" executed in 125.4741ms.
2018-07-16 14:17:05.270 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 623.3304ms
2018-07-16 14:17:05.280 +07:00 [Information] Request finished in 651.3881ms 200 text/html; charset=utf-8
2018-07-16 14:17:07.795 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 14:17:07.801 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 14:17:07.813 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:17:07.828 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:17:07.835 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 14:17:11.537 +07:00 [Information] Executed DbCommand ("38"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 14:17:12.789 +07:00 [Information] Executed DbCommand ("35"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:17:19.677 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 14:17:21.936 +07:00 [Information] Executed DbCommand ("45"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 14:17:24.024 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16183.2164ms.
2018-07-16 14:17:24.029 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 14:17:24.034 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 16228.8594ms
2018-07-16 14:17:24.039 +07:00 [Information] Request finished in 16251.0453ms 200 application/json; charset=utf-8
2018-07-16 14:17:28.262 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:17:28.267 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:17:28.272 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:17:28.282 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:17:28.287 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:17:28.297 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:17:28.306 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:17:28.316 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:17:28.324 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:17:28.332 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:17:28.340 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:17:28.344 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 53.0554ms.
2018-07-16 14:17:28.349 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:17:28.355 +07:00 [Information] Executed ViewResult - view "Edit" executed in 6.1271ms.
2018-07-16 14:17:28.363 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 89.163ms
2018-07-16 14:17:28.377 +07:00 [Information] Request finished in 109.2805ms 200 text/html; charset=utf-8
2018-07-16 14:17:28.384 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 14:17:28.385 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 14:17:28.393 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 14:17:28.394 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 14:17:28.408 +07:00 [Information] Request finished in 19.0206ms 304 application/javascript
2018-07-16 14:17:28.411 +07:00 [Information] Request finished in 23.9027ms 304 text/css
2018-07-16 14:17:35.810 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 14:17:35.821 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 14:17:35.826 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:17:35.836 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:17:35.847 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:17:35.868 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 14:17:35.882 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:17:35.892 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:17:35.898 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:17:35.907 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:17:35.914 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:17:35.919 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 67.9742ms.
2018-07-16 14:17:35.924 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 14:17:35.928 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 103.0688ms
2018-07-16 14:17:35.932 +07:00 [Information] Request finished in 122.0213ms 200 application/json; charset=utf-8
2018-07-16 14:17:39.515 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 14:17:39.524 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 14:17:39.527 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:17:39.537 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:17:39.542 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 14:17:41.211 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 14:17:41.220 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:17:41.232 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 14:17:41.249 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 1704.7124ms.
2018-07-16 14:17:41.253 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 14:17:41.264 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 1733.6162ms
2018-07-16 14:17:41.270 +07:00 [Information] Request finished in 1753.98ms 200 application/json; charset=utf-8
2018-07-16 14:17:43.525 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:17:43.535 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:17:43.546 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:17:43.556 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:17:43.560 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:17:43.570 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:17:43.577 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:17:43.587 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:17:43.595 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:17:43.603 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:17:43.609 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:17:43.612 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 49.0173ms.
2018-07-16 14:17:43.616 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:17:43.621 +07:00 [Information] Executed ViewResult - view "Edit" executed in 5.0895ms.
2018-07-16 14:17:43.628 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 86.7883ms
2018-07-16 14:17:43.642 +07:00 [Information] Request finished in 116.8732ms 200 text/html; charset=utf-8
2018-07-16 14:20:09.827 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:20:09.839 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:20:09.846 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:20:09.863 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:20:09.869 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:20:09.883 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:20:09.891 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:20:09.900 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:20:09.907 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:20:09.916 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:20:09.923 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:20:09.927 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 54.4713ms.
2018-07-16 14:20:09.930 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:20:09.935 +07:00 [Information] Executed ViewResult - view "Edit" executed in 4.9072ms.
2018-07-16 14:20:09.944 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 96.4766ms
2018-07-16 14:20:09.956 +07:00 [Information] Request finished in 129.4534ms 200 text/html; charset=utf-8
2018-07-16 14:21:19.782 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:21:19.789 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:21:19.793 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:21:19.800 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:21:19.805 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:21:19.815 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:21:19.825 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:21:19.833 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:21:19.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:21:19.849 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:21:19.857 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:21:19.860 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 52.2568ms.
2018-07-16 14:21:19.864 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:21:19.871 +07:00 [Information] Executed ViewResult - view "Edit" executed in 4.7833ms.
2018-07-16 14:21:19.875 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 82.4799ms
2018-07-16 14:21:19.888 +07:00 [Information] Request finished in 98.0108ms 200 text/html; charset=utf-8
2018-07-16 14:24:43.777 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:24:44.297 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:24:44.812 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:24:44.993 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:24:45.157 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:24:45.239 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:24:45.400 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:24:45.469 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:24:45.501 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:24:45.516 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:24:45.520 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:24:45.526 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 365.3615ms.
2018-07-16 14:24:46.987 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:24:47.144 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1604.1619ms.
2018-07-16 14:24:47.146 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 2848.78ms
2018-07-16 14:24:47.180 +07:00 [Information] Request finished in 3407.9157ms 200 text/html; charset=utf-8
2018-07-16 14:41:28.914 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 14:41:28.923 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 14:41:28.961 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 14:41:29.009 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 14:41:29.029 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 14:41:29.030 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 14:41:29.030 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 14:41:29.030 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 14:41:29.040 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.042 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.042 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.045 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.045 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.045 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.047 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.047 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.048 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.048 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.048 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.049 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.049 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.049 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.049 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.050 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.050 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.050 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 14:41:29.072 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 14:41:29.124 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.165 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.169 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.173 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.177 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.181 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.185 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.189 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.192 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.197 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.201 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.204 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.208 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 14:41:29.225 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 14:41:29.257 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 14:41:29.260 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 14:41:29.268 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 14:41:29.273 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 14:41:29.279 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:41:29.283 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:41:29.288 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 14:41:29.292 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 14:41:29.292 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.6462ms.
2018-07-16 14:41:29.292 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 14:41:29.297 +07:00 [Information] Executed ViewResult - view "Edit" executed in 5.1384ms.
2018-07-16 14:41:29.298 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 39.2343ms
2018-07-16 14:41:29.298 +07:00 [Information] Request finished in 386.7534ms 200 text/html; charset=utf-8
2018-07-16 14:41:29.319 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 14:41:29.321 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 14:41:29.322 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 14:41:29.322 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 14:41:29.324 +07:00 [Information] Request finished in 6.5204ms 304 text/css
2018-07-16 14:41:29.324 +07:00 [Information] Request finished in 3.3613ms 304 application/javascript
2018-07-16 15:02:00.795 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 15:02:00.797 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:02:00.830 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:02:00.835 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 15:02:00.839 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 15:02:00.847 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:02:00.848 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:02:00.854 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:02:00.859 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:02:00.864 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:02:00.868 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:02:00.873 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:02:00.877 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:02:00.877 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.1155ms.
2018-07-16 15:02:01.294 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:02:01.318 +07:00 [Information] Executed ViewResult - view "Edit" executed in 441.0705ms.
2018-07-16 15:02:01.318 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 471.416ms
2018-07-16 15:02:01.318 +07:00 [Information] Request finished in 523.4264ms 200 text/html; charset=utf-8
2018-07-16 15:02:01.552 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 15:02:01.553 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:02:01.553 +07:00 [Information] Request finished in 2.1962ms 304 text/css
2018-07-16 15:02:01.610 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 15:02:01.612 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 15:02:01.613 +07:00 [Information] The file "/Content/Admin/js/script.js" was not modified
2018-07-16 15:02:01.613 +07:00 [Information] Request finished in 0.5897ms 304 application/javascript
2018-07-16 15:02:01.626 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 15:02:01.627 +07:00 [Information] Request finished in 16.6171ms 200 application/javascript
2018-07-16 15:02:03.077 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 15:02:03.103 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 15:02:03.103 +07:00 [Information] Request finished in 25.7599ms 200 image/x-icon
2018-07-16 15:06:01.252 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 15:06:01.259 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:06:01.260 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:06:01.265 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:06:01.266 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:06:01.271 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:06:01.277 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:06:01.282 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:06:01.285 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:06:01.290 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:06:01.294 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:06:01.294 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.2126ms.
2018-07-16 15:06:01.611 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:06:01.634 +07:00 [Information] Executed ViewResult - view "Edit" executed in 339.9779ms.
2018-07-16 15:06:01.634 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 374.8955ms
2018-07-16 15:06:01.635 +07:00 [Information] Request finished in 382.8815ms 200 text/html; charset=utf-8
2018-07-16 15:06:02.306 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 15:06:02.307 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 15:06:02.308 +07:00 [Information] Request finished in 1.4168ms 200 image/x-icon
2018-07-16 15:06:11.138 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 15:06:11.158 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:06:11.160 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:06:11.170 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:06:11.171 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:06:11.178 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:06:11.191 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:06:11.198 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:06:11.202 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:06:11.207 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:06:11.211 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:06:11.212 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 40.618ms.
2018-07-16 15:06:11.450 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:06:11.472 +07:00 [Information] Executed ViewResult - view "Edit" executed in 260.4699ms.
2018-07-16 15:06:11.472 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 313.7934ms
2018-07-16 15:06:11.473 +07:00 [Information] Request finished in 334.1514ms 200 text/html; charset=utf-8
2018-07-16 15:06:12.082 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 15:06:12.083 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 15:06:12.083 +07:00 [Information] Request finished in 1.6526ms 200 image/x-icon
2018-07-16 15:06:32.489 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 15:06:32.497 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:06:32.497 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:06:32.503 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:06:32.504 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:06:32.509 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:06:32.516 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:06:32.523 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:06:32.527 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:06:32.533 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:06:32.537 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:06:32.538 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.0002ms.
2018-07-16 15:06:32.770 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:06:32.792 +07:00 [Information] Executed ViewResult - view "Edit" executed in 253.761ms.
2018-07-16 15:06:32.792 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 294.912ms
2018-07-16 15:06:32.792 +07:00 [Information] Request finished in 302.7808ms 200 text/html; charset=utf-8
2018-07-16 15:06:33.379 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 15:06:33.380 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 15:06:33.381 +07:00 [Information] Request finished in 2.0848ms 200 image/x-icon
2018-07-16 15:08:17.256 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:08:17.267 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:08:17.268 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:08:17.282 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:08:17.284 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:08:17.298 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:08:17.306 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:08:17.314 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:08:17.322 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:08:17.329 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:08:17.333 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:08:17.333 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 49.1712ms.
2018-07-16 15:08:17.552 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:08:17.573 +07:00 [Information] Executed ViewResult - view "Edit" executed in 239.5764ms.
2018-07-16 15:08:17.573 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 305.1605ms
2018-07-16 15:08:17.573 +07:00 [Information] Request finished in 316.7239ms 200 text/html; charset=utf-8
2018-07-16 15:08:17.591 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 15:08:17.591 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 15:08:17.592 +07:00 [Information] Request finished in 0.8712ms 304 application/javascript
2018-07-16 15:08:17.593 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=FCN23hYexXJF_q-frKUXS1pab5XFoDZ4o2dKw2KKcKw  
2018-07-16 15:08:17.594 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:08:17.594 +07:00 [Information] Request finished in 1.0336ms 304 text/css
2018-07-16 15:08:33.675 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:08:33.683 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:08:33.684 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:08:33.690 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:08:33.692 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:08:33.697 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:08:33.706 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:08:33.713 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:08:33.717 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:08:33.722 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:08:33.727 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:08:33.727 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.7688ms.
2018-07-16 15:08:33.947 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:08:33.966 +07:00 [Information] Executed ViewResult - view "Edit" executed in 238.8555ms.
2018-07-16 15:08:33.967 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 283.2789ms
2018-07-16 15:08:33.967 +07:00 [Information] Request finished in 291.8013ms 200 text/html; charset=utf-8
2018-07-16 15:14:54.032 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:14:54.033 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:14:54.099 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:14:54.111 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 15:14:54.123 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 15:14:54.127 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.131 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.134 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.138 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.142 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.146 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.150 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.153 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.157 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.161 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.165 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.169 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.176 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:14:54.181 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 15:14:54.188 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:14:54.188 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:14:54.193 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:14:54.198 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:14:54.203 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:14:54.208 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:14:54.213 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:14:54.216 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:14:54.217 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.1523ms.
2018-07-16 15:14:54.433 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:14:54.456 +07:00 [Information] Executed ViewResult - view "Edit" executed in 239.0434ms.
2018-07-16 15:14:54.456 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 267.8464ms
2018-07-16 15:14:54.456 +07:00 [Information] Request finished in 424.7035ms 200 text/html; charset=utf-8
2018-07-16 15:15:17.373 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:15:17.385 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:15:17.386 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:15:17.392 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:15:17.395 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:15:17.401 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:15:17.407 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:15:17.413 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:15:17.417 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:15:17.422 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:15:17.426 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:15:17.426 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.3711ms.
2018-07-16 15:15:17.646 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:15:17.667 +07:00 [Information] Executed ViewResult - view "Edit" executed in 240.4235ms.
2018-07-16 15:15:17.667 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 281.6616ms
2018-07-16 15:15:17.667 +07:00 [Information] Request finished in 295.1348ms 200 text/html; charset=utf-8
2018-07-16 15:15:36.622 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:15:36.631 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:15:36.632 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:15:36.642 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:15:36.643 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:15:36.649 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:15:36.654 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:15:36.660 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:15:36.664 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:15:36.669 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:15:36.675 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:15:36.675 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.4822ms.
2018-07-16 15:15:36.942 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:15:36.963 +07:00 [Information] Executed ViewResult - view "Edit" executed in 288.0803ms.
2018-07-16 15:15:36.964 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 332.1758ms
2018-07-16 15:15:36.964 +07:00 [Information] Request finished in 342.3724ms 200 text/html; charset=utf-8
2018-07-16 15:16:13.781 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:16:13.793 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:16:13.794 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:16:13.799 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:16:13.800 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:16:13.806 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:16:13.812 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:16:13.818 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:16:13.822 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:16:13.827 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:16:13.831 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:16:13.831 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.2066ms.
2018-07-16 15:16:14.076 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:16:14.096 +07:00 [Information] Executed ViewResult - view "Edit" executed in 264.4023ms.
2018-07-16 15:16:14.096 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 302.9326ms
2018-07-16 15:16:14.096 +07:00 [Information] Request finished in 315.2449ms 200 text/html; charset=utf-8
2018-07-16 15:16:56.092 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:16:56.099 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:16:56.100 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:16:56.105 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:16:56.107 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:16:56.112 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:16:56.117 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:16:56.122 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:16:56.127 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:16:56.131 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:16:56.135 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:16:56.136 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.8693ms.
2018-07-16 15:16:56.446 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:16:56.469 +07:00 [Information] Executed ViewResult - view "Edit" executed in 333.5669ms.
2018-07-16 15:16:56.470 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 370.3775ms
2018-07-16 15:16:56.470 +07:00 [Information] Request finished in 378.597ms 200 text/html; charset=utf-8
2018-07-16 15:17:29.094 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:17:29.096 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:17:29.096 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:17:29.101 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:17:29.101 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:17:29.107 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:17:29.112 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:17:29.117 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:17:29.121 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:17:29.127 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:17:29.130 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:17:29.130 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.007ms.
2018-07-16 15:17:29.131 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:17:29.132 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5148ms.
2018-07-16 15:17:29.132 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 36.347ms
2018-07-16 15:17:29.132 +07:00 [Information] Request finished in 38.5796ms 200 text/html; charset=utf-8
2018-07-16 15:17:38.365 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:17:38.373 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:17:38.375 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:17:38.380 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:17:38.380 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:17:38.386 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:17:38.390 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:17:38.395 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:17:38.399 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:17:38.404 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:17:38.408 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:17:38.408 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 27.6102ms.
2018-07-16 15:17:38.674 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:17:38.694 +07:00 [Information] Executed ViewResult - view "Edit" executed in 285.8005ms.
2018-07-16 15:17:38.694 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 320.3292ms
2018-07-16 15:17:38.694 +07:00 [Information] Request finished in 329.4729ms 200 text/html; charset=utf-8
2018-07-16 15:18:09.816 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:18:09.823 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:18:09.824 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:18:09.829 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:18:09.830 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:18:09.835 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:18:09.840 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:18:09.845 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:18:09.850 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:18:09.855 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:18:09.858 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:18:09.858 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.3842ms.
2018-07-16 15:18:10.072 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:18:10.093 +07:00 [Information] Executed ViewResult - view "Edit" executed in 234.576ms.
2018-07-16 15:18:10.093 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 270.0845ms
2018-07-16 15:18:10.094 +07:00 [Information] Request finished in 278.0757ms 200 text/html; charset=utf-8
2018-07-16 15:19:18.634 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:19:18.652 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:19:18.653 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:19:18.659 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:19:18.660 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:19:18.666 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:19:18.671 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:19:18.676 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:19:18.681 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:19:18.686 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:19:18.689 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:19:18.690 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.9845ms.
2018-07-16 15:19:18.915 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:19:18.937 +07:00 [Information] Executed ViewResult - view "Edit" executed in 247.3274ms.
2018-07-16 15:19:18.937 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 284.8033ms
2018-07-16 15:19:18.937 +07:00 [Information] Request finished in 303.965ms 200 text/html; charset=utf-8
2018-07-16 15:19:35.199 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:19:35.200 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:19:35.200 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:19:35.206 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:19:35.206 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:19:35.215 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:19:35.232 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:19:35.237 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:19:35.243 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:19:35.248 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:19:35.252 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:19:35.253 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 46.1478ms.
2018-07-16 15:19:35.253 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:19:35.262 +07:00 [Information] Executed ViewResult - view "Edit" executed in 9.609ms.
2018-07-16 15:19:35.262 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 62.4536ms
2018-07-16 15:19:35.263 +07:00 [Information] Request finished in 64.0242ms 200 text/html; charset=utf-8
2018-07-16 15:19:35.282 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=CnumfmDKNiLy8CEJ0GRFsCeN7tLbeCk5WHDhh0nlYCo  
2018-07-16 15:19:35.286 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 15:19:35.286 +07:00 [Information] Request finished in 5.1225ms 200 text/css
2018-07-16 15:19:48.929 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:19:48.930 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:19:48.931 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:19:48.936 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:19:48.937 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:19:48.942 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:19:48.962 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:19:48.968 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:19:48.973 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:19:48.979 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:19:48.982 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:19:48.983 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 45.9024ms.
2018-07-16 15:19:48.983 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:19:48.992 +07:00 [Information] Executed ViewResult - view "Edit" executed in 9.6334ms.
2018-07-16 15:19:48.992 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 61.9905ms
2018-07-16 15:19:48.993 +07:00 [Information] Request finished in 63.3793ms 200 text/html; charset=utf-8
2018-07-16 15:19:49.010 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=jDaj9oA8-_YMGQCDCk9krwqrAcMcTEXN6pHIJ-j_AoM  
2018-07-16 15:19:49.014 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 15:19:49.014 +07:00 [Information] Request finished in 3.6643ms 200 text/css
2018-07-16 15:22:36.887 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:22:36.889 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:22:36.889 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:22:36.898 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:22:36.899 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:22:36.905 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:22:36.914 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:22:36.920 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:22:36.925 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:22:36.934 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:22:36.943 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:22:36.943 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 43.7501ms.
2018-07-16 15:22:36.943 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:22:36.951 +07:00 [Information] Executed ViewResult - view "Edit" executed in 7.2733ms.
2018-07-16 15:22:36.951 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 61.9001ms
2018-07-16 15:22:36.951 +07:00 [Information] Request finished in 63.8335ms 200 text/html; charset=utf-8
2018-07-16 15:22:36.974 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:22:36.979 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 15:22:36.979 +07:00 [Information] Request finished in 6.0684ms 200 text/css
2018-07-16 15:23:03.614 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:23:03.629 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:23:03.631 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:23:03.646 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:23:03.647 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:23:03.662 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:23:03.686 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:23:03.706 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:23:03.723 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:23:03.744 +07:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:23:03.764 +07:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:23:03.764 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 116.9255ms.
2018-07-16 15:23:03.987 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:23:04.009 +07:00 [Information] Executed ViewResult - view "Edit" executed in 245.2045ms.
2018-07-16 15:23:04.009 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 379.9013ms
2018-07-16 15:23:04.010 +07:00 [Information] Request finished in 395.7108ms 200 text/html; charset=utf-8
2018-07-16 15:23:04.027 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:23:04.028 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:23:04.029 +07:00 [Information] Request finished in 1.3348ms 304 text/css
2018-07-16 15:23:20.098 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:23:20.110 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:23:20.111 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:23:20.118 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:23:20.119 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:23:20.127 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:23:20.132 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:23:20.138 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:23:20.142 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:23:20.149 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:23:20.156 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:23:20.156 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 37.2817ms.
2018-07-16 15:23:20.383 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:23:20.403 +07:00 [Information] Executed ViewResult - view "Edit" executed in 246.3268ms.
2018-07-16 15:23:20.403 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 292.9329ms
2018-07-16 15:23:20.403 +07:00 [Information] Request finished in 305.8284ms 200 text/html; charset=utf-8
2018-07-16 15:23:20.420 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:23:20.421 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:23:20.421 +07:00 [Information] Request finished in 1.0817ms 304 text/css
2018-07-16 15:23:29.383 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:23:29.395 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:23:29.396 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:23:29.402 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:23:29.404 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:23:29.411 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:23:29.415 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:23:29.424 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:23:29.432 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:23:29.440 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:23:29.448 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:23:29.448 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 44.1165ms.
2018-07-16 15:23:29.672 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:23:29.767 +07:00 [Information] Executed ViewResult - view "Edit" executed in 319.3949ms.
2018-07-16 15:23:29.768 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 372.4286ms
2018-07-16 15:23:29.768 +07:00 [Information] Request finished in 385.0443ms 200 text/html; charset=utf-8
2018-07-16 15:23:29.786 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:23:29.787 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:23:29.787 +07:00 [Information] Request finished in 0.9616ms 304 text/css
2018-07-16 15:24:16.847 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:24:16.858 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:24:16.859 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:24:16.868 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:24:16.870 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:24:16.875 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:24:16.880 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:24:16.886 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:24:16.890 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:24:16.895 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:24:16.899 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:24:16.899 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.3887ms.
2018-07-16 15:24:17.118 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:24:17.141 +07:00 [Information] Executed ViewResult - view "Edit" executed in 242.2969ms.
2018-07-16 15:24:17.142 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 283.0499ms
2018-07-16 15:24:17.142 +07:00 [Information] Request finished in 295.0622ms 200 text/html; charset=utf-8
2018-07-16 15:24:17.167 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:24:17.168 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:24:17.168 +07:00 [Information] Request finished in 0.8673ms 304 text/css
2018-07-16 15:24:24.139 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:24:24.156 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:24:24.156 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:24:24.166 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:24:24.166 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:24:24.174 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:24:24.182 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:24:24.188 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:24:24.192 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:24:24.197 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:24:24.201 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:24:24.201 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.0605ms.
2018-07-16 15:24:24.427 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:24:24.452 +07:00 [Information] Executed ViewResult - view "Edit" executed in 250.6789ms.
2018-07-16 15:24:24.452 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 296.6492ms
2018-07-16 15:24:24.453 +07:00 [Information] Request finished in 313.9962ms 200 text/html; charset=utf-8
2018-07-16 15:24:29.628 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:24:29.640 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:24:29.641 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:24:29.646 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:24:29.647 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:24:29.653 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:24:29.658 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:24:29.663 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:24:29.669 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:24:29.674 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:24:29.678 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:24:29.678 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.3222ms.
2018-07-16 15:24:29.901 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:24:29.921 +07:00 [Information] Executed ViewResult - view "Edit" executed in 242.3847ms.
2018-07-16 15:24:29.921 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 280.5064ms
2018-07-16 15:24:29.921 +07:00 [Information] Request finished in 293.5604ms 200 text/html; charset=utf-8
2018-07-16 15:24:29.939 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:24:29.941 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:24:29.942 +07:00 [Information] Request finished in 2.964ms 304 text/css
2018-07-16 15:26:39.842 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:26:39.843 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:26:39.843 +07:00 [Information] Request finished in 1.6368ms 304 text/css
2018-07-16 15:27:03.490 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:27:03.493 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:27:03.493 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:27:03.499 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:27:03.499 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:27:03.505 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:27:03.510 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:27:03.515 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:27:03.519 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:27:03.525 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:27:03.529 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:27:03.529 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.2318ms.
2018-07-16 15:27:03.789 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:27:03.809 +07:00 [Information] Executed ViewResult - view "Edit" executed in 280.6427ms.
2018-07-16 15:27:03.810 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 316.6213ms
2018-07-16 15:27:03.810 +07:00 [Information] Request finished in 319.4799ms 200 text/html; charset=utf-8
2018-07-16 15:27:03.829 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:27:03.830 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:27:03.830 +07:00 [Information] Request finished in 0.9845ms 304 text/css
2018-07-16 15:27:22.581 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:27:22.591 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:27:22.592 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:27:22.597 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:27:22.598 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:27:22.604 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:27:22.609 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:27:22.615 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:27:22.619 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:27:22.624 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:27:22.628 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:27:22.628 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.0169ms.
2018-07-16 15:27:22.854 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:27:22.878 +07:00 [Information] Executed ViewResult - view "Edit" executed in 250.2011ms.
2018-07-16 15:27:22.878 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 287.5971ms
2018-07-16 15:27:22.879 +07:00 [Information] Request finished in 297.9308ms 200 text/html; charset=utf-8
2018-07-16 15:27:22.902 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 15:27:22.906 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 15:27:22.907 +07:00 [Information] Request finished in 4.7016ms 304 application/javascript
2018-07-16 15:27:36.694 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:27:36.701 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:27:36.701 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:27:36.709 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:27:36.709 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:27:36.714 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:27:36.719 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:27:36.724 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:27:36.728 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:27:36.733 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:27:36.737 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:27:36.737 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 27.7361ms.
2018-07-16 15:27:36.966 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:27:36.989 +07:00 [Information] Executed ViewResult - view "Edit" executed in 252.2268ms.
2018-07-16 15:27:36.990 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 288.916ms
2018-07-16 15:27:36.990 +07:00 [Information] Request finished in 295.3528ms 200 text/html; charset=utf-8
2018-07-16 15:27:37.014 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:27:37.015 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:27:37.015 +07:00 [Information] Request finished in 1.0615ms 304 text/css
2018-07-16 15:28:43.532 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:28:43.541 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:28:43.542 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:28:43.557 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:28:43.557 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:28:43.574 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:28:43.591 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:28:43.609 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:28:43.619 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:28:43.624 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:28:43.627 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:28:43.628 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 70.1755ms.
2018-07-16 15:28:43.848 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:28:43.868 +07:00 [Information] Executed ViewResult - view "Edit" executed in 240.2105ms.
2018-07-16 15:28:43.868 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 326.8134ms
2018-07-16 15:28:43.869 +07:00 [Information] Request finished in 336.9437ms 200 text/html; charset=utf-8
2018-07-16 15:28:43.893 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:28:43.894 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:28:43.894 +07:00 [Information] Request finished in 0.685ms 304 text/css
2018-07-16 15:28:58.112 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:28:58.121 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:28:58.122 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:28:58.127 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:28:58.128 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:28:58.133 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:28:58.136 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:28:58.141 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:28:58.144 +07:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:28:58.149 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:28:58.153 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:28:58.153 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 25.4537ms.
2018-07-16 15:28:58.464 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:28:58.485 +07:00 [Information] Executed ViewResult - view "Edit" executed in 331.529ms.
2018-07-16 15:28:58.485 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 364.0022ms
2018-07-16 15:28:58.486 +07:00 [Information] Request finished in 373.6467ms 200 text/html; charset=utf-8
2018-07-16 15:33:02.141 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:33:02.144 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:33:02.144 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:33:02.186 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:33:02.187 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:33:02.193 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:33:02.198 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:33:02.204 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:33:02.207 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:33:02.212 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:33:02.217 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:33:02.218 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.6049ms.
2018-07-16 15:33:02.218 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:33:02.219 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.6849ms.
2018-07-16 15:33:02.220 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 75.8353ms
2018-07-16 15:33:02.220 +07:00 [Information] Request finished in 78.9448ms 200 text/html; charset=utf-8
2018-07-16 15:33:02.247 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:33:02.247 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:33:02.247 +07:00 [Information] Request finished in 0.6042ms 304 text/css
2018-07-16 15:36:26.388 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:36:26.405 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:36:26.406 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:36:26.415 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:36:26.417 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:36:26.424 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:36:26.430 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:36:26.439 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:36:26.443 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:36:26.448 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:36:26.452 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:36:26.452 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.376ms.
2018-07-16 15:36:26.691 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:36:26.713 +07:00 [Information] Executed ViewResult - view "Edit" executed in 260.8742ms.
2018-07-16 15:36:26.714 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 309.0576ms
2018-07-16 15:36:26.714 +07:00 [Information] Request finished in 325.8642ms 200 text/html; charset=utf-8
2018-07-16 15:36:26.736 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:36:26.737 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:36:26.737 +07:00 [Information] Request finished in 0.6736ms 304 text/css
2018-07-16 15:36:34.600 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:36:34.602 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:36:34.602 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:36:34.612 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:36:34.615 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:36:34.621 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:36:34.628 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:36:34.636 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:36:34.640 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:36:34.649 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:36:34.653 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:36:34.653 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 38.1985ms.
2018-07-16 15:36:34.653 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:36:34.655 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.586ms.
2018-07-16 15:36:34.655 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 53.3407ms
2018-07-16 15:36:34.655 +07:00 [Information] Request finished in 55.3634ms 200 text/html; charset=utf-8
2018-07-16 15:36:37.667 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99  
2018-07-16 15:36:37.669 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:36:37.674 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:36:37.683 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 15:36:37.691 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 15:36:37.692 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:36:37.693 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:36:37.700 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:36:37.711 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:36:37.718 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:36:37.723 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:36:37.728 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:36:37.733 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:36:37.733 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 39.4231ms.
2018-07-16 15:36:37.733 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:36:37.735 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5537ms.
2018-07-16 15:36:37.735 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.1236ms
2018-07-16 15:36:37.735 +07:00 [Information] Request finished in 67.9096ms 200 text/html; charset=utf-8
2018-07-16 15:36:37.767 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:36:37.771 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 15:36:37.771 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 15:36:37.771 +07:00 [Information] Request finished in 0.6135ms 304 application/javascript
2018-07-16 15:36:37.774 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 15:36:37.775 +07:00 [Information] Request finished in 7.5546ms 200 text/css
2018-07-16 15:36:38.414 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 15:36:38.414 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 15:36:38.415 +07:00 [Information] Request finished in 1.0223ms 200 image/x-icon
2018-07-16 15:37:20.689 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:37:20.699 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:37:20.700 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:37:20.707 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:37:20.708 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:37:20.715 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:37:20.721 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:37:20.727 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:37:20.732 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:37:20.737 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:37:20.741 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:37:20.742 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.4007ms.
2018-07-16 15:37:20.996 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:37:21.021 +07:00 [Information] Executed ViewResult - view "Edit" executed in 279.2172ms.
2018-07-16 15:37:21.022 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 323.0311ms
2018-07-16 15:37:21.022 +07:00 [Information] Request finished in 332.957ms 200 text/html; charset=utf-8
2018-07-16 15:50:06.079 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:50:06.081 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:50:06.124 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:50:06.129 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 15:50:06.136 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 15:50:06.140 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.144 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.147 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.152 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.156 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.160 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.163 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.167 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.171 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.174 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.178 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.181 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.185 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 15:50:06.189 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 15:50:06.196 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:50:06.196 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:50:06.202 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:50:06.207 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:50:06.213 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:50:06.216 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:50:06.221 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:50:06.225 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:50:06.225 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.9196ms.
2018-07-16 15:50:06.541 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:50:06.562 +07:00 [Information] Executed ViewResult - view "Edit" executed in 336.3682ms.
2018-07-16 15:50:06.562 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 365.971ms
2018-07-16 15:50:06.562 +07:00 [Information] Request finished in 483.1785ms 200 text/html; charset=utf-8
2018-07-16 15:50:06.580 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:50:06.580 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:50:06.581 +07:00 [Information] Request finished in 0.8936ms 304 text/css
2018-07-16 15:50:06.583 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 15:50:06.584 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 15:50:06.584 +07:00 [Information] Request finished in 1.346ms 304 application/javascript
2018-07-16 15:50:31.581 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:50:31.589 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:50:31.590 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:50:31.597 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:50:31.597 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:50:31.603 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:50:31.608 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:50:31.614 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:50:31.618 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:50:31.623 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:50:31.627 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:50:31.627 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.9901ms.
2018-07-16 15:50:31.883 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:50:31.903 +07:00 [Information] Executed ViewResult - view "Edit" executed in 275.4184ms.
2018-07-16 15:50:31.903 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 314.0832ms
2018-07-16 15:50:31.903 +07:00 [Information] Request finished in 322.3932ms 200 text/html; charset=utf-8
2018-07-16 15:50:57.904 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:50:57.913 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:50:57.915 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:50:57.923 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:50:57.923 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:50:57.929 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:50:57.937 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:50:57.942 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:50:57.947 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:50:57.952 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:50:57.957 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:50:57.957 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.9667ms.
2018-07-16 15:50:58.195 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:50:58.226 +07:00 [Information] Executed ViewResult - view "Edit" executed in 268.4166ms.
2018-07-16 15:50:58.226 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 311.9454ms
2018-07-16 15:50:58.227 +07:00 [Information] Request finished in 323.0537ms 200 text/html; charset=utf-8
2018-07-16 15:51:11.758 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:51:11.767 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:51:11.768 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:51:11.773 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:51:11.774 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:51:11.779 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:51:11.784 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:51:11.790 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:51:11.794 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:51:11.799 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:51:11.803 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:51:11.804 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.49ms.
2018-07-16 15:51:12.037 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:51:12.058 +07:00 [Information] Executed ViewResult - view "Edit" executed in 254.2746ms.
2018-07-16 15:51:12.058 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 290.6256ms
2018-07-16 15:51:12.058 +07:00 [Information] Request finished in 300.1985ms 200 text/html; charset=utf-8
2018-07-16 15:53:35.896 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=XQSYKdnvhZjTnK-UgNGA_Me6ZFFbxBnIU7Wdb9jURZ4  
2018-07-16 15:53:35.897 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:53:35.901 +07:00 [Information] Request finished in 5.4351ms 304 text/css
2018-07-16 15:54:04.621 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:54:04.623 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:54:04.623 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:54:04.636 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:54:04.639 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:54:04.644 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:54:04.650 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:54:04.655 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:54:04.661 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:54:04.666 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:54:04.670 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:54:04.670 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.4932ms.
2018-07-16 15:54:04.670 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:54:04.680 +07:00 [Information] Executed ViewResult - view "Edit" executed in 9.2342ms.
2018-07-16 15:54:04.680 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 57.1374ms
2018-07-16 15:54:04.680 +07:00 [Information] Request finished in 59.4537ms 200 text/html; charset=utf-8
2018-07-16 15:54:04.697 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=CwRNLpxbd3eOp0sSWG3oXzttI30lpmAe_L8oRWq1tXw  
2018-07-16 15:54:04.705 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 15:54:04.705 +07:00 [Information] Request finished in 9.2212ms 200 text/css
2018-07-16 15:54:26.631 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:54:26.633 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:54:26.633 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:54:26.643 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:54:26.645 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:54:26.653 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:54:26.660 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:54:26.668 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:54:26.676 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:54:26.683 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:54:26.687 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:54:26.687 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.1475ms.
2018-07-16 15:54:26.687 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:54:26.696 +07:00 [Information] Executed ViewResult - view "Edit" executed in 8.4467ms.
2018-07-16 15:54:26.696 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 62.8051ms
2018-07-16 15:54:26.696 +07:00 [Information] Request finished in 65.8466ms 200 text/html; charset=utf-8
2018-07-16 15:54:26.712 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=NsBRvmUwMcnJmcewNAIbXlXYZ-papaA1MYzOX-Aao_k  
2018-07-16 15:54:26.716 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 15:54:26.717 +07:00 [Information] Request finished in 4.4321ms 200 text/css
2018-07-16 15:54:30.131 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=NsBRvmUwMcnJmcewNAIbXlXYZ-papaA1MYzOX-Aao_k  
2018-07-16 15:54:30.131 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:54:30.132 +07:00 [Information] Request finished in 0.9564ms 304 text/css
2018-07-16 15:56:21.765 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:56:21.767 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:56:21.767 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:56:21.775 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:56:21.777 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:56:21.782 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:56:21.790 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:56:21.799 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:56:21.803 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:56:21.809 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:56:21.813 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:56:21.813 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.086ms.
2018-07-16 15:56:21.813 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:56:21.815 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.7227ms.
2018-07-16 15:56:21.815 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 48.338ms
2018-07-16 15:56:21.815 +07:00 [Information] Request finished in 50.4156ms 200 text/html; charset=utf-8
2018-07-16 15:56:21.836 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=NsBRvmUwMcnJmcewNAIbXlXYZ-papaA1MYzOX-Aao_k  
2018-07-16 15:56:21.837 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:56:21.837 +07:00 [Information] Request finished in 1.6664ms 304 text/css
2018-07-16 15:56:50.449 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:56:50.457 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:56:50.458 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:56:50.465 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:56:50.466 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:56:50.473 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:56:50.479 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:56:50.485 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:56:50.489 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:56:50.495 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:56:50.499 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:56:50.499 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.4225ms.
2018-07-16 15:56:50.737 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:56:50.760 +07:00 [Information] Executed ViewResult - view "Edit" executed in 261.1093ms.
2018-07-16 15:56:50.761 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 302.9591ms
2018-07-16 15:56:50.761 +07:00 [Information] Request finished in 312.1224ms 200 text/html; charset=utf-8
2018-07-16 15:56:50.781 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=NsBRvmUwMcnJmcewNAIbXlXYZ-papaA1MYzOX-Aao_k  
2018-07-16 15:56:50.783 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:56:50.784 +07:00 [Information] Request finished in 3.2252ms 304 text/css
2018-07-16 15:56:58.574 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:56:58.582 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:56:58.582 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:56:58.587 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:56:58.588 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:56:58.594 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:56:58.599 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:56:58.605 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:56:58.609 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:56:58.616 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:56:58.620 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:56:58.621 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.0586ms.
2018-07-16 15:56:58.898 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:56:58.921 +07:00 [Information] Executed ViewResult - view "Edit" executed in 300.0225ms.
2018-07-16 15:56:58.921 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 339.4983ms
2018-07-16 15:56:58.922 +07:00 [Information] Request finished in 347.139ms 200 text/html; charset=utf-8
2018-07-16 15:57:08.498 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=NsBRvmUwMcnJmcewNAIbXlXYZ-papaA1MYzOX-Aao_k  
2018-07-16 15:57:08.499 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:57:08.499 +07:00 [Information] Request finished in 1.3291ms 304 text/css
2018-07-16 15:57:26.156 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:57:26.164 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:57:26.164 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:57:26.171 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:57:26.172 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:57:26.177 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:57:26.182 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:57:26.190 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:57:26.194 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:57:26.198 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:57:26.202 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:57:26.202 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.6135ms.
2018-07-16 15:57:26.500 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:57:26.524 +07:00 [Information] Executed ViewResult - view "Edit" executed in 321.1959ms.
2018-07-16 15:57:26.524 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 359.8212ms
2018-07-16 15:57:26.524 +07:00 [Information] Request finished in 367.9781ms 200 text/html; charset=utf-8
2018-07-16 15:57:26.546 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=NsBRvmUwMcnJmcewNAIbXlXYZ-papaA1MYzOX-Aao_k  
2018-07-16 15:57:26.548 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:57:26.548 +07:00 [Information] Request finished in 2.0154ms 304 text/css
2018-07-16 15:58:25.888 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:58:25.903 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:58:25.903 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:58:25.910 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:58:25.912 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:58:25.917 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:58:25.923 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:58:25.931 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:58:25.934 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:58:25.939 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:58:25.943 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:58:25.943 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.949ms.
2018-07-16 15:58:26.187 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:58:26.212 +07:00 [Information] Executed ViewResult - view "Edit" executed in 268.8689ms.
2018-07-16 15:58:26.212 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 309.309ms
2018-07-16 15:58:26.212 +07:00 [Information] Request finished in 324.5512ms 200 text/html; charset=utf-8
2018-07-16 15:58:26.256 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=NsBRvmUwMcnJmcewNAIbXlXYZ-papaA1MYzOX-Aao_k  
2018-07-16 15:58:26.258 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 15:58:26.260 +07:00 [Information] Request finished in 3.5379ms 304 text/css
2018-07-16 15:59:11.577 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:59:11.590 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:59:11.590 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:59:11.595 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:59:11.597 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:59:11.602 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:59:11.607 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:59:11.613 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:59:11.618 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:59:11.623 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:59:11.627 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:59:11.627 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.8038ms.
2018-07-16 15:59:11.850 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:59:11.887 +07:00 [Information] Executed ViewResult - view "Edit" executed in 260.3793ms.
2018-07-16 15:59:11.888 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 297.7803ms
2018-07-16 15:59:11.888 +07:00 [Information] Request finished in 310.69ms 200 text/html; charset=utf-8
2018-07-16 15:59:11.911 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=ykRV4sULVJkD7LL9zoLT2Y9PKT0OH4rLun2q_YpG1uA  
2018-07-16 15:59:11.914 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 15:59:11.914 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 15:59:11.915 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 15:59:11.915 +07:00 [Information] Request finished in 4.4208ms 200 text/css
2018-07-16 15:59:11.919 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 15:59:11.919 +07:00 [Information] Request finished in 5.5901ms 200 application/javascript
2018-07-16 15:59:11.920 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 15:59:11.927 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 15:59:11.931 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 15:59:11.968 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 15:59:11.968 +07:00 [Information] Request finished in 37.9853ms 200 image/jpeg
2018-07-16 15:59:11.969 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 15:59:12.023 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 15:59:12.024 +07:00 [Information] Request finished in 54.7584ms 200 application/javascript
2018-07-16 15:59:12.083 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 15:59:12.083 +07:00 [Information] Request finished in 156.3697ms 200 application/javascript
2018-07-16 15:59:12.112 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 15:59:12.112 +07:00 [Information] Request finished in 197.9007ms 200 application/javascript
2018-07-16 15:59:12.116 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 15:59:12.116 +07:00 [Information] Request finished in 196.2207ms 200 application/javascript
2018-07-16 15:59:12.540 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 15:59:12.559 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 15:59:12.559 +07:00 [Information] Request finished in 19.9792ms 200 image/jpeg
2018-07-16 15:59:36.712 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:59:36.713 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:59:36.713 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:59:36.718 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:59:36.718 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:59:36.726 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:59:36.732 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:59:36.739 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:59:36.744 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:59:36.748 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:59:36.752 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:59:36.752 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.5726ms.
2018-07-16 15:59:36.752 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:59:36.760 +07:00 [Information] Executed ViewResult - view "Edit" executed in 7.4325ms.
2018-07-16 15:59:36.760 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 46.8238ms
2018-07-16 15:59:36.760 +07:00 [Information] Request finished in 48.2022ms 200 text/html; charset=utf-8
2018-07-16 15:59:36.786 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=48CQOM_64NVyyfiHJ0ZN5B_PAOSGumOyWqt-ibu5dmQ  
2018-07-16 15:59:36.789 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 15:59:36.790 +07:00 [Information] Request finished in 4.4179ms 200 text/css
2018-07-16 15:59:56.012 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 15:59:56.027 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 15:59:56.028 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 15:59:56.033 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 15:59:56.033 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 15:59:56.040 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 15:59:56.045 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 15:59:56.051 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:59:56.055 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:59:56.062 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 15:59:56.066 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 15:59:56.066 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.1546ms.
2018-07-16 15:59:56.299 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 15:59:56.328 +07:00 [Information] Executed ViewResult - view "Edit" executed in 261.6366ms.
2018-07-16 15:59:56.328 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 301.1745ms
2018-07-16 15:59:56.328 +07:00 [Information] Request finished in 318.1205ms 200 text/html; charset=utf-8
2018-07-16 15:59:56.359 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=m522tK9MQORhhlFF5op9hxcCnAnVTD9tT8g8nxdj_v0  
2018-07-16 15:59:56.364 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 15:59:56.364 +07:00 [Information] Request finished in 5.2714ms 200 text/css
2018-07-16 16:00:21.487 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:00:21.496 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:00:21.499 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:00:21.505 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:00:21.506 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:00:21.512 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:00:21.517 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:00:21.522 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:00:21.527 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:00:21.533 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:00:21.537 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:00:21.537 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.469ms.
2018-07-16 16:00:21.758 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:00:21.784 +07:00 [Information] Executed ViewResult - view "Edit" executed in 246.8041ms.
2018-07-16 16:00:21.785 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 287.9546ms
2018-07-16 16:00:21.785 +07:00 [Information] Request finished in 298.047ms 200 text/html; charset=utf-8
2018-07-16 16:00:21.831 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=m522tK9MQORhhlFF5op9hxcCnAnVTD9tT8g8nxdj_v0  
2018-07-16 16:00:21.832 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:00:21.832 +07:00 [Information] Request finished in 1.0918ms 304 text/css
2018-07-16 16:00:59.800 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:00:59.807 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:00:59.807 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:00:59.814 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:00:59.815 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:00:59.822 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:00:59.829 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:00:59.837 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:00:59.841 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:00:59.847 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:00:59.851 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:00:59.851 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.2012ms.
2018-07-16 16:01:00.076 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:01:00.104 +07:00 [Information] Executed ViewResult - view "Edit" executed in 252.7575ms.
2018-07-16 16:01:00.104 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 297.5858ms
2018-07-16 16:01:00.105 +07:00 [Information] Request finished in 304.6116ms 200 text/html; charset=utf-8
2018-07-16 16:01:00.134 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:01:00.140 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:01:00.141 +07:00 [Information] Request finished in 6.733ms 200 text/css
2018-07-16 16:03:47.336 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:03:47.343 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:03:47.344 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:03:47.350 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:03:47.351 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:03:47.356 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:03:47.363 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:03:47.371 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:03:47.377 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:03:47.386 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:03:47.398 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:03:47.398 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 46.6565ms.
2018-07-16 16:03:47.637 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:03:47.659 +07:00 [Information] Executed ViewResult - view "Edit" executed in 260.5967ms.
2018-07-16 16:03:47.659 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 315.6305ms
2018-07-16 16:03:47.659 +07:00 [Information] Request finished in 323.0316ms 200 text/html; charset=utf-8
2018-07-16 16:03:47.703 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:03:47.703 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:03:47.703 +07:00 [Information] Request finished in 0.6236ms 304 text/css
2018-07-16 16:04:49.947 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:04:49.948 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:04:49.949 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:04:49.954 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:04:49.955 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:04:49.961 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:04:49.976 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:04:49.984 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:04:49.989 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:04:49.994 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:04:49.998 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:04:49.999 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 43.7073ms.
2018-07-16 16:04:49.999 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:04:50.000 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4563ms.
2018-07-16 16:04:50.000 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 51.8208ms
2018-07-16 16:04:50.000 +07:00 [Information] Request finished in 53.7274ms 200 text/html; charset=utf-8
2018-07-16 16:04:50.057 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:04:50.060 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:04:50.060 +07:00 [Information] Request finished in 3.1165ms 200 text/css
2018-07-16 16:04:50.097 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:04:50.098 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:04:50.098 +07:00 [Information] Request finished in 1.8444ms 304 application/javascript
2018-07-16 16:04:51.061 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 16:04:51.062 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 16:04:51.062 +07:00 [Information] Request finished in 1.3242ms 200 image/x-icon
2018-07-16 16:05:10.193 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:05:10.205 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:05:10.206 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:05:10.213 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:05:10.218 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:05:10.280 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:05:10.291 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 72.7668ms.
2018-07-16 16:05:10.297 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:05:10.482 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 191.0988ms.
2018-07-16 16:05:10.482 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 277.2968ms
2018-07-16 16:05:10.482 +07:00 [Information] Request finished in 289.4801ms 200 text/html; charset=utf-8
2018-07-16 16:05:13.556 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail application/x-www-form-urlencoded; charset=UTF-8 268
2018-07-16 16:05:13.584 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)"
2018-07-16 16:05:13.584 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:05:13.590 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:05:13.634 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" with arguments (["TN.Domain.Model.SendEmailModel"]) - Validation state: Valid
2018-07-16 16:05:13.666 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__model_ConfirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__model_ConfirmationTripsId_0"
2018-07-16 16:05:13.675 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:05:13.680 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:05:13.684 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:05:13.688 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:05:13.692 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:05:13.903 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:05:14.184 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 549.7661ms.
2018-07-16 16:05:14.187 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:05:14.203 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmailPost (TN.UI)" in 618.8214ms
2018-07-16 16:05:14.203 +07:00 [Information] Request finished in 646.7903ms 200 application/json; charset=utf-8
2018-07-16 16:05:19.158 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:05:19.160 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:05:19.160 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:05:19.167 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:05:19.168 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:05:19.174 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:05:19.182 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:05:19.188 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:05:19.197 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:05:19.202 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:05:19.206 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:05:19.206 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 38.1807ms.
2018-07-16 16:05:19.206 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:05:19.208 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.9483ms.
2018-07-16 16:05:19.208 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 48.5165ms
2018-07-16 16:05:19.209 +07:00 [Information] Request finished in 50.8065ms 200 text/html; charset=utf-8
2018-07-16 16:05:19.233 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:05:19.234 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:05:19.234 +07:00 [Information] Request finished in 1.1904ms 304 text/css
2018-07-16 16:08:44.030 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:08:44.033 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:08:44.033 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:08:44.061 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:08:44.063 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:08:44.068 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:08:44.073 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:08:44.078 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:08:44.082 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:08:44.087 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:08:44.091 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:08:44.091 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.5392ms.
2018-07-16 16:08:44.091 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:08:44.093 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.545ms.
2018-07-16 16:08:44.093 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 60.271ms
2018-07-16 16:08:44.093 +07:00 [Information] Request finished in 62.7587ms 200 text/html; charset=utf-8
2018-07-16 16:08:44.112 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:08:44.114 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:08:44.114 +07:00 [Information] Request finished in 1.976ms 304 text/css
2018-07-16 16:08:46.833 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:08:46.834 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:08:46.835 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:08:46.841 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:08:46.842 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:08:46.847 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:08:46.848 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.028ms.
2018-07-16 16:08:46.848 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:08:46.849 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1.3611ms.
2018-07-16 16:08:46.849 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 14.9454ms
2018-07-16 16:08:46.849 +07:00 [Information] Request finished in 16.2123ms 200 text/html; charset=utf-8
2018-07-16 16:08:58.436 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:08:58.443 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:08:58.445 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:08:58.450 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:08:58.452 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:08:58.481 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:08:58.506 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:08:58.512 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:08:58.517 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:08:58.522 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:08:58.526 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:08:58.535 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:08:58.556 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 104.1917ms.
2018-07-16 16:08:58.556 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:08:58.557 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 113.5552ms
2018-07-16 16:08:58.557 +07:00 [Information] Request finished in 120.7893ms 200 application/json; charset=utf-8
2018-07-16 16:09:03.358 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:09:03.360 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:09:03.361 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:09:03.368 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:09:03.369 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:09:03.374 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:09:03.379 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:09:03.385 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:09:03.389 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:09:03.395 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:09:03.400 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:09:03.400 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.9606ms.
2018-07-16 16:09:03.400 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:09:03.402 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4479ms.
2018-07-16 16:09:03.402 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 41.6395ms
2018-07-16 16:09:03.402 +07:00 [Information] Request finished in 43.7676ms 200 text/html; charset=utf-8
2018-07-16 16:12:50.378 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:12:50.386 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:12:50.388 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:12:50.394 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:12:50.397 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:12:50.403 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:12:50.409 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:12:50.416 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:12:50.420 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:12:50.425 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:12:50.429 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:12:50.429 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.5063ms.
2018-07-16 16:12:50.706 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:12:50.720 +07:00 [Information] Executed ViewResult - view "Edit" executed in 290.2932ms.
2018-07-16 16:12:50.720 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 333.2656ms
2018-07-16 16:12:50.720 +07:00 [Information] Request finished in 342.3353ms 200 text/html; charset=utf-8
2018-07-16 16:12:50.738 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:12:50.739 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:12:50.739 +07:00 [Information] Request finished in 0.9919ms 304 text/css
2018-07-16 16:15:42.931 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:15:43.466 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:15:43.984 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:15:44.183 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:15:44.343 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:15:44.440 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:15:44.608 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:15:44.679 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:15:44.712 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:15:44.728 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:15:44.733 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:15:44.738 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 391.4962ms.
2018-07-16 16:15:44.757 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:15:45.076 +07:00 [Information] Executed ViewResult - view "Edit" executed in 324.2703ms.
2018-07-16 16:15:45.078 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1610.9508ms
2018-07-16 16:15:45.109 +07:00 [Information] Request finished in 2183.0252ms 200 text/html; charset=utf-8
2018-07-16 16:15:45.111 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:15:45.134 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:15:45.134 +07:00 [Information] Request finished in 23.4726ms 200 text/css
2018-07-16 16:15:49.948 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:15:49.949 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:15:49.952 +07:00 [Information] Request finished in 3.9482ms 304 text/css
2018-07-16 16:15:52.360 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:15:52.376 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:15:52.381 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:15:52.395 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:15:52.399 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:15:52.478 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:15:52.483 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 83.2842ms.
2018-07-16 16:15:52.546 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:15:52.647 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 163.5653ms.
2018-07-16 16:15:52.647 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 270.7447ms
2018-07-16 16:15:52.647 +07:00 [Information] Request finished in 287.7531ms 200 text/html; charset=utf-8
2018-07-16 16:16:34.120 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:16:34.127 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:16:34.128 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:16:34.134 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:16:34.135 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:16:34.140 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:16:34.145 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:16:34.153 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:16:34.157 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:16:34.162 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:16:34.166 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:16:34.166 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.8598ms.
2018-07-16 16:16:36.086 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:16:36.103 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1937.0511ms.
2018-07-16 16:16:36.103 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1975.2ms
2018-07-16 16:16:36.103 +07:00 [Information] Request finished in 1983.4806ms 200 text/html; charset=utf-8
2018-07-16 16:16:36.119 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:16:36.121 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:16:36.121 +07:00 [Information] Request finished in 2.4479ms 304 text/css
2018-07-16 16:16:50.791 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:16:50.803 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:16:50.804 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:16:50.809 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:16:50.810 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:16:50.815 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:16:50.820 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:16:50.826 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:16:50.830 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:16:50.835 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:16:50.838 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:16:50.838 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.4215ms.
2018-07-16 16:16:50.840 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:16:50.843 +07:00 [Information] Executed ViewResult - view "Edit" executed in 4.9515ms.
2018-07-16 16:16:50.843 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 40.0876ms
2018-07-16 16:16:50.844 +07:00 [Information] Request finished in 52.6608ms 200 text/html; charset=utf-8
2018-07-16 16:16:50.862 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:16:50.863 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:16:50.863 +07:00 [Information] Request finished in 0.804ms 304 text/css
2018-07-16 16:17:04.783 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:17:04.793 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:17:04.793 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:17:04.798 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:17:04.799 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:17:04.804 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:17:04.809 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:17:04.814 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:17:04.818 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:17:04.823 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:17:04.827 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:17:04.827 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.0243ms.
2018-07-16 16:17:04.827 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:17:05.147 +07:00 [Information] Executed ViewResult - view "Edit" executed in 320.2539ms.
2018-07-16 16:17:05.147 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 354.3042ms
2018-07-16 16:17:05.148 +07:00 [Information] Request finished in 364.8489ms 200 text/html; charset=utf-8
2018-07-16 16:17:05.165 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:17:05.165 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:17:05.166 +07:00 [Information] Request finished in 0.6265ms 304 text/css
2018-07-16 16:17:34.885 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:17:34.891 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:17:34.892 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:17:34.898 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:17:34.899 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:17:34.904 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:17:34.912 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:17:34.917 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:17:34.921 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:17:34.928 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:17:34.932 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:17:34.932 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.2358ms.
2018-07-16 16:17:35.151 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:17:35.380 +07:00 [Information] Executed ViewResult - view "Edit" executed in 447.5888ms.
2018-07-16 16:17:35.380 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 488.6189ms
2018-07-16 16:17:35.381 +07:00 [Information] Request finished in 496.0741ms 200 text/html; charset=utf-8
2018-07-16 16:17:35.396 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:17:35.397 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:17:35.397 +07:00 [Information] Request finished in 1.4569ms 304 text/css
2018-07-16 16:17:37.579 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:17:37.587 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:17:37.587 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:17:37.593 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:17:37.594 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:17:37.599 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:17:37.600 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.1649ms.
2018-07-16 16:17:37.600 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:17:37.602 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1.6117ms.
2018-07-16 16:17:37.602 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 15.1865ms
2018-07-16 16:17:37.603 +07:00 [Information] Request finished in 23.8111ms 200 text/html; charset=utf-8
2018-07-16 16:17:38.957 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:17:38.958 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:17:38.959 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:17:38.965 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:17:38.965 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:17:38.971 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:17:38.975 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:17:38.981 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:17:38.984 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:17:38.990 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:17:38.995 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:17:38.995 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.6924ms.
2018-07-16 16:17:38.995 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:17:38.997 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5616ms.
2018-07-16 16:17:38.997 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 38.0875ms
2018-07-16 16:17:38.997 +07:00 [Information] Request finished in 39.8769ms 200 text/html; charset=utf-8
2018-07-16 16:18:08.954 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:18:08.964 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:18:08.964 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:18:08.971 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:18:08.971 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:18:08.980 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:18:08.987 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:18:08.996 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:09.004 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:09.009 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:09.014 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:09.014 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.2336ms.
2018-07-16 16:18:09.014 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:18:09.220 +07:00 [Information] Executed ViewResult - view "Edit" executed in 206.0188ms.
2018-07-16 16:18:09.220 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 255.9706ms
2018-07-16 16:18:09.220 +07:00 [Information] Request finished in 266.6204ms 200 text/html; charset=utf-8
2018-07-16 16:18:09.237 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:18:09.238 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:18:09.238 +07:00 [Information] Request finished in 1.1901ms 304 text/css
2018-07-16 16:18:10.202 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:18:10.210 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:18:10.210 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:18:10.218 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:18:10.219 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:18:10.225 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:18:10.226 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.42ms.
2018-07-16 16:18:10.226 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:18:10.227 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 0.8435ms.
2018-07-16 16:18:10.227 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 16.9727ms
2018-07-16 16:18:10.227 +07:00 [Information] Request finished in 25.6011ms 200 text/html; charset=utf-8
2018-07-16 16:18:11.502 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:18:11.505 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:18:11.505 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:18:11.510 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:18:11.511 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:18:11.518 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:18:11.526 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:18:11.531 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:11.539 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:11.547 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:11.551 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:11.551 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 40.5191ms.
2018-07-16 16:18:11.551 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:18:11.553 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3565ms.
2018-07-16 16:18:11.553 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 47.9508ms
2018-07-16 16:18:11.553 +07:00 [Information] Request finished in 50.9408ms 200 text/html; charset=utf-8
2018-07-16 16:18:14.526 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:18:14.528 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:18:14.529 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:18:14.541 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:18:14.542 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:18:14.552 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:18:14.560 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:18:14.566 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:14.571 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:14.575 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:14.580 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:14.580 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 38.1232ms.
2018-07-16 16:18:14.580 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:18:14.583 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.2282ms.
2018-07-16 16:18:14.583 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 54.6316ms
2018-07-16 16:18:14.583 +07:00 [Information] Request finished in 56.9112ms 200 text/html; charset=utf-8
2018-07-16 16:18:16.538 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:18:16.540 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:18:16.541 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:18:16.549 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:18:16.550 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:18:16.559 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:18:16.559 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 9.0206ms.
2018-07-16 16:18:16.559 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:18:16.560 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 0.98ms.
2018-07-16 16:18:16.560 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 19.8987ms
2018-07-16 16:18:16.561 +07:00 [Information] Request finished in 23.9572ms 200 text/html; charset=utf-8
2018-07-16 16:18:17.726 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:18:17.728 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:18:17.728 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:18:17.733 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:18:17.734 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:18:17.738 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:18:17.743 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:18:17.748 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:17.753 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:17.758 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:17.765 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:17.765 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.4376ms.
2018-07-16 16:18:17.765 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:18:17.767 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.375ms.
2018-07-16 16:18:17.767 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 38.6331ms
2018-07-16 16:18:17.767 +07:00 [Information] Request finished in 40.3714ms 200 text/html; charset=utf-8
2018-07-16 16:18:52.995 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:18:53.005 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:18:53.006 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:18:53.016 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:18:53.017 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:18:53.022 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:18:53.030 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:18:53.039 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:53.045 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:53.054 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:18:53.057 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:18:53.058 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 40.9091ms.
2018-07-16 16:18:53.283 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:18:53.506 +07:00 [Information] Executed ViewResult - view "Edit" executed in 448.057ms.
2018-07-16 16:18:53.506 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 501.0264ms
2018-07-16 16:18:53.506 +07:00 [Information] Request finished in 511.6085ms 200 text/html; charset=utf-8
2018-07-16 16:18:53.539 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:18:53.539 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:18:53.539 +07:00 [Information] Request finished in 1.046ms 304 text/css
2018-07-16 16:19:12.294 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:19:12.308 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:19:12.309 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:19:12.314 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:19:12.316 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:19:12.326 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:19:12.337 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:19:12.347 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:19:12.354 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:19:12.362 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:19:12.371 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:19:12.372 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 54.8791ms.
2018-07-16 16:19:12.726 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:19:13.008 +07:00 [Information] Executed ViewResult - view "Edit" executed in 635.6972ms.
2018-07-16 16:19:13.008 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 699.3926ms
2018-07-16 16:19:13.008 +07:00 [Information] Request finished in 714.0205ms 200 text/html; charset=utf-8
2018-07-16 16:19:13.026 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:19:13.031 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 16:19:13.031 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:19:13.031 +07:00 [Information] Request finished in 5.4622ms 200 text/css
2018-07-16 16:19:13.032 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 16:19:13.032 +07:00 [Information] Request finished in 1.6041ms 200 application/javascript
2018-07-16 16:19:13.032 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 16:19:13.033 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 16:19:13.033 +07:00 [Information] Request finished in 0.9002ms 200 application/javascript
2018-07-16 16:19:13.038 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:19:13.041 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 16:19:13.042 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 16:19:13.042 +07:00 [Information] Request finished in 1.0162ms 200 application/javascript
2018-07-16 16:19:13.042 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 16:19:13.043 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 16:19:13.043 +07:00 [Information] Request finished in 0.5352ms 200 image/jpeg
2018-07-16 16:19:13.049 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 16:19:13.052 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 16:19:13.053 +07:00 [Information] Request finished in 3.2883ms 200 application/javascript
2018-07-16 16:19:13.112 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 16:19:13.113 +07:00 [Information] Request finished in 74.3542ms 200 application/javascript
2018-07-16 16:19:13.608 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 16:19:13.609 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 16:19:13.609 +07:00 [Information] Request finished in 1.1354ms 200 image/jpeg
2018-07-16 16:19:28.089 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:19:28.099 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:19:28.099 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:19:28.111 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:19:28.111 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:19:28.121 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:19:28.128 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:19:28.136 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:19:28.140 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:19:28.145 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:19:28.153 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:19:28.153 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 41.9019ms.
2018-07-16 16:19:28.352 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:19:28.585 +07:00 [Information] Executed ViewResult - view "Edit" executed in 431.8774ms.
2018-07-16 16:19:28.586 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 486.5167ms
2018-07-16 16:19:28.586 +07:00 [Information] Request finished in 496.6268ms 200 text/html; charset=utf-8
2018-07-16 16:19:30.186 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:19:30.196 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:19:30.197 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:19:30.202 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:19:30.203 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:19:30.208 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:19:30.209 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 5.5964ms.
2018-07-16 16:19:30.209 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:19:30.210 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 0.8715ms.
2018-07-16 16:19:30.210 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 13.7051ms
2018-07-16 16:19:30.210 +07:00 [Information] Request finished in 23.6496ms 200 text/html; charset=utf-8
2018-07-16 16:20:02.997 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:20:03.006 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:20:03.006 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:20:03.017 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:20:03.017 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:20:03.025 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:20:03.032 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:20:03.045 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:20:03.051 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:20:03.057 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:20:03.061 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:20:03.061 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 43.5015ms.
2018-07-16 16:20:03.298 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:20:03.523 +07:00 [Information] Executed ViewResult - view "Edit" executed in 461.7594ms.
2018-07-16 16:20:03.523 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 517.2676ms
2018-07-16 16:20:03.523 +07:00 [Information] Request finished in 528.6178ms 200 text/html; charset=utf-8
2018-07-16 16:20:03.541 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:20:03.541 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:20:03.542 +07:00 [Information] Request finished in 1.3252ms 304 text/css
2018-07-16 16:20:03.543 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:20:03.544 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:20:03.545 +07:00 [Information] Request finished in 1.763ms 304 application/javascript
2018-07-16 16:20:42.609 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:20:42.612 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:20:42.618 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:20:42.658 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 16:20:42.698 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:20:42.698 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:20:42.699 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:20:42.699 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:20:42.708 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.710 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.710 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.713 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.713 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.713 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.715 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.715 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.716 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.716 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.716 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.716 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.717 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.717 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.717 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.718 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.718 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.718 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:20:42.738 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 16:20:42.798 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.841 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.845 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.851 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.855 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.858 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.861 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.865 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.868 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.872 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.876 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.880 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.884 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:20:42.901 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 16:20:42.944 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:20:42.947 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:20:42.955 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:20:42.960 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:20:42.966 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:20:42.971 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:20:42.976 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:20:42.980 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:20:42.980 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.8504ms.
2018-07-16 16:20:43.188 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:20:43.206 +07:00 [Information] Executed ViewResult - view "Edit" executed in 225.5082ms.
2018-07-16 16:20:43.206 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 261.6722ms
2018-07-16 16:20:43.207 +07:00 [Information] Request finished in 597.4028ms 200 text/html; charset=utf-8
2018-07-16 16:20:43.226 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:20:43.226 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:20:43.227 +07:00 [Information] Request finished in 1.2872ms 304 text/css
2018-07-16 16:20:43.227 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:20:43.227 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:20:43.227 +07:00 [Information] Request finished in 0.5156ms 304 application/javascript
2018-07-16 16:21:18.090 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:21:18.097 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:21:18.097 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:21:18.108 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:21:18.109 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:21:18.115 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:21:18.124 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:21:18.132 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:21:18.137 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:21:18.146 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:21:18.150 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:21:18.150 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 41.2488ms.
2018-07-16 16:21:18.358 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:21:18.376 +07:00 [Information] Executed ViewResult - view "Edit" executed in 225.2586ms.
2018-07-16 16:21:18.376 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 278.7926ms
2018-07-16 16:21:18.376 +07:00 [Information] Request finished in 286.414ms 200 text/html; charset=utf-8
2018-07-16 16:21:18.398 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:21:18.399 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:21:18.399 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:21:18.399 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:21:18.399 +07:00 [Information] Request finished in 1.78ms 304 text/css
2018-07-16 16:21:18.399 +07:00 [Information] Request finished in 1.6783ms 304 application/javascript
2018-07-16 16:21:30.304 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:21:30.311 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:21:30.311 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:21:30.320 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:21:30.321 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:21:30.328 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:21:30.334 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:21:30.341 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:21:30.350 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:21:30.358 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:21:30.362 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:21:30.363 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.0379ms.
2018-07-16 16:21:30.570 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:21:30.590 +07:00 [Information] Executed ViewResult - view "Edit" executed in 226.7986ms.
2018-07-16 16:21:30.590 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 278.7687ms
2018-07-16 16:21:30.590 +07:00 [Information] Request finished in 285.9288ms 200 text/html; charset=utf-8
2018-07-16 16:21:30.806 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:21:30.816 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:21:30.817 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:21:30.826 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:21:30.827 +07:00 [Information] Authorization failed for the request at filter '"TN.UI.Extensions.PermissionFilter"'.
2018-07-16 16:21:30.833 +07:00 [Information] Executing ForbidResult with authentication schemes ([]).
2018-07-16 16:21:30.853 +07:00 [Information] AuthenticationScheme: "Identity.Application" was forbidden.
2018-07-16 16:21:30.853 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 36.3774ms
2018-07-16 16:21:30.853 +07:00 [Information] Request finished in 47.6555ms 403 
2018-07-16 16:21:59.226 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:21:59.234 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:21:59.323 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:21:59.330 +07:00 [Information] Request finished in 95.3649ms 304 text/css
2018-07-16 16:21:59.810 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:22:00.362 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:22:00.560 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:22:00.715 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:22:00.826 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:22:01.029 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:22:01.130 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:22:01.175 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:22:01.197 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:22:01.206 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:22:01.213 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 493.7042ms.
2018-07-16 16:22:01.232 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:22:01.396 +07:00 [Information] Executed ViewResult - view "Edit" executed in 168.9419ms.
2018-07-16 16:22:01.398 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1587.3665ms
2018-07-16 16:22:01.434 +07:00 [Information] Request finished in 2214.4477ms 200 text/html; charset=utf-8
2018-07-16 16:22:01.460 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:22:01.460 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:22:01.467 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 16:22:01.469 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 16:22:01.470 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 16:22:01.471 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 16:22:01.471 +07:00 [Information] Request finished in 2.0449ms 200 application/javascript
2018-07-16 16:22:01.472 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 16:22:01.472 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 16:22:01.473 +07:00 [Information] Request finished in 5.851ms 200 application/javascript
2018-07-16 16:22:01.473 +07:00 [Information] Request finished in 2.917ms 200 application/javascript
2018-07-16 16:22:01.473 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 16:22:01.473 +07:00 [Information] Request finished in 12.9511ms 200 application/javascript
2018-07-16 16:22:01.473 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 16:22:01.474 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 16:22:01.474 +07:00 [Information] Request finished in 0.7608ms 200 application/javascript
2018-07-16 16:22:01.479 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:22:01.479 +07:00 [Information] Request finished in 19.7261ms 200 text/css
2018-07-16 16:22:01.505 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 16:22:01.506 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 16:22:01.506 +07:00 [Information] Request finished in 1.0808ms 200 image/jpeg
2018-07-16 16:22:01.931 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 16:22:01.932 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 16:22:01.932 +07:00 [Information] Request finished in 0.9202ms 200 image/jpeg
2018-07-16 16:22:01.983 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:22:01.992 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:22:01.993 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:22:02.311 +07:00 [Information] Executed DbCommand ("315"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:22:02.313 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:22:02.325 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:22:02.326 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.7584ms.
2018-07-16 16:22:02.327 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:22:02.328 +07:00 [Information] Executed ViewResult - view "Details" executed in 1.31ms.
2018-07-16 16:22:02.328 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 335.3805ms
2018-07-16 16:22:02.328 +07:00 [Information] Request finished in 345.4395ms 200 text/html; charset=utf-8
2018-07-16 16:22:22.808 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:22:23.336 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:22:23.839 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:22:24.023 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:22:24.173 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:22:24.255 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:22:24.427 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:22:24.506 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:22:24.545 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:22:24.562 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:22:24.570 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:22:24.576 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 399.2173ms.
2018-07-16 16:22:24.595 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:22:24.766 +07:00 [Information] Executed ViewResult - view "Edit" executed in 176.5865ms.
2018-07-16 16:22:24.768 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1431.5977ms
2018-07-16 16:22:24.799 +07:00 [Information] Request finished in 1996.4194ms 200 text/html; charset=utf-8
2018-07-16 16:22:24.991 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:22:25.001 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:22:25.002 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:22:25.025 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:22:25.028 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:22:25.042 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:22:25.043 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.9573ms.
2018-07-16 16:22:25.044 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:22:25.045 +07:00 [Information] Executed ViewResult - view "Details" executed in 2.1375ms.
2018-07-16 16:22:25.045 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 43.8169ms
2018-07-16 16:22:25.046 +07:00 [Information] Request finished in 55.311ms 200 text/html; charset=utf-8
2018-07-16 16:22:29.396 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:22:29.411 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:22:29.411 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:22:29.417 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:22:29.421 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:22:29.458 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:22:29.462 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 41.2436ms.
2018-07-16 16:22:29.464 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:22:29.513 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 50.9556ms.
2018-07-16 16:22:29.513 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 102.3295ms
2018-07-16 16:22:29.514 +07:00 [Information] Request finished in 117.4017ms 200 text/html; charset=utf-8
2018-07-16 16:22:30.684 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:22:30.685 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:22:30.686 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:22:30.713 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:22:30.714 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:22:30.719 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:22:30.725 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:22:30.732 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:22:30.738 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:22:30.743 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:22:30.747 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:22:30.747 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.3565ms.
2018-07-16 16:22:30.747 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:22:30.749 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.0638ms.
2018-07-16 16:22:30.750 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 64.0057ms
2018-07-16 16:22:30.750 +07:00 [Information] Request finished in 65.42ms 200 text/html; charset=utf-8
2018-07-16 16:25:02.881 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:25:02.890 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:25:02.891 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:25:02.905 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:25:02.906 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:25:02.913 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:25:02.918 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:25:02.925 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:25:02.929 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:25:02.936 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:25:02.940 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:25:02.940 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.179ms.
2018-07-16 16:25:04.433 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:25:04.448 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1507.8203ms.
2018-07-16 16:25:04.448 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1557.8463ms
2018-07-16 16:25:04.449 +07:00 [Information] Request finished in 1568.0615ms 200 text/html; charset=utf-8
2018-07-16 16:25:04.466 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:25:04.468 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:25:04.490 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 16:25:04.490 +07:00 [Information] Request finished in 22.1669ms 200 application/javascript
2018-07-16 16:25:04.494 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:25:04.494 +07:00 [Information] Request finished in 28.1281ms 200 text/css
2018-07-16 16:25:07.611 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:25:07.617 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:25:07.618 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:25:07.623 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:25:07.624 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:25:07.630 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:25:07.631 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.9357ms.
2018-07-16 16:25:07.631 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:25:07.633 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1.5864ms.
2018-07-16 16:25:07.633 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 15.7621ms
2018-07-16 16:25:07.633 +07:00 [Information] Request finished in 22.4922ms 200 text/html; charset=utf-8
2018-07-16 16:25:34.786 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:25:34.787 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:25:34.788 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:25:34.794 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:25:34.794 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:25:34.799 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:25:34.802 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 7.665ms.
2018-07-16 16:25:34.802 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:25:34.803 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1.0599ms.
2018-07-16 16:25:34.803 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 15.8991ms
2018-07-16 16:25:34.804 +07:00 [Information] Request finished in 17.5548ms 200 text/html; charset=utf-8
2018-07-16 16:26:01.377 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:26:01.392 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:26:01.393 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:26:01.397 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:26:01.398 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:26:01.403 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:26:01.408 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:26:01.414 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:26:01.417 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:26:01.422 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:26:01.426 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:26:01.426 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 27.7195ms.
2018-07-16 16:26:01.717 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:26:01.734 +07:00 [Information] Executed ViewResult - view "Edit" executed in 308.1964ms.
2018-07-16 16:26:01.735 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 343.083ms
2018-07-16 16:26:01.735 +07:00 [Information] Request finished in 358.2421ms 200 text/html; charset=utf-8
2018-07-16 16:26:01.767 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:26:01.768 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:26:01.769 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:26:01.770 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:26:01.770 +07:00 [Information] Request finished in 3.2028ms 304 text/css
2018-07-16 16:26:01.770 +07:00 [Information] Request finished in 0.6999ms 304 application/javascript
2018-07-16 16:26:01.885 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:26:01.891 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:26:01.893 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:26:01.898 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:26:01.899 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:26:01.905 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:26:01.906 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.9133ms.
2018-07-16 16:26:01.906 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:26:01.907 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.8761ms.
2018-07-16 16:26:01.907 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 15.9093ms
2018-07-16 16:26:01.907 +07:00 [Information] Request finished in 22.5522ms 200 text/html; charset=utf-8
2018-07-16 16:26:03.347 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:26:03.355 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:26:03.355 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:26:03.360 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:26:03.361 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:26:03.367 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:26:03.368 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.5492ms.
2018-07-16 16:26:03.368 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:26:03.369 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1.1719ms.
2018-07-16 16:26:03.369 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 14.5494ms
2018-07-16 16:26:03.369 +07:00 [Information] Request finished in 22.2166ms 200 text/html; charset=utf-8
2018-07-16 16:26:03.372 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:26:03.373 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:26:03.374 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:26:03.378 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:26:03.379 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:26:03.385 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:26:03.387 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 7.552ms.
2018-07-16 16:26:03.387 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:26:03.388 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 1.047ms.
2018-07-16 16:26:03.388 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 14.4678ms
2018-07-16 16:26:03.388 +07:00 [Information] Request finished in 15.8237ms 200 text/html; charset=utf-8
2018-07-16 16:27:23.916 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:27:23.923 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:27:23.923 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:27:23.929 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:27:23.929 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:27:23.935 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:27:23.939 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:27:23.945 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:27:23.950 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:27:23.954 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:27:23.958 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:27:23.958 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.6398ms.
2018-07-16 16:27:24.160 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:27:24.178 +07:00 [Information] Executed ViewResult - view "Edit" executed in 219.7365ms.
2018-07-16 16:27:24.178 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 255.3002ms
2018-07-16 16:27:24.179 +07:00 [Information] Request finished in 262.2973ms 200 text/html; charset=utf-8
2018-07-16 16:27:24.201 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:27:24.202 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:27:24.203 +07:00 [Information] Request finished in 1.7347ms 304 text/css
2018-07-16 16:27:24.203 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:27:24.204 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:27:24.204 +07:00 [Information] Request finished in 0.7053ms 304 application/javascript
2018-07-16 16:27:26.401 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:27:26.409 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:27:26.410 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:27:26.416 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:27:26.422 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:27:26.443 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:27:26.457 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:27:26.462 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:27:26.465 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:27:26.471 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:27:26.475 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:27:26.568 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:27:26.602 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 179.7675ms.
2018-07-16 16:27:26.606 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:27:26.623 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 213.8749ms
2018-07-16 16:27:26.623 +07:00 [Information] Request finished in 222.2364ms 200 application/json; charset=utf-8
2018-07-16 16:27:26.630 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:27:26.637 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:27:26.638 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:27:26.643 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:27:26.644 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:27:26.649 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:27:26.649 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 5.5437ms.
2018-07-16 16:27:26.649 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:27:26.650 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.3473ms.
2018-07-16 16:27:26.650 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 12.5643ms
2018-07-16 16:27:26.650 +07:00 [Information] Request finished in 20.1267ms 200 text/html; charset=utf-8
2018-07-16 16:27:58.642 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:27:58.644 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:27:58.645 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:27:58.651 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:27:58.652 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:27:58.658 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:27:58.666 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:27:58.673 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:27:58.679 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:27:58.684 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:27:58.688 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:27:58.688 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36.1376ms.
2018-07-16 16:27:58.688 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:27:58.690 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.635ms.
2018-07-16 16:27:58.690 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 46.2799ms
2018-07-16 16:27:58.690 +07:00 [Information] Request finished in 48.2704ms 200 text/html; charset=utf-8
2018-07-16 16:27:58.759 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:27:58.761 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:27:58.761 +07:00 [Information] Request finished in 1.5182ms 304 text/css
2018-07-16 16:27:58.761 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:27:58.761 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:27:58.761 +07:00 [Information] Request finished in 0.5224ms 304 application/javascript
2018-07-16 16:28:02.300 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:28:02.302 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:28:02.302 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:28:02.307 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:28:02.308 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:28:02.315 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:28:02.322 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:28:02.328 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:28:02.333 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:28:02.339 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:28:02.342 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:28:02.342 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.2476ms.
2018-07-16 16:28:02.343 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:28:02.344 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.6192ms.
2018-07-16 16:28:02.344 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.39ms
2018-07-16 16:28:02.344 +07:00 [Information] Request finished in 44.626ms 200 text/html; charset=utf-8
2018-07-16 16:28:02.380 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 16:28:02.380 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:28:02.381 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 16:28:02.381 +07:00 [Information] Request finished in 1.4853ms 200 application/javascript
2018-07-16 16:28:02.382 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:28:02.385 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 16:28:02.386 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 16:28:02.386 +07:00 [Information] Request finished in 1.5563ms 200 application/javascript
2018-07-16 16:28:02.387 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:28:02.387 +07:00 [Information] Request finished in 6.9193ms 200 text/css
2018-07-16 16:28:02.400 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 16:28:02.400 +07:00 [Information] Request finished in 17.953ms 200 application/javascript
2018-07-16 16:28:02.400 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 16:28:02.401 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 16:28:02.401 +07:00 [Information] Request finished in 0.5782ms 200 image/jpeg
2018-07-16 16:28:02.411 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 16:28:02.411 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 16:28:02.411 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 16:28:02.412 +07:00 [Information] Request finished in 1.0871ms 200 application/javascript
2018-07-16 16:28:02.412 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 16:28:02.412 +07:00 [Information] Request finished in 0.6323ms 200 application/javascript
2018-07-16 16:28:03.006 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 16:28:03.007 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 16:28:03.007 +07:00 [Information] Request finished in 1.2416ms 200 image/jpeg
2018-07-16 16:28:05.831 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:28:05.833 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:28:05.834 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:28:05.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:28:05.843 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:28:05.848 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:28:05.853 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:28:05.859 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:28:05.864 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:28:05.868 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:28:05.872 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:28:05.881 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:28:05.888 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 45.0041ms.
2018-07-16 16:28:05.888 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:28:05.888 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 55.0934ms
2018-07-16 16:28:05.889 +07:00 [Information] Request finished in 57.3273ms 200 application/json; charset=utf-8
2018-07-16 16:28:05.899 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:28:05.901 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:28:05.901 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:28:05.910 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:28:05.911 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:28:05.917 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:28:05.918 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.5606ms.
2018-07-16 16:28:05.918 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:28:05.919 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.7942ms.
2018-07-16 16:28:05.919 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 18.5224ms
2018-07-16 16:28:05.920 +07:00 [Information] Request finished in 20.1735ms 200 text/html; charset=utf-8
2018-07-16 16:28:26.840 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:28:26.858 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:28:26.859 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:28:26.869 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:28:26.870 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:28:26.875 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:28:26.884 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:28:26.890 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:28:26.896 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:28:26.904 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:28:26.908 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:28:26.908 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 37.9368ms.
2018-07-16 16:28:27.142 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:28:27.167 +07:00 [Information] Executed ViewResult - view "Edit" executed in 258.7428ms.
2018-07-16 16:28:27.167 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 308.5737ms
2018-07-16 16:28:27.167 +07:00 [Information] Request finished in 327.3732ms 200 text/html; charset=utf-8
2018-07-16 16:28:29.091 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:28:29.101 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:28:29.101 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:28:29.113 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:28:29.114 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:28:29.123 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:28:29.132 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:28:29.142 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:28:29.149 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:28:29.155 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:28:29.158 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:28:29.166 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:28:29.172 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 57.6759ms.
2018-07-16 16:28:29.172 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:28:29.172 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 71.3224ms
2018-07-16 16:28:29.172 +07:00 [Information] Request finished in 81.6103ms 200 application/json; charset=utf-8
2018-07-16 16:29:09.605 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:29:09.620 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:29:09.621 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:29:09.629 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:29:09.630 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:29:09.636 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:29:09.642 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:29:09.649 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:29:09.654 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:29:09.658 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:29:09.664 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:29:09.664 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.9831ms.
2018-07-16 16:29:09.955 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:29:09.969 +07:00 [Information] Executed ViewResult - view "Edit" executed in 305.2182ms.
2018-07-16 16:29:09.970 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 349.3149ms
2018-07-16 16:29:09.970 +07:00 [Information] Request finished in 364.7766ms 200 text/html; charset=utf-8
2018-07-16 16:29:09.995 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:29:09.995 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:29:09.996 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:29:09.996 +07:00 [Information] Request finished in 1.0773ms 304 application/javascript
2018-07-16 16:29:09.996 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:29:09.996 +07:00 [Information] Request finished in 1.4783ms 304 text/css
2018-07-16 16:29:11.831 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:29:11.839 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:29:11.840 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:29:11.848 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:29:11.849 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:29:11.857 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:29:11.862 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:29:11.867 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:29:11.871 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:29:11.876 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:29:11.880 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:29:11.888 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:29:11.900 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 50.6274ms.
2018-07-16 16:29:11.900 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:29:11.900 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 61.0442ms
2018-07-16 16:29:11.900 +07:00 [Information] Request finished in 69.8042ms 200 application/json; charset=utf-8
2018-07-16 16:29:11.912 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:29:11.920 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:29:11.921 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:29:11.927 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:29:11.928 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:29:11.935 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:29:11.936 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 8.0715ms.
2018-07-16 16:29:11.936 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:29:11.938 +07:00 [Information] Executed ViewResult - view "Details" executed in 1.7052ms.
2018-07-16 16:29:11.938 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 18.1789ms
2018-07-16 16:29:11.938 +07:00 [Information] Request finished in 26.3978ms 200 text/html; charset=utf-8
2018-07-16 16:29:13.263 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:29:13.270 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:29:13.270 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:29:13.278 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:29:13.280 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:29:13.285 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:29:13.286 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.3706ms.
2018-07-16 16:29:13.286 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:29:13.287 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 0.9688ms.
2018-07-16 16:29:13.287 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 17.4239ms
2018-07-16 16:29:13.287 +07:00 [Information] Request finished in 26.5854ms 200 text/html; charset=utf-8
2018-07-16 16:29:13.300 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:29:13.301 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:29:13.301 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:29:13.307 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:29:13.308 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:29:13.317 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:29:13.317 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 9.2033ms.
2018-07-16 16:29:13.317 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:29:13.318 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 0.7688ms.
2018-07-16 16:29:13.318 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 17.0511ms
2018-07-16 16:29:13.318 +07:00 [Information] Request finished in 18.0516ms 200 text/html; charset=utf-8
2018-07-16 16:29:18.353 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:29:18.354 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:29:18.355 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:29:18.360 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:29:18.362 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:29:18.367 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:29:18.372 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:29:18.377 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:29:18.381 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:29:18.386 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:29:18.390 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:29:18.390 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 27.6658ms.
2018-07-16 16:29:18.390 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:29:18.391 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4162ms.
2018-07-16 16:29:18.392 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 36.8683ms
2018-07-16 16:29:18.392 +07:00 [Information] Request finished in 38.8587ms 200 text/html; charset=utf-8
2018-07-16 16:31:25.019 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:31:25.029 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:31:25.030 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:31:25.036 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:31:25.037 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:31:25.048 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:31:25.063 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:31:25.070 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:31:25.075 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:31:25.080 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:31:25.084 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:31:25.085 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 47.5581ms.
2018-07-16 16:31:25.085 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:31:25.389 +07:00 [Information] Executed ViewResult - view "Edit" executed in 303.7501ms.
2018-07-16 16:31:25.389 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 359.7031ms
2018-07-16 16:31:25.389 +07:00 [Information] Request finished in 370.8297ms 200 text/html; charset=utf-8
2018-07-16 16:31:25.408 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:31:25.409 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:31:25.409 +07:00 [Information] Request finished in 1.2472ms 304 application/javascript
2018-07-16 16:31:25.411 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=aRvSEdq9IABweeaD2Vta26ZQA_2_PXq44YHVyz7cNOk  
2018-07-16 16:31:25.411 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:31:25.411 +07:00 [Information] Request finished in 0.54ms 304 text/css
2018-07-16 16:33:09.110 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:33:09.121 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:33:09.121 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:33:09.129 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:33:09.130 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:33:09.138 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:33:09.145 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:33:09.153 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:33:09.162 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:33:09.168 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:33:09.171 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:33:09.172 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 41.5352ms.
2018-07-16 16:33:09.172 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:33:09.397 +07:00 [Information] Executed ViewResult - view "Edit" executed in 225.576ms.
2018-07-16 16:33:09.397 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 276.6163ms
2018-07-16 16:33:09.398 +07:00 [Information] Request finished in 287.4889ms 200 text/html; charset=utf-8
2018-07-16 16:33:09.419 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:33:09.420 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:33:09.421 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:33:09.421 +07:00 [Information] Request finished in 0.7022ms 304 application/javascript
2018-07-16 16:33:09.423 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:33:09.423 +07:00 [Information] Request finished in 5.212ms 200 text/css
2018-07-16 16:34:42.739 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:34:42.748 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:34:42.748 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:34:42.753 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:34:42.754 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:34:42.759 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:34:42.764 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:34:42.769 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:34:42.773 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:34:42.778 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:34:42.782 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:34:42.782 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.1327ms.
2018-07-16 16:34:42.782 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:34:42.988 +07:00 [Information] Executed ViewResult - view "Edit" executed in 206.1474ms.
2018-07-16 16:34:42.988 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 240.5377ms
2018-07-16 16:34:42.989 +07:00 [Information] Request finished in 249.6099ms 200 text/html; charset=utf-8
2018-07-16 16:34:43.014 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:34:43.015 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:34:43.015 +07:00 [Information] Request finished in 1.1546ms 304 text/css
2018-07-16 16:34:43.020 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:34:43.021 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:34:43.021 +07:00 [Information] Request finished in 1.0299ms 304 application/javascript
2018-07-16 16:35:02.866 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:35:02.872 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:35:02.873 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:35:02.879 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:35:02.881 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:35:02.887 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:35:02.891 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:35:02.900 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:35:02.904 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:35:02.910 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:35:02.914 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:35:02.914 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.1208ms.
2018-07-16 16:35:02.915 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:35:03.150 +07:00 [Information] Executed ViewResult - view "Edit" executed in 235.4282ms.
2018-07-16 16:35:03.150 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 277.7398ms
2018-07-16 16:35:03.150 +07:00 [Information] Request finished in 284.6542ms 200 text/html; charset=utf-8
2018-07-16 16:35:03.179 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:35:03.180 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:35:03.180 +07:00 [Information] Request finished in 0.9886ms 304 text/css
2018-07-16 16:35:31.412 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:35:31.423 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:35:31.423 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:35:31.432 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:35:31.433 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:35:31.438 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:35:31.444 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:35:31.456 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:35:31.460 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:35:31.465 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:35:31.470 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:35:31.470 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 37.057ms.
2018-07-16 16:35:31.470 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:35:31.666 +07:00 [Information] Executed ViewResult - view "Edit" executed in 196.4203ms.
2018-07-16 16:35:31.666 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 243.5724ms
2018-07-16 16:35:31.667 +07:00 [Information] Request finished in 254.9805ms 200 text/html; charset=utf-8
2018-07-16 16:35:31.697 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:35:31.697 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:35:31.698 +07:00 [Information] Request finished in 1.92ms 304 text/css
2018-07-16 16:35:47.624 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:35:47.632 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:35:47.633 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:35:47.648 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:35:47.649 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:35:47.661 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:35:47.675 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:35:47.688 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:35:47.692 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:35:47.697 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:35:47.701 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:35:47.701 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 52.5486ms.
2018-07-16 16:35:47.701 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:35:47.908 +07:00 [Information] Executed ViewResult - view "Edit" executed in 206.181ms.
2018-07-16 16:35:47.908 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 275.69ms
2018-07-16 16:35:47.908 +07:00 [Information] Request finished in 283.8478ms 200 text/html; charset=utf-8
2018-07-16 16:36:27.625 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:36:27.633 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:36:27.634 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:36:27.639 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:36:27.641 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:36:27.646 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:36:27.653 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:36:27.661 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:36:27.668 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:36:27.676 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:36:27.683 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:36:27.683 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.1847ms.
2018-07-16 16:36:27.683 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:36:28.005 +07:00 [Information] Executed ViewResult - view "Edit" executed in 321.0242ms.
2018-07-16 16:36:28.005 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 371.9015ms
2018-07-16 16:36:28.006 +07:00 [Information] Request finished in 380.4061ms 200 text/html; charset=utf-8
2018-07-16 16:36:28.023 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:36:28.023 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:36:28.024 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:36:28.024 +07:00 [Information] Request finished in 1.1904ms 304 text/css
2018-07-16 16:36:28.024 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:36:28.024 +07:00 [Information] Request finished in 1.1403ms 304 application/javascript
2018-07-16 16:36:41.473 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:36:41.481 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:36:41.481 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:36:41.490 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:36:41.490 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:36:41.499 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:36:41.508 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:36:41.517 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:36:41.521 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:36:41.530 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:36:41.534 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:36:41.534 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 43.8415ms.
2018-07-16 16:36:41.534 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:36:41.748 +07:00 [Information] Executed ViewResult - view "Edit" executed in 214.0579ms.
2018-07-16 16:36:41.749 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 267.5593ms
2018-07-16 16:36:41.749 +07:00 [Information] Request finished in 275.9245ms 200 text/html; charset=utf-8
2018-07-16 16:36:49.816 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:36:49.831 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:36:49.833 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:36:49.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:36:49.842 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:36:49.847 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:36:49.854 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:36:49.859 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:36:49.863 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:36:49.868 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:36:49.871 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:36:49.871 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.3927ms.
2018-07-16 16:36:49.872 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:36:50.095 +07:00 [Information] Executed ViewResult - view "Edit" executed in 223.7747ms.
2018-07-16 16:36:50.096 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 264.116ms
2018-07-16 16:36:50.096 +07:00 [Information] Request finished in 281.3828ms 200 text/html; charset=utf-8
2018-07-16 16:37:11.827 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 16:37:11.835 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 16:37:11.835 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:37:11.840 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:37:11.841 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:37:11.848 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 16:37:11.848 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.7962ms.
2018-07-16 16:37:11.848 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 16:37:11.849 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 0.9014ms.
2018-07-16 16:37:11.850 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 15.0421ms
2018-07-16 16:37:11.851 +07:00 [Information] Request finished in 23.7147ms 200 text/html; charset=utf-8
2018-07-16 16:37:12.592 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:37:12.599 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:37:12.600 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:37:12.604 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:37:12.605 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:37:12.610 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:37:12.615 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:37:12.620 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:37:12.625 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:37:12.629 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:37:12.633 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:37:12.633 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.4648ms.
2018-07-16 16:37:12.633 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:37:12.827 +07:00 [Information] Executed ViewResult - view "Edit" executed in 193.6991ms.
2018-07-16 16:37:12.827 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 227.7491ms
2018-07-16 16:37:12.827 +07:00 [Information] Request finished in 235.7767ms 200 text/html; charset=utf-8
2018-07-16 16:37:14.087 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:37:14.089 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:37:14.089 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:37:14.094 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:37:14.094 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:37:14.101 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:37:14.107 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:37:14.112 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:37:14.116 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:37:14.121 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:37:14.125 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:37:14.125 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.6827ms.
2018-07-16 16:37:14.125 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:37:14.127 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.375ms.
2018-07-16 16:37:14.127 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 37.927ms
2018-07-16 16:37:14.127 +07:00 [Information] Request finished in 40.0594ms 200 text/html; charset=utf-8
2018-07-16 16:37:14.150 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:37:14.151 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:37:14.151 +07:00 [Information] Request finished in 1.8795ms 304 text/css
2018-07-16 16:37:35.472 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:37:35.481 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:37:35.481 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:37:35.486 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:37:35.487 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:37:35.492 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:37:35.497 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:37:35.503 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:37:35.508 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:37:35.513 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:37:35.518 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:37:35.518 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.9198ms.
2018-07-16 16:37:35.518 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:37:35.747 +07:00 [Information] Executed ViewResult - view "Edit" executed in 228.9597ms.
2018-07-16 16:37:35.747 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 266.1983ms
2018-07-16 16:37:35.748 +07:00 [Information] Request finished in 275.7089ms 200 text/html; charset=utf-8
2018-07-16 16:38:24.131 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:38:24.139 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:38:24.139 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:38:24.145 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:38:24.147 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:38:24.152 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:38:24.157 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:38:24.162 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:38:24.166 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:38:24.171 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:38:24.174 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:38:24.175 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 27.2416ms.
2018-07-16 16:38:24.175 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:38:24.380 +07:00 [Information] Executed ViewResult - view "Edit" executed in 204.8381ms.
2018-07-16 16:38:24.380 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 241.1063ms
2018-07-16 16:38:24.381 +07:00 [Information] Request finished in 250.0822ms 200 text/html; charset=utf-8
2018-07-16 16:38:24.400 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:38:24.402 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:38:24.402 +07:00 [Information] Request finished in 2.3737ms 304 text/css
2018-07-16 16:38:24.402 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:38:24.403 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:38:24.403 +07:00 [Information] Request finished in 0.7438ms 304 application/javascript
2018-07-16 16:38:30.926 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:38:30.936 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:38:30.936 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:38:30.942 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:38:30.963 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:38:30.997 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:38:31.016 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:38:31.172 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:38:31.203 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:38:31.209 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 245.364ms.
2018-07-16 16:38:31.209 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:38:31.209 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 273.5317ms
2018-07-16 16:38:31.209 +07:00 [Information] Request finished in 283.8724ms 200 application/json; charset=utf-8
2018-07-16 16:40:36.270 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:40:36.809 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:40:37.344 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:40:37.582 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:40:37.746 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:40:37.843 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:40:38.010 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:40:38.084 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:40:38.121 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:40:38.137 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:40:38.141 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:40:38.147 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 397.4037ms.
2018-07-16 16:40:38.166 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:40:38.334 +07:00 [Information] Executed ViewResult - view "Edit" executed in 174.071ms.
2018-07-16 16:40:38.336 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1526.1557ms
2018-07-16 16:40:38.373 +07:00 [Information] Request finished in 2108.326ms 200 text/html; charset=utf-8
2018-07-16 16:40:38.375 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:40:38.380 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:40:38.380 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:40:38.380 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:40:38.382 +07:00 [Information] Request finished in 6.2974ms 304 text/css
2018-07-16 16:40:38.382 +07:00 [Information] Request finished in 2.1307ms 304 application/javascript
2018-07-16 16:40:43.199 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:40:43.216 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:40:43.218 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:40:43.245 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:40:43.272 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 16:40:43.308 +07:00 [Information] Executed DbCommand ("23"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:40:43.360 +07:00 [Information] Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:40:43.543 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:40:43.572 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 300.5671ms.
2018-07-16 16:40:43.576 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:40:43.593 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 376.4712ms
2018-07-16 16:40:43.593 +07:00 [Information] Request finished in 394.429ms 200 application/json; charset=utf-8
2018-07-16 16:40:49.857 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:40:49.858 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:40:49.859 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:40:49.863 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:40:49.864 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:40:49.872 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:40:49.878 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:40:49.883 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:40:49.887 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:40:49.892 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:40:49.896 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:40:49.896 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.9997ms.
2018-07-16 16:40:49.896 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:40:49.899 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.4346ms.
2018-07-16 16:40:49.899 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 40.4393ms
2018-07-16 16:40:49.899 +07:00 [Information] Request finished in 42.4948ms 200 text/html; charset=utf-8
2018-07-16 16:40:52.697 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/'/Admin/Route/ConfirmationTripsManager/TripChecked/99'  0
2018-07-16 16:40:52.699 +07:00 [Information] Request finished in 1.621ms 404 
2018-07-16 16:40:55.496 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:40:55.497 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:40:55.497 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:40:55.507 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:40:55.508 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:40:55.514 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:40:55.525 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:40:55.538 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:40:55.557 +07:00 [Information] Executed DbCommand ("17"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:40:55.577 +07:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:40:55.597 +07:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:40:55.598 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 89.0925ms.
2018-07-16 16:40:55.598 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:40:55.599 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.4483ms.
2018-07-16 16:40:55.599 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 102.208ms
2018-07-16 16:40:55.599 +07:00 [Information] Request finished in 103.7794ms 200 text/html; charset=utf-8
2018-07-16 16:40:57.567 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/'/Admin/Route/ConfirmationTripsManager/TripChecked/99'  0
2018-07-16 16:40:57.569 +07:00 [Information] Request finished in 2.2404ms 404 
2018-07-16 16:41:00.897 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:41:00.898 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:41:00.899 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:41:00.907 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:41:00.910 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:41:00.920 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:41:00.938 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:41:00.948 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:41:00.956 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:41:00.965 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:41:00.972 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:41:00.972 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 61.711ms.
2018-07-16 16:41:00.972 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:41:00.974 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.1632ms.
2018-07-16 16:41:00.974 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 75.9011ms
2018-07-16 16:41:00.974 +07:00 [Information] Request finished in 77.5989ms 200 text/html; charset=utf-8
2018-07-16 16:41:05.045 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:41:05.046 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:41:05.047 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:41:05.056 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:41:05.059 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:41:05.068 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:41:05.076 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:41:05.084 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:41:05.089 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:41:05.099 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:41:05.107 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:41:05.107 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 47.7027ms.
2018-07-16 16:41:05.107 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:41:05.108 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5508ms.
2018-07-16 16:41:05.109 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 62.0741ms
2018-07-16 16:41:05.109 +07:00 [Information] Request finished in 63.5417ms 200 text/html; charset=utf-8
2018-07-16 16:41:07.407 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:41:07.410 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:41:07.410 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:41:07.417 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:41:07.418 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:41:07.425 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:41:07.433 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:41:07.449 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:41:07.460 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 41.2146ms.
2018-07-16 16:41:07.460 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:41:07.460 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 50.4784ms
2018-07-16 16:41:07.461 +07:00 [Information] Request finished in 53.8543ms 200 application/json; charset=utf-8
2018-07-16 16:41:09.896 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:41:09.897 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:41:09.898 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:41:09.907 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:41:09.909 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:41:09.915 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:41:09.924 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:41:09.931 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:41:09.940 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:41:09.957 +07:00 [Information] Executed DbCommand ("16"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:41:09.963 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:41:09.963 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 54.2039ms.
2018-07-16 16:41:09.963 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:41:09.965 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.6927ms.
2018-07-16 16:41:09.965 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 67.791ms
2018-07-16 16:41:09.965 +07:00 [Information] Request finished in 69.4078ms 200 text/html; charset=utf-8
2018-07-16 16:41:11.511 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/'/Admin/Route/ConfirmationTripsManager/TripChecked/99'  0
2018-07-16 16:41:11.512 +07:00 [Information] Request finished in 1.2314ms 404 
2018-07-16 16:41:41.790 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:41:41.793 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:41:41.793 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:41:41.803 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:41:41.804 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:41:41.812 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:41:41.820 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:41:41.828 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:41:41.836 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:41:41.844 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:41:41.851 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:41:41.851 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 46.6399ms.
2018-07-16 16:41:41.851 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:41:41.853 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5865ms.
2018-07-16 16:41:41.853 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 60.3527ms
2018-07-16 16:41:41.853 +07:00 [Information] Request finished in 63.4548ms 200 text/html; charset=utf-8
2018-07-16 16:41:41.876 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:41:41.879 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:41:41.879 +07:00 [Information] Request finished in 2.7248ms 304 text/css
2018-07-16 16:42:03.170 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:42:03.181 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:42:03.182 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:42:03.188 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:42:03.189 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:42:03.197 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:42:03.205 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:42:03.213 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:42:03.217 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:42:03.225 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:42:03.230 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:42:03.230 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 41.3401ms.
2018-07-16 16:42:03.230 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:42:04.707 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1476.4203ms.
2018-07-16 16:42:04.707 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1525.3611ms
2018-07-16 16:42:04.707 +07:00 [Information] Request finished in 1537.4776ms 200 text/html; charset=utf-8
2018-07-16 16:42:06.705 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:42:06.716 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:42:06.717 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:42:06.725 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:42:06.730 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:42:06.756 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:42:06.767 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:42:06.784 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:42:06.792 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:42:06.798 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:42:06.802 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:42:06.804 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 73.9585ms.
2018-07-16 16:42:06.804 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:42:06.804 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 87.8396ms
2018-07-16 16:42:06.804 +07:00 [Information] Request finished in 99.354ms 200 application/json; charset=utf-8
2018-07-16 16:42:06.814 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:42:06.826 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:42:06.827 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:42:06.838 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:42:06.839 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:42:06.847 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:42:06.848 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 8.9993ms.
2018-07-16 16:42:06.849 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:42:06.850 +07:00 [Information] Executed ViewResult - view "Details" executed in 1.3229ms.
2018-07-16 16:42:06.850 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 23.1697ms
2018-07-16 16:42:06.850 +07:00 [Information] Request finished in 36.1134ms 200 text/html; charset=utf-8
2018-07-16 16:42:09.627 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:42:09.636 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:42:09.636 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:42:09.648 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:42:09.650 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 16:42:09.664 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:42:09.671 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:42:09.681 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:42:09.700 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 49.374ms.
2018-07-16 16:42:09.700 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:42:09.700 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 64.2874ms
2018-07-16 16:42:09.700 +07:00 [Information] Request finished in 73.0878ms 200 application/json; charset=utf-8
2018-07-16 16:42:11.207 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:42:11.208 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:42:11.209 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:42:11.216 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:42:11.217 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:42:11.225 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:42:11.232 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:42:11.240 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:42:11.248 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:42:11.260 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:42:11.265 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:42:11.287 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:42:11.297 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 80.104ms.
2018-07-16 16:42:11.297 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:42:11.297 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 88.5722ms
2018-07-16 16:42:11.297 +07:00 [Information] Request finished in 90.1937ms 200 application/json; charset=utf-8
2018-07-16 16:42:11.308 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:42:11.309 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:42:11.310 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:42:11.317 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:42:11.318 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:42:11.325 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:42:11.326 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 7.7377ms.
2018-07-16 16:42:11.326 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:42:11.379 +07:00 [Information] Executed ViewResult - view "Details" executed in 52.7802ms.
2018-07-16 16:42:11.379 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 69.4051ms
2018-07-16 16:42:11.379 +07:00 [Information] Request finished in 71.2044ms 200 text/html; charset=utf-8
2018-07-16 16:42:49.802 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:42:49.804 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:42:49.804 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:42:49.811 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:42:49.812 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 16:42:49.819 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:42:49.828 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:42:49.842 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:42:49.862 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:42:49.875 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 62.7973ms.
2018-07-16 16:42:49.875 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:42:49.875 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 70.8693ms
2018-07-16 16:42:49.875 +07:00 [Information] Request finished in 73.3443ms 200 application/json; charset=utf-8
2018-07-16 16:42:58.632 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:42:58.635 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:42:58.636 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:42:58.645 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:42:58.646 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:42:58.653 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:42:58.662 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:42:58.670 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:42:58.676 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:42:58.684 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:42:58.688 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:42:58.689 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.992ms.
2018-07-16 16:42:58.689 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:42:58.690 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.6751ms.
2018-07-16 16:42:58.690 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 55.5113ms
2018-07-16 16:42:58.691 +07:00 [Information] Request finished in 59.0758ms 200 text/html; charset=utf-8
2018-07-16 16:42:58.712 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:42:58.713 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:42:58.713 +07:00 [Information] Request finished in 0.8596ms 304 text/css
2018-07-16 16:42:58.713 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:42:58.714 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:42:58.714 +07:00 [Information] Request finished in 0.4319ms 304 application/javascript
2018-07-16 16:43:28.475 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:43:29.110 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:43:29.662 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:43:29.902 +07:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:43:30.081 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:43:30.192 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:43:30.442 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:43:30.523 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:43:30.565 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:43:30.581 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:43:30.585 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:43:30.592 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 506.6585ms.
2018-07-16 16:43:30.617 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:43:30.822 +07:00 [Information] Executed ViewResult - view "Edit" executed in 212.9449ms.
2018-07-16 16:43:30.825 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1714.0977ms
2018-07-16 16:43:30.866 +07:00 [Information] Request finished in 2397.398ms 200 text/html; charset=utf-8
2018-07-16 16:43:33.986 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:43:33.998 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:43:33.999 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:43:34.006 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:43:34.040 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 16:43:34.061 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:43:34.083 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:43:34.262 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:43:34.284 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 244.1406ms.
2018-07-16 16:43:34.288 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:43:34.301 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 303.2282ms
2018-07-16 16:43:34.302 +07:00 [Information] Request finished in 315.5827ms 200 application/json; charset=utf-8
2018-07-16 16:43:35.471 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:43:35.482 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:43:35.482 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:43:35.489 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:43:35.493 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:43:35.507 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:43:35.514 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:43:35.520 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:43:35.524 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:43:35.529 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:43:35.533 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:43:35.553 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:43:35.562 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 68.9314ms.
2018-07-16 16:43:35.563 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:43:35.563 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 80.8426ms
2018-07-16 16:43:35.563 +07:00 [Information] Request finished in 91.7254ms 200 application/json; charset=utf-8
2018-07-16 16:43:35.572 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:43:35.577 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:43:35.578 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:43:35.584 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:43:35.584 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:43:35.592 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:43:35.593 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 8.4835ms.
2018-07-16 16:43:35.594 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:43:35.596 +07:00 [Information] Executed ViewResult - view "Details" executed in 2.7747ms.
2018-07-16 16:43:35.596 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 18.7843ms
2018-07-16 16:43:35.597 +07:00 [Information] Request finished in 24.833ms 200 text/html; charset=utf-8
2018-07-16 16:43:37.411 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:43:37.412 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:43:37.412 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:43:37.419 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:43:37.420 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:43:37.425 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:43:37.429 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:43:37.437 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:43:37.450 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:43:37.455 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 35.2447ms.
2018-07-16 16:43:37.456 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:43:37.456 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 44.2174ms
2018-07-16 16:43:37.456 +07:00 [Information] Request finished in 46.3499ms 200 application/json; charset=utf-8
2018-07-16 16:43:59.930 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:43:59.938 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:43:59.938 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:43:59.943 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:43:59.944 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:43:59.949 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:43:59.954 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:43:59.961 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:43:59.966 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:43:59.971 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:43:59.976 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:43:59.976 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.928ms.
2018-07-16 16:44:01.523 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:44:01.540 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1563.9989ms.
2018-07-16 16:44:01.540 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1602.2396ms
2018-07-16 16:44:01.540 +07:00 [Information] Request finished in 1610.4696ms 200 text/html; charset=utf-8
2018-07-16 16:44:03.800 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:44:03.810 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:44:03.810 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:44:03.816 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:44:03.817 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:44:03.822 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:44:03.827 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:44:03.833 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:44:03.837 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:44:03.842 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:44:03.846 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:44:03.847 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.3654ms.
2018-07-16 16:44:03.847 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:44:03.847 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 37.3003ms
2018-07-16 16:44:03.847 +07:00 [Information] Request finished in 47.2157ms 200 application/json; charset=utf-8
2018-07-16 16:44:03.856 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:44:03.863 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:44:03.864 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:44:03.869 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:44:03.870 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:44:03.875 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:44:03.877 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.8043ms.
2018-07-16 16:44:03.877 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:44:03.877 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.4392ms.
2018-07-16 16:44:03.877 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 14.4948ms
2018-07-16 16:44:03.878 +07:00 [Information] Request finished in 22.173ms 200 text/html; charset=utf-8
2018-07-16 16:44:07.887 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:44:07.900 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:44:07.900 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:44:07.905 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:44:07.906 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:44:07.910 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:44:07.915 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:44:07.923 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:44:07.928 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 21.9991ms.
2018-07-16 16:44:07.928 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:44:07.929 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 29.0573ms
2018-07-16 16:44:07.929 +07:00 [Information] Request finished in 44.476ms 200 application/json; charset=utf-8
2018-07-16 16:44:13.286 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:44:13.287 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:44:13.288 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:44:13.293 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:44:13.294 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:44:13.299 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:44:13.304 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:44:13.310 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:44:13.315 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:44:13.320 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:44:13.324 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:44:13.332 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:44:13.344 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 49.4506ms.
2018-07-16 16:44:13.344 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:44:13.344 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 56.8094ms
2018-07-16 16:44:13.344 +07:00 [Information] Request finished in 58.7021ms 200 application/json; charset=utf-8
2018-07-16 16:44:13.352 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:44:13.352 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:44:13.353 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:44:13.357 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:44:13.358 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:44:13.364 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:44:13.365 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.7485ms.
2018-07-16 16:44:13.365 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:44:13.365 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.4605ms.
2018-07-16 16:44:13.365 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 12.9266ms
2018-07-16 16:44:13.366 +07:00 [Information] Request finished in 13.9852ms 200 text/html; charset=utf-8
2018-07-16 16:44:25.581 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:44:25.618 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:44:25.618 +07:00 [Information] Request finished in 36.9821ms 200 text/css
2018-07-16 16:49:08.943 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:49:08.946 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:49:08.952 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:49:09.004 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 16:49:09.033 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 16:49:09.043 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:49:09.044 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:49:09.050 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:49:09.055 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:49:09.061 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:49:09.064 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:49:09.069 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:49:09.073 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:49:09.073 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.4355ms.
2018-07-16 16:49:09.073 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:49:09.077 +07:00 [Information] Executed ViewResult - view "Edit" executed in 4.0319ms.
2018-07-16 16:49:09.077 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 33.6617ms
2018-07-16 16:49:09.077 +07:00 [Information] Request finished in 134.4406ms 200 text/html; charset=utf-8
2018-07-16 16:49:09.112 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:49:09.116 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:49:09.120 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 16:49:09.120 +07:00 [Information] Request finished in 4.7146ms 200 text/css
2018-07-16 16:49:09.203 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 16:49:09.204 +07:00 [Information] Request finished in 91.77ms 200 application/javascript
2018-07-16 16:49:10.150 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 16:49:10.152 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 16:49:10.152 +07:00 [Information] Request finished in 2.1318ms 200 image/x-icon
2018-07-16 16:49:16.377 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:49:16.378 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:49:16.378 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:49:16.385 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:49:16.386 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:49:16.392 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:49:16.397 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:49:16.406 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:49:16.411 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:49:16.417 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:49:16.421 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:49:16.421 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.0193ms.
2018-07-16 16:49:16.421 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:49:16.423 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.0682ms.
2018-07-16 16:49:16.424 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 45.7249ms
2018-07-16 16:49:16.424 +07:00 [Information] Request finished in 47.2023ms 200 text/html; charset=utf-8
2018-07-16 16:49:16.447 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:49:16.447 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:49:16.447 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:49:16.449 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 16:49:16.450 +07:00 [Information] Request finished in 3.0952ms 200 application/javascript
2018-07-16 16:49:16.451 +07:00 [Information] Request finished in 4.1149ms 304 text/css
2018-07-16 16:49:55.255 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/  
2018-07-16 16:49:55.255 +07:00 [Information] Request starting HTTP/1.1 DEBUG http://localhost:44396/  0
2018-07-16 16:49:55.324 +07:00 [Information] Request finished in 80.0628ms 200 
2018-07-16 16:49:56.251 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-16 16:49:56.863 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:49:57.217 +07:00 [Information] Executed DbCommand ("21"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:49:57.337 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-16 16:49:57.346 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.0891ms.
2018-07-16 16:49:57.369 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 16:49:57.535 +07:00 [Information] Executed ViewResult - view "Index" executed in 176.5045ms.
2018-07-16 16:49:57.544 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 1287.1129ms
2018-07-16 16:49:57.573 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:49:57.596 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:49:57.599 +07:00 [Information] Request finished in 2349.5407ms 200 text/html; charset=utf-8
2018-07-16 16:49:57.607 +07:00 [Information] Request finished in 32.9608ms 304 text/css
2018-07-16 16:49:57.658 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:49:57.662 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:49:57.665 +07:00 [Information] Request finished in 7.2091ms 304 application/javascript
2018-07-16 16:50:01.475 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:50:01.531 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:50:01.541 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:50:01.557 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:50:01.696 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:50:01.810 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:50:02.004 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:50:02.143 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:50:02.185 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:50:02.212 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:50:02.221 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:50:02.233 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 531.5142ms.
2018-07-16 16:50:02.248 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:50:02.303 +07:00 [Information] Executed ViewResult - view "Edit" executed in 57.6825ms.
2018-07-16 16:50:02.312 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 774.0982ms
2018-07-16 16:50:02.332 +07:00 [Information] Request finished in 853.4828ms 200 text/html; charset=utf-8
2018-07-16 16:50:02.335 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:50:02.347 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:50:02.348 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:50:02.356 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:50:02.362 +07:00 [Information] Request finished in 25.8443ms 304 text/css
2018-07-16 16:50:02.379 +07:00 [Information] Request finished in 28.5516ms 304 application/javascript
2018-07-16 16:50:08.906 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:50:08.921 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:50:08.929 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:50:08.939 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:50:08.975 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:50:08.995 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:50:09.026 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:50:17.035 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:50:22.899 +07:00 [Information] Executed DbCommand ("63"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:50:25.480 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 16501.2736ms.
2018-07-16 16:50:25.491 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:50:25.511 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 16584.3862ms
2018-07-16 16:50:25.516 +07:00 [Information] Request finished in 16611.8596ms 200 application/json; charset=utf-8
2018-07-16 16:50:32.956 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:50:32.959 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:50:32.962 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:50:32.977 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:50:32.981 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:50:32.994 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:50:33.004 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:50:33.013 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:50:33.022 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:50:33.030 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:50:33.041 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:50:33.044 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 56.5417ms.
2018-07-16 16:50:33.047 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:50:33.055 +07:00 [Information] Executed ViewResult - view "Edit" executed in 6.6932ms.
2018-07-16 16:50:33.060 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 97.1138ms
2018-07-16 16:50:33.074 +07:00 [Information] Request finished in 109.0919ms 200 text/html; charset=utf-8
2018-07-16 16:51:04.573 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:51:04.582 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:51:04.604 +07:00 [Information] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:51:04.650 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 16:51:04.674 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:51:04.681 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:51:04.685 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:51:04.690 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:51:04.711 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.718 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.722 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.732 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.736 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.739 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.745 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.751 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.756 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.763 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.768 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.774 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.782 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.786 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.791 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.798 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.802 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.811 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:51:04.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 16:51:04.912 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:04.959 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:04.968 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:04.975 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:04.982 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:04.989 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:04.996 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:05.003 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:05.015 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:05.024 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:05.033 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:05.041 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:05.050 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:51:05.070 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 16:51:05.108 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:51:05.114 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:51:05.122 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:51:05.131 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:51:05.139 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:51:05.147 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:51:05.156 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:51:05.163 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:51:05.166 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 49.7349ms.
2018-07-16 16:51:07.857 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:51:07.892 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2720.4178ms.
2018-07-16 16:51:07.935 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 2821.2827ms
2018-07-16 16:51:07.936 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:51:07.964 +07:00 [Information] Request finished in 3384.9929ms 200 text/html; charset=utf-8
2018-07-16 16:51:07.965 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:51:07.972 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:51:07.977 +07:00 [Information] Request finished in 39.9632ms 304 text/css
2018-07-16 16:51:07.983 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:51:07.992 +07:00 [Information] Request finished in 25.3231ms 304 application/javascript
2018-07-16 16:51:10.564 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:51:10.583 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:51:10.589 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:51:10.603 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:51:10.620 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:51:10.643 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:51:10.653 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:51:10.663 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:51:10.671 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:51:10.680 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:51:10.689 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:51:10.694 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 69.5481ms.
2018-07-16 16:51:10.699 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:51:10.703 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 114.7899ms
2018-07-16 16:51:10.707 +07:00 [Information] Request finished in 144.889ms 200 application/json; charset=utf-8
2018-07-16 16:51:10.716 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:51:10.726 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:51:10.730 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:51:10.738 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:51:10.743 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:51:10.758 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:51:10.763 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 16.0521ms.
2018-07-16 16:51:10.768 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:51:10.771 +07:00 [Information] Executed ViewResult - view "Details" executed in 4.665ms.
2018-07-16 16:51:10.774 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 45.1357ms
2018-07-16 16:51:10.778 +07:00 [Information] Request finished in 61.463ms 200 text/html; charset=utf-8
2018-07-16 16:51:12.615 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:51:12.626 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:51:12.630 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:51:12.639 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:51:12.645 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:51:12.654 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:51:12.664 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:51:12.678 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:51:12.688 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 37.9529ms.
2018-07-16 16:51:12.694 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:51:12.699 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 69.0109ms
2018-07-16 16:51:12.713 +07:00 [Information] Request finished in 90.2075ms 200 application/json; charset=utf-8
2018-07-16 16:51:13.980 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:51:13.990 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:51:13.998 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:51:14.010 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:51:14.015 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:51:14.023 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:51:14.033 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:51:14.045 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:51:14.054 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:51:14.064 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:51:14.072 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:51:14.085 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:51:14.096 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 77.9589ms.
2018-07-16 16:51:14.100 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:51:14.104 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 107.9044ms
2018-07-16 16:51:14.110 +07:00 [Information] Request finished in 130.2569ms 200 application/json; charset=utf-8
2018-07-16 16:51:14.116 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:51:14.122 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:51:14.126 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:51:14.134 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:51:14.138 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:51:14.148 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:51:14.152 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.4519ms.
2018-07-16 16:51:14.155 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:51:14.160 +07:00 [Information] Executed ViewResult - view "Details" executed in 3.1854ms.
2018-07-16 16:51:14.164 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 39.016ms
2018-07-16 16:51:14.168 +07:00 [Information] Request finished in 51.7933ms 200 text/html; charset=utf-8
2018-07-16 16:51:20.844 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:51:20.853 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:51:20.858 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:51:20.871 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:51:20.876 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:51:20.887 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:51:20.900 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:51:20.913 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:51:24.098 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:51:24.108 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 3228.3667ms.
2018-07-16 16:51:24.112 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:51:24.116 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 3258.1013ms
2018-07-16 16:51:24.120 +07:00 [Information] Request finished in 3276.699ms 200 application/json; charset=utf-8
2018-07-16 16:51:24.125 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:51:24.133 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:51:24.139 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:51:24.150 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:51:24.154 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:51:24.165 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:51:24.169 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.7326ms.
2018-07-16 16:51:24.172 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:51:24.181 +07:00 [Information] Executed ViewResult - view "Details" executed in 4.302ms.
2018-07-16 16:51:24.186 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 47.9621ms
2018-07-16 16:51:24.191 +07:00 [Information] Request finished in 65.7214ms 200 text/html; charset=utf-8
2018-07-16 16:51:53.017 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:51:53.556 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:51:54.079 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:51:54.261 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:51:54.411 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:51:54.501 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:51:54.664 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:51:54.741 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:51:54.775 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:51:54.790 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:51:54.798 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:51:54.804 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 389.2188ms.
2018-07-16 16:51:56.255 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:51:56.635 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1818.1363ms.
2018-07-16 16:51:56.637 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 3080.768ms
2018-07-16 16:51:56.662 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:51:56.665 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:51:56.667 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:51:56.668 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:51:56.668 +07:00 [Information] Request finished in 1.2903ms 304 text/css
2018-07-16 16:51:56.668 +07:00 [Information] Request finished in 3655.3418ms 200 text/html; charset=utf-8
2018-07-16 16:51:56.668 +07:00 [Information] Request finished in 6.1498ms 304 application/javascript
2018-07-16 16:52:27.524 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:52:27.535 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:52:27.536 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:27.544 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:27.554 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:52:27.575 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:52:27.589 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:52:27.595 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:52:27.603 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:52:27.608 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:52:27.612 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:52:27.615 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 60.6435ms.
2018-07-16 16:52:27.627 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:27.644 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 108.9397ms
2018-07-16 16:52:27.644 +07:00 [Information] Request finished in 120.5535ms 200 application/json; charset=utf-8
2018-07-16 16:52:27.652 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:52:27.658 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:52:27.658 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:27.666 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:27.666 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:52:27.675 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:27.676 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 9.3558ms.
2018-07-16 16:52:27.677 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:52:27.678 +07:00 [Information] Executed ViewResult - view "Details" executed in 1.5254ms.
2018-07-16 16:52:27.678 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 19.7296ms
2018-07-16 16:52:27.678 +07:00 [Information] Request finished in 26.2437ms 200 text/html; charset=utf-8
2018-07-16 16:52:29.197 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:52:29.205 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:29.205 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:29.210 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:29.233 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:52:29.249 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:29.268 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:29.449 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:29.470 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 236.6544ms.
2018-07-16 16:52:29.471 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:29.471 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 266.5676ms
2018-07-16 16:52:29.471 +07:00 [Information] Request finished in 274.4715ms 200 application/json; charset=utf-8
2018-07-16 16:52:32.577 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:52:32.579 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:52:32.579 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:32.585 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:32.585 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:52:32.591 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:32.595 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:52:32.601 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:52:32.605 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:52:32.610 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:52:32.613 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:52:32.613 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 27.8253ms.
2018-07-16 16:52:32.614 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:52:32.617 +07:00 [Information] Executed ViewResult - view "Edit" executed in 3.0425ms.
2018-07-16 16:52:32.617 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 38.365ms
2018-07-16 16:52:32.617 +07:00 [Information] Request finished in 40.761ms 200 text/html; charset=utf-8
2018-07-16 16:52:36.417 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:52:36.418 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:52:36.418 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:36.426 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:36.427 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:52:36.434 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:52:36.446 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:52:36.455 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:52:36.463 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:52:36.471 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:52:36.478 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:52:36.508 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:36.527 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 99.4943ms.
2018-07-16 16:52:36.527 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:36.527 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 109.1321ms
2018-07-16 16:52:36.527 +07:00 [Information] Request finished in 110.6495ms 200 application/json; charset=utf-8
2018-07-16 16:52:36.536 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:52:36.537 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:52:36.538 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:36.546 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:36.547 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:52:36.555 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:36.556 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 8.7101ms.
2018-07-16 16:52:36.556 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:52:36.556 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.4084ms.
2018-07-16 16:52:36.556 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 19.22ms
2018-07-16 16:52:36.557 +07:00 [Information] Request finished in 20.3845ms 200 text/html; charset=utf-8
2018-07-16 16:52:38.228 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:52:38.230 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:38.230 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:38.237 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:38.239 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:52:38.245 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:38.250 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:38.263 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:38.283 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:38.291 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 52.5041ms.
2018-07-16 16:52:38.291 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:38.291 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 61.6776ms
2018-07-16 16:52:38.292 +07:00 [Information] Request finished in 64.2867ms 200 application/json; charset=utf-8
2018-07-16 16:52:38.298 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:52:38.299 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:52:38.299 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:38.308 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:38.309 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:52:38.316 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:38.317 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 8.294ms.
2018-07-16 16:52:38.317 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:52:38.319 +07:00 [Information] Executed ViewResult - view "Details" executed in 1.4474ms.
2018-07-16 16:52:38.319 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 19.7382ms
2018-07-16 16:52:38.319 +07:00 [Information] Request finished in 21.1852ms 200 text/html; charset=utf-8
2018-07-16 16:52:43.433 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:52:43.434 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:43.434 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:43.440 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:43.441 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:52:43.446 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:43.450 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:43.458 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:43.465 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 23.5568ms.
2018-07-16 16:52:43.465 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:43.465 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 31.14ms
2018-07-16 16:52:43.465 +07:00 [Information] Request finished in 32.2257ms 200 application/json; charset=utf-8
2018-07-16 16:52:44.905 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:52:44.907 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:44.908 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:44.914 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:44.914 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:52:44.921 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:44.928 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:44.940 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:44.953 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 38.4972ms.
2018-07-16 16:52:44.953 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:44.953 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 46.6647ms
2018-07-16 16:52:44.954 +07:00 [Information] Request finished in 48.5817ms 200 application/json; charset=utf-8
2018-07-16 16:52:45.562 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:52:45.563 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:45.564 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:45.569 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:45.570 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:52:45.574 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:45.578 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:45.586 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:45.598 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 28.4496ms.
2018-07-16 16:52:45.598 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:45.599 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 34.911ms
2018-07-16 16:52:45.599 +07:00 [Information] Request finished in 37.522ms 200 application/json; charset=utf-8
2018-07-16 16:52:46.786 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:52:46.788 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:46.788 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:46.794 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:46.794 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:52:46.799 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:46.804 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:46.811 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:46.818 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 23.6637ms.
2018-07-16 16:52:46.818 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:46.818 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 30.7931ms
2018-07-16 16:52:46.819 +07:00 [Information] Request finished in 32.7228ms 200 application/json; charset=utf-8
2018-07-16 16:52:47.404 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:52:47.406 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:47.406 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:47.413 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:47.414 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:52:47.422 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:47.428 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:47.465 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:47.473 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 58.3771ms.
2018-07-16 16:52:47.473 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:47.473 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 67.2627ms
2018-07-16 16:52:47.473 +07:00 [Information] Request finished in 74.6621ms 200 application/json; charset=utf-8
2018-07-16 16:52:48.613 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:52:48.614 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:48.615 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:48.622 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:48.622 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:52:48.627 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:48.631 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:48.639 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:48.645 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 22.58ms.
2018-07-16 16:52:48.645 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:48.646 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 30.9835ms
2018-07-16 16:52:48.646 +07:00 [Information] Request finished in 33.079ms 200 application/json; charset=utf-8
2018-07-16 16:52:49.264 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:52:49.266 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:49.266 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:49.272 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:49.273 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:52:49.278 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:49.282 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:49.291 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:49.298 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 24.4771ms.
2018-07-16 16:52:49.298 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:49.298 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 32.4418ms
2018-07-16 16:52:49.298 +07:00 [Information] Request finished in 34.2208ms 200 application/json; charset=utf-8
2018-07-16 16:52:49.834 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:52:49.836 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:49.838 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:49.845 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:49.846 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:52:49.852 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:49.856 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:49.868 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:49.881 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 34.3442ms.
2018-07-16 16:52:49.881 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:49.881 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 44.4354ms
2018-07-16 16:52:49.881 +07:00 [Information] Request finished in 47.1866ms 200 application/json; charset=utf-8
2018-07-16 16:52:50.614 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:52:50.616 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:50.616 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:50.622 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:50.623 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 16:52:50.630 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:50.635 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:50.643 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:50.653 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 30.0826ms.
2018-07-16 16:52:50.653 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:50.653 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 37.3572ms
2018-07-16 16:52:50.653 +07:00 [Information] Request finished in 39.9242ms 200 application/json; charset=utf-8
2018-07-16 16:52:51.379 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:52:51.381 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:51.381 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:51.386 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:51.387 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "False", "99"]) - Validation state: Valid
2018-07-16 16:52:51.391 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:51.395 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:51.403 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:51.413 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 26.0334ms.
2018-07-16 16:52:51.414 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:51.414 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 32.6191ms
2018-07-16 16:52:51.414 +07:00 [Information] Request finished in 37.7037ms 200 application/json; charset=utf-8
2018-07-16 16:52:51.990 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 40
2018-07-16 16:52:51.992 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:51.994 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:52.002 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:52.004 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "False", "99"]) - Validation state: Valid
2018-07-16 16:52:52.010 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:52.015 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:52.026 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:52.033 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 28.9221ms.
2018-07-16 16:52:52.034 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:52.034 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 41.7012ms
2018-07-16 16:52:52.035 +07:00 [Information] Request finished in 44.8496ms 200 application/json; charset=utf-8
2018-07-16 16:52:52.507 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:52:52.508 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:52.509 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:52.516 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:52.517 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["8", "True", "99"]) - Validation state: Valid
2018-07-16 16:52:52.523 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:52.528 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:52.535 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:52.543 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 26.5733ms.
2018-07-16 16:52:52.544 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:52.544 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 35.2712ms
2018-07-16 16:52:52.544 +07:00 [Information] Request finished in 37.0482ms 200 application/json; charset=utf-8
2018-07-16 16:52:53.106 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:52:53.107 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:53.108 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:53.117 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:53.119 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 16:52:53.124 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:53.129 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:53.137 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:53.148 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.7925ms.
2018-07-16 16:52:53.149 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:53.149 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 41.7074ms
2018-07-16 16:52:53.149 +07:00 [Information] Request finished in 43.8449ms 200 application/json; charset=utf-8
2018-07-16 16:52:53.611 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:52:53.612 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:53.612 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:53.618 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:53.619 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:52:53.625 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:53.630 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:53.639 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:53.646 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 26.4591ms.
2018-07-16 16:52:53.646 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:53.646 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 34.0379ms
2018-07-16 16:52:53.646 +07:00 [Information] Request finished in 35.6264ms 200 application/json; charset=utf-8
2018-07-16 16:52:55.010 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:52:55.011 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:55.011 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:55.016 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:55.017 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["10", "True", "99"]) - Validation state: Valid
2018-07-16 16:52:55.021 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:55.026 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:55.036 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:55.044 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 26.2673ms.
2018-07-16 16:52:55.044 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:55.044 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 33.5228ms
2018-07-16 16:52:55.045 +07:00 [Information] Request finished in 35.0688ms 200 application/json; charset=utf-8
2018-07-16 16:52:56.512 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:52:56.513 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:52:56.514 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:56.520 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:56.520 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:52:56.525 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:56.530 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:52:56.537 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:52:56.541 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:52:56.547 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:52:56.554 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:52:56.554 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.9067ms.
2018-07-16 16:52:56.555 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:52:56.556 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5123ms.
2018-07-16 16:52:56.556 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.7777ms
2018-07-16 16:52:56.556 +07:00 [Information] Request finished in 43.9456ms 200 text/html; charset=utf-8
2018-07-16 16:52:56.575 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:52:56.575 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:52:56.576 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:52:56.576 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:52:56.576 +07:00 [Information] Request finished in 0.6813ms 304 text/css
2018-07-16 16:52:56.576 +07:00 [Information] Request finished in 0.813ms 304 application/javascript
2018-07-16 16:52:59.951 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:52:59.953 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:52:59.953 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:52:59.958 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:52:59.959 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 16:52:59.963 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:52:59.968 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:52:59.976 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:52:59.983 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 23.5194ms.
2018-07-16 16:52:59.983 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:52:59.983 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 30.1739ms
2018-07-16 16:52:59.983 +07:00 [Information] Request finished in 32.2893ms 200 application/json; charset=utf-8
2018-07-16 16:53:01.095 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:53:01.097 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:53:01.098 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:01.104 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:01.105 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:53:01.109 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:53:01.115 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:53:01.122 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:01.127 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:01.132 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:01.137 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:01.137 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 32.6094ms.
2018-07-16 16:53:01.138 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:53:01.138 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 40.5351ms
2018-07-16 16:53:01.138 +07:00 [Information] Request finished in 43.0862ms 200 application/json; charset=utf-8
2018-07-16 16:53:01.146 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:53:01.147 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:53:01.148 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:01.154 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:01.155 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:53:01.160 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:53:01.160 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 5.7285ms.
2018-07-16 16:53:01.160 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:53:01.161 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.4575ms.
2018-07-16 16:53:01.161 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 13.5576ms
2018-07-16 16:53:01.161 +07:00 [Information] Request finished in 14.8471ms 200 text/html; charset=utf-8
2018-07-16 16:53:03.149 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:53:03.151 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:53:03.151 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:03.156 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:03.158 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:53:03.162 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:53:03.166 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:53:03.174 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:53:03.180 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 22.6157ms.
2018-07-16 16:53:03.181 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:53:03.181 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 29.8235ms
2018-07-16 16:53:03.181 +07:00 [Information] Request finished in 32.1473ms 200 application/json; charset=utf-8
2018-07-16 16:53:04.734 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:53:04.736 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:53:04.736 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:04.741 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:04.742 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:53:04.746 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:53:04.751 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:53:04.757 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:04.761 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:04.767 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:04.772 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:04.772 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 30.1829ms.
2018-07-16 16:53:04.772 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:53:04.772 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 36.4637ms
2018-07-16 16:53:04.772 +07:00 [Information] Request finished in 37.9744ms 200 application/json; charset=utf-8
2018-07-16 16:53:04.779 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:53:04.780 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:53:04.780 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:04.786 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:04.787 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:53:04.793 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:53:04.794 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.2244ms.
2018-07-16 16:53:04.794 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:53:04.795 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.99ms.
2018-07-16 16:53:04.795 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 15.0234ms
2018-07-16 16:53:04.795 +07:00 [Information] Request finished in 16.181ms 200 text/html; charset=utf-8
2018-07-16 16:53:06.361 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:53:06.363 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:53:06.364 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:06.371 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:06.372 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:53:06.376 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:53:06.381 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:53:06.389 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:53:06.397 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 24.5755ms.
2018-07-16 16:53:06.397 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:53:06.397 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 33.3433ms
2018-07-16 16:53:06.397 +07:00 [Information] Request finished in 36.3953ms 200 application/json; charset=utf-8
2018-07-16 16:53:07.065 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:53:07.066 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:53:07.067 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:07.074 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:07.075 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 16:53:07.079 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:53:07.082 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:53:07.091 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:53:07.099 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 23.942ms.
2018-07-16 16:53:07.099 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:53:07.099 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 32.31ms
2018-07-16 16:53:07.099 +07:00 [Information] Request finished in 34.2019ms 200 application/json; charset=utf-8
2018-07-16 16:53:08.379 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:53:08.381 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:53:08.381 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:08.388 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:08.389 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:53:08.394 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:53:08.402 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:53:08.408 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:08.414 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:08.420 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:08.425 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:08.471 +07:00 [Information] Executed DbCommand ("42"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:53:08.477 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 87.8968ms.
2018-07-16 16:53:08.477 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:53:08.478 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 96.6241ms
2018-07-16 16:53:08.478 +07:00 [Information] Request finished in 98.2712ms 200 application/json; charset=utf-8
2018-07-16 16:53:08.484 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:53:08.485 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:53:08.485 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:08.491 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:08.491 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:53:08.497 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:53:08.498 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.104ms.
2018-07-16 16:53:08.498 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:53:08.498 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.3363ms.
2018-07-16 16:53:08.498 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 12.9515ms
2018-07-16 16:53:08.498 +07:00 [Information] Request finished in 14.0776ms 200 text/html; charset=utf-8
2018-07-16 16:53:24.237 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:53:24.244 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:53:24.245 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:24.251 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:24.252 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:53:24.256 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:53:24.262 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:53:24.268 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:24.272 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:24.276 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:24.281 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:24.281 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.2299ms.
2018-07-16 16:53:24.281 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:53:24.557 +07:00 [Information] Executed ViewResult - view "Edit" executed in 276.5278ms.
2018-07-16 16:53:24.558 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 313.1737ms
2018-07-16 16:53:24.558 +07:00 [Information] Request finished in 320.4449ms 200 text/html; charset=utf-8
2018-07-16 16:53:32.385 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 16:53:32.393 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:53:32.394 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:32.399 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:32.399 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:53:32.404 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:53:32.410 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:53:32.418 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:32.422 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:32.428 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:53:32.432 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:53:32.432 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.8131ms.
2018-07-16 16:53:32.432 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:53:32.656 +07:00 [Information] Executed ViewResult - view "Edit" executed in 223.4295ms.
2018-07-16 16:53:32.656 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 262.5706ms
2018-07-16 16:53:32.656 +07:00 [Information] Request finished in 271.1608ms 200 text/html; charset=utf-8
2018-07-16 16:53:48.169 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Logout application/x-www-form-urlencoded 225
2018-07-16 16:53:48.175 +07:00 [Information] Route matched with "{area = \"User\", action = \"Logout\", controller = \"Account\"}". Executing action "TN.UI.Areas.User.Controllers.AccountController.Logout (TN.UI)"
2018-07-16 16:53:48.193 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.AccountController.Logout (TN.UI)" - Validation state: Valid
2018-07-16 16:53:48.202 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-07-16 16:53:48.203 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-07-16 16:53:48.203 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-07-16 16:53:48.204 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.AccountController.Logout (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.RedirectToActionResult" in 10.2024ms.
2018-07-16 16:53:48.207 +07:00 [Information] Executing RedirectResult, redirecting to "/Admin".
2018-07-16 16:53:48.208 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.AccountController.Logout (TN.UI)" in 32.896ms
2018-07-16 16:53:48.208 +07:00 [Information] Request finished in 39.3708ms 302 
2018-07-16 16:53:48.223 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin  
2018-07-16 16:53:48.226 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-16 16:53:48.226 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:53:48.231 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:53:48.232 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-07-16 16:53:48.232 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-07-16 16:53:48.232 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-07-16 16:53:48.233 +07:00 [Information] Authorization failed for the request at filter '"TN.UI.Extensions.PermissionFilter"'.
2018-07-16 16:53:48.234 +07:00 [Information] Executing RedirectResult, redirecting to "/Login?ReturnUrl=%2FAdmin".
2018-07-16 16:53:48.234 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 8.2389ms
2018-07-16 16:53:48.234 +07:00 [Information] Request finished in 12.226ms 302 
2018-07-16 16:53:48.237 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Login?ReturnUrl=%2FAdmin  
2018-07-16 16:53:48.242 +07:00 [Information] Route matched with "{area = \"User\", action = \"Login\", controller = \"Account\"}". Executing action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)"
2018-07-16 16:53:48.242 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" with arguments (["/Admin"]) - Validation state: Valid
2018-07-16 16:53:48.244 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-07-16 16:53:48.244 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.3995ms.
2018-07-16 16:53:48.246 +07:00 [Information] Executing ViewResult, running view "Login".
2018-07-16 16:53:48.354 +07:00 [Information] Executed ViewResult - view "Login" executed in 110.3864ms.
2018-07-16 16:53:48.355 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" in 112.7209ms
2018-07-16 16:53:48.355 +07:00 [Information] Request finished in 117.4795ms 200 text/html; charset=utf-8
2018-07-16 16:53:48.373 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js?v=uGEmHVBVwqSwceRoffkJ4JsqPQI9uYkMXT592pcUwAs  
2018-07-16 16:53:48.390 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 16:53:48.390 +07:00 [Information] Request finished in 17.6468ms 200 application/javascript
2018-07-16 16:53:48.432 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/content/admin/images/bacvn.jpg  
2018-07-16 16:53:48.433 +07:00 [Information] The file "/content/admin/images/bacvn.jpg" was not modified
2018-07-16 16:53:48.433 +07:00 [Information] Request finished in 1.2481ms 304 image/jpeg
2018-07-16 16:54:03.587 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Login?ReturnUrl=%2FAdmin application/x-www-form-urlencoded 259
2018-07-16 16:54:03.594 +07:00 [Information] Route matched with "{area = \"User\", action = \"Login\", controller = \"Account\"}". Executing action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)"
2018-07-16 16:54:03.602 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" with arguments (["TN.Domain.Model.LoginViewModel", "/Admin"]) - Validation state: Valid
2018-07-16 16:54:03.605 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:54:03.622 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__model_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[Avatar], [m].[ConcurrencyStamp], [m].[CreatedDate], [m].[CreatedUserId], [m].[DisplayName], [m].[Email], [m].[EmailConfirmed], [m].[IsLock], [m].[IsReLogin], [m].[IsSuperAdmin], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Note], [m].[NoteLock], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RoleParents], [m].[RoleSchool], [m].[RoleTransportCompany], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UpdatedDate], [m].[UpdatedUserId], [m].[UserName]
FROM [adm].[User] AS [m]
WHERE [m].[UserName] = @__model_Username_0"
2018-07-16 16:54:03.661 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[CreatedUserId], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[IsLock], [u].[IsReLogin], [u].[IsSuperAdmin], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Note], [u].[NoteLock], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RoleParents], [u].[RoleSchool], [u].[RoleTransportCompany], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedDate], [u].[UpdatedUserId], [u].[UserName]
FROM [adm].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-07-16 16:54:03.763 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 16:54:03.781 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:54:03.781 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:54:03.781 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:54:03.781 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 16:54:03.792 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.793 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.793 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.795 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.796 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.796 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.797 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.797 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.798 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.798 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.799 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.799 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.799 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.800 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.800 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.802 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.802 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.802 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 16:54:03.823 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 16:54:03.889 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.932 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.936 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.940 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.943 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.947 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.950 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.954 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.957 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.961 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.964 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.968 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.971 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.979 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.983 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.986 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.990 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.993 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:03.997 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.000 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.004 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.008 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.012 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.015 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.019 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.023 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.026 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.030 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.034 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.038 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.041 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.045 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.049 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.052 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.056 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.060 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.063 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.067 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.080 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.088 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.092 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.095 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.098 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.102 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.105 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.109 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.114 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.117 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.123 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.127 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.130 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 16:54:04.146 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 16:54:04.171 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2018-07-16 16:54:04.229 +07:00 [Information] Executed DbCommand ("28"ms) [Parameters=["@p28='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p29='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 256), @p14='?' (Size = 256), @p15='?' (Size = 4000), @p16='?' (Size = 1000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [adm].[User] SET [AccessFailedCount] = @p0, [Avatar] = @p1, [ConcurrencyStamp] = @p2, [CreatedDate] = @p3, [CreatedUserId] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsLock] = @p8, [IsReLogin] = @p9, [IsSuperAdmin] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [Note] = @p15, [NoteLock] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RoleParents] = @p20, [RoleSchool] = @p21, [RoleTransportCompany] = @p22, [SecurityStamp] = @p23, [TwoFactorEnabled] = @p24, [UpdatedDate] = @p25, [UpdatedUserId] = @p26, [UserName] = @p27
WHERE [Id] = @p28 AND [ConcurrencyStamp] = @p29;
SELECT @@ROWCOUNT;"
2018-07-16 16:54:04.243 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 640.4234ms.
2018-07-16 16:54:04.243 +07:00 [Information] Executing RedirectResult, redirecting to "/Admin".
2018-07-16 16:54:04.243 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" in 649.4552ms
2018-07-16 16:54:04.243 +07:00 [Information] Request finished in 656.9944ms 302 
2018-07-16 16:54:04.258 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin  
2018-07-16 16:54:04.259 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-16 16:54:04.260 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:54:04.264 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:54:04.265 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-16 16:54:04.265 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3227ms.
2018-07-16 16:54:04.272 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 16:54:04.278 +07:00 [Information] Executed ViewResult - view "Index" executed in 12.5404ms.
2018-07-16 16:54:04.278 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 19.064ms
2018-07-16 16:54:04.278 +07:00 [Information] Request finished in 20.2139ms 200 text/html; charset=utf-8
2018-07-16 16:54:04.295 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:54:04.296 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:54:04.296 +07:00 [Information] Request finished in 1.3288ms 304 application/javascript
2018-07-16 16:54:04.299 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:54:04.299 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:54:04.299 +07:00 [Information] Request finished in 0.7027ms 304 text/css
2018-07-16 16:54:10.882 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager  
2018-07-16 16:54:10.885 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 16:54:10.886 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:54:10.891 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:54:10.893 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 16:54:10.893 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4437ms.
2018-07-16 16:54:10.895 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 16:54:10.934 +07:00 [Information] Executed ViewResult - view "Index" executed in 40.7673ms.
2018-07-16 16:54:10.934 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 49.0421ms
2018-07-16 16:54:10.934 +07:00 [Information] Request finished in 52.9043ms 200 text/html; charset=utf-8
2018-07-16 16:54:11.102 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 16:54:11.121 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 16:54:11.122 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:54:11.128 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:54:11.131 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 16:54:11.197 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 16:54:11.334 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 16:54:11.334 +07:00 [Warning] The Include operation for navigation '"[m].Vehicle"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 16:54:11.334 +07:00 [Warning] The Include operation for navigation '"[m].Route"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 16:54:11.371 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 16:54:11.387 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 255.8431ms.
2018-07-16 16:54:11.388 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 16:54:11.401 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 13.6434ms.
2018-07-16 16:54:11.401 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 279.3429ms
2018-07-16 16:54:11.401 +07:00 [Information] Request finished in 298.9131ms 200 text/html; charset=utf-8
2018-07-16 16:54:12.701 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 16:54:12.702 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:54:12.703 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:54:12.708 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:54:12.710 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:54:12.715 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:54:12.722 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:54:12.728 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:54:12.732 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:54:12.738 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:54:12.742 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:54:12.742 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.5152ms.
2018-07-16 16:54:12.742 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:54:12.745 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.2794ms.
2018-07-16 16:54:12.745 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.5015ms
2018-07-16 16:54:12.745 +07:00 [Information] Request finished in 44.6788ms 200 text/html; charset=utf-8
2018-07-16 16:54:17.910 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:54:17.917 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:54:17.919 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:54:17.924 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:54:17.925 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:54:17.929 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:54:17.933 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:54:17.941 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:54:17.950 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 25.2454ms.
2018-07-16 16:54:17.950 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:54:17.951 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 32.6475ms
2018-07-16 16:54:17.951 +07:00 [Information] Request finished in 40.5721ms 200 application/json; charset=utf-8
2018-07-16 16:54:18.787 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:54:18.789 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:54:18.789 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:54:18.794 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:54:18.795 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:54:18.799 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:54:18.803 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:54:18.811 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:54:18.818 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 22.4139ms.
2018-07-16 16:54:18.818 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:54:18.818 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 28.8603ms
2018-07-16 16:54:18.818 +07:00 [Information] Request finished in 31.1392ms 200 application/json; charset=utf-8
2018-07-16 16:54:19.264 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 16:54:19.265 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:54:19.266 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:54:19.271 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:54:19.272 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 16:54:19.276 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:54:19.280 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:54:19.288 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:54:19.295 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 22.7852ms.
2018-07-16 16:54:19.295 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:54:19.295 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 29.7966ms
2018-07-16 16:54:19.295 +07:00 [Information] Request finished in 31.4353ms 200 application/json; charset=utf-8
2018-07-16 16:54:21.435 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/'/Admin/Route/ConfirmationTripsManager/TripChecked/99'  0
2018-07-16 16:54:21.438 +07:00 [Information] Request finished in 2.755ms 404 
2018-07-16 16:57:50.735 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 16:57:50.748 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:57:50.749 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:57:50.754 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:57:50.756 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:57:50.764 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:57:50.770 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:57:50.783 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:57:50.788 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:57:50.795 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:57:50.800 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:57:50.800 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 44.3102ms.
2018-07-16 16:57:50.800 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:57:51.144 +07:00 [Information] Executed ViewResult - view "Edit" executed in 343.5657ms.
2018-07-16 16:57:51.144 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 396.0775ms
2018-07-16 16:57:51.145 +07:00 [Information] Request finished in 409.4919ms 200 text/html; charset=utf-8
2018-07-16 16:57:51.169 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 16:57:51.169 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 16:57:51.170 +07:00 [Information] Request finished in 1.0588ms 304 text/css
2018-07-16 16:57:51.175 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 16:57:51.177 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 16:57:51.177 +07:00 [Information] Request finished in 3.6455ms 304 application/javascript
2018-07-16 16:57:55.858 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:57:55.865 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:57:55.865 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:57:55.870 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:57:55.871 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:57:55.875 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:57:55.880 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:57:55.886 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:57:55.891 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:57:55.896 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:57:55.900 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:57:55.900 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.22ms.
2018-07-16 16:57:55.900 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:57:55.900 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 35.2926ms
2018-07-16 16:57:55.901 +07:00 [Information] Request finished in 42.5448ms 200 application/json; charset=utf-8
2018-07-16 16:57:55.911 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:57:55.918 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:57:55.918 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:57:55.923 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:57:55.924 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:57:55.930 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:57:55.931 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.6605ms.
2018-07-16 16:57:55.931 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:57:55.932 +07:00 [Information] Executed ViewResult - view "Details" executed in 1.0556ms.
2018-07-16 16:57:55.932 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 13.8842ms
2018-07-16 16:57:55.932 +07:00 [Information] Request finished in 21.3196ms 200 text/html; charset=utf-8
2018-07-16 16:57:57.863 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 16:57:57.876 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 16:57:57.877 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:57:57.883 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:57:57.884 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 16:57:57.889 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 16:57:57.895 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:57:57.906 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 16:57:57.917 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 32.317ms.
2018-07-16 16:57:57.917 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:57:57.917 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 41.3397ms
2018-07-16 16:57:57.917 +07:00 [Information] Request finished in 54.1318ms 200 application/json; charset=utf-8
2018-07-16 16:57:59.351 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 16:57:59.352 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 16:57:59.353 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:57:59.360 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:57:59.362 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:57:59.367 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 16:57:59.373 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:57:59.380 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:57:59.384 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:57:59.389 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:57:59.395 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:57:59.409 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 16:57:59.428 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 65.4881ms.
2018-07-16 16:57:59.428 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 16:57:59.428 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 75.8544ms
2018-07-16 16:57:59.428 +07:00 [Information] Request finished in 77.1089ms 200 application/json; charset=utf-8
2018-07-16 16:57:59.435 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 16:57:59.437 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 16:57:59.437 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:57:59.442 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:57:59.443 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:57:59.448 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:57:59.449 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 5.6598ms.
2018-07-16 16:57:59.449 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 16:57:59.449 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.2103ms.
2018-07-16 16:57:59.449 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 12.5281ms
2018-07-16 16:57:59.450 +07:00 [Information] Request finished in 14.1848ms 200 text/html; charset=utf-8
2018-07-16 16:59:17.037 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 16:59:17.046 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 16:59:17.047 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 16:59:17.052 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 16:59:17.053 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 16:59:17.059 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 16:59:17.064 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 16:59:17.070 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:59:17.074 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:59:17.083 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 16:59:17.087 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 16:59:17.088 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.0292ms.
2018-07-16 16:59:17.088 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 16:59:17.289 +07:00 [Information] Executed ViewResult - view "Edit" executed in 201.2349ms.
2018-07-16 16:59:17.289 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 243.1025ms
2018-07-16 16:59:17.289 +07:00 [Information] Request finished in 252.2324ms 200 text/html; charset=utf-8
2018-07-16 17:01:27.502 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:01:27.509 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:01:27.509 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:01:27.515 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:01:27.516 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:01:27.522 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:01:27.527 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:01:27.540 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:01:27.545 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:01:27.550 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:01:27.554 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:01:27.554 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 38.0179ms.
2018-07-16 17:01:27.829 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 320.3158ms
2018-07-16 17:01:28.197 +07:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\Areas\Route\Views\ConfirmationTripsManager\Edit.cshtml(56,40): error CS1003: Syntax error, ',' expected
D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\Areas\Route\Views\ConfirmationTripsManager\Edit.cshtml(56,52): error CS1003: Syntax error, ',' expected
D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\Areas\Route\Views\ConfirmationTripsManager\Edit.cshtml(56,53): error CS1003: Syntax error, ',' expected
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.OnCacheMiss(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-07-16 17:01:28.209 +07:00 [Information] Request finished in 707.4323ms 500 text/html; charset=utf-8
2018-07-16 17:01:36.524 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:01:36.531 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:01:36.532 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:01:36.537 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:01:36.537 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:01:36.543 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:01:36.549 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:01:36.556 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:01:36.560 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:01:36.565 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:01:36.569 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:01:36.569 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.9852ms.
2018-07-16 17:01:36.770 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:01:36.791 +07:00 [Information] Executed ViewResult - view "Edit" executed in 221.1849ms.
2018-07-16 17:01:36.791 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 259.5646ms
2018-07-16 17:01:36.791 +07:00 [Information] Request finished in 267.3044ms 200 text/html; charset=utf-8
2018-07-16 17:01:36.808 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:01:36.812 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:01:36.813 +07:00 [Information] Request finished in 4.2785ms 304 text/css
2018-07-16 17:01:36.818 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:01:36.818 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:01:36.819 +07:00 [Information] Request finished in 0.9565ms 304 application/javascript
2018-07-16 17:01:44.742 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 17:01:44.749 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:01:44.750 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:01:44.758 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:01:44.759 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 17:01:44.764 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:01:44.768 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:01:44.777 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 17:01:44.823 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 17:01:44.865 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 105.53ms.
2018-07-16 17:01:44.865 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:01:44.865 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 115.8008ms
2018-07-16 17:01:44.865 +07:00 [Information] Request finished in 123.1556ms 200 application/json; charset=utf-8
2018-07-16 17:01:44.875 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 17:01:44.882 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 17:01:44.883 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:01:44.887 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:01:44.888 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:01:44.894 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:01:44.895 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 6.7104ms.
2018-07-16 17:01:44.895 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 17:01:44.899 +07:00 [Information] Executed ViewResult - view "Details" executed in 4.1964ms.
2018-07-16 17:01:44.899 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 16.7404ms
2018-07-16 17:01:44.899 +07:00 [Information] Request finished in 24.0386ms 200 text/html; charset=utf-8
2018-07-16 17:01:48.823 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:01:48.825 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:01:48.826 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:01:48.831 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:01:48.832 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:01:48.837 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:01:48.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:01:48.847 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:01:48.852 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:01:48.858 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:01:48.862 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:01:48.862 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.9829ms.
2018-07-16 17:01:48.862 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:01:48.863 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5514ms.
2018-07-16 17:01:48.863 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 38.5215ms
2018-07-16 17:01:48.864 +07:00 [Information] Request finished in 40.5315ms 200 text/html; charset=utf-8
2018-07-16 17:03:12.801 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:03:12.822 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:03:12.823 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:03:12.830 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:03:12.830 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:03:12.836 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:03:12.841 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:03:12.846 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:03:12.850 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:03:12.855 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:03:12.860 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:03:12.860 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.5102ms.
2018-07-16 17:03:13.085 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:03:13.102 +07:00 [Information] Executed ViewResult - view "Edit" executed in 241.6536ms.
2018-07-16 17:03:13.102 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 279.1269ms
2018-07-16 17:03:13.102 +07:00 [Information] Request finished in 301.3946ms 200 text/html; charset=utf-8
2018-07-16 17:03:39.175 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:03:39.183 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:03:39.184 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:03:39.190 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:03:39.191 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:03:39.198 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:03:39.205 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:03:39.211 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:03:39.215 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:03:39.220 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:03:39.224 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:03:39.224 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.1705ms.
2018-07-16 17:03:39.447 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:03:39.476 +07:00 [Information] Executed ViewResult - view "Edit" executed in 251.5888ms.
2018-07-16 17:03:39.476 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 292.6614ms
2018-07-16 17:03:39.477 +07:00 [Information] Request finished in 301.3709ms 200 text/html; charset=utf-8
2018-07-16 17:03:39.499 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:03:39.499 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:03:39.500 +07:00 [Information] Request finished in 2.6378ms 304 text/css
2018-07-16 17:03:39.501 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:03:39.501 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:03:39.501 +07:00 [Information] Request finished in 0.7328ms 304 application/javascript
2018-07-16 17:04:03.432 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?page=1&ConfirmationTripsId=99&StudentCheckOutId=5  
2018-07-16 17:04:03.434 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:04:03.435 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:04:03.441 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:04:03.442 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:04:03.452 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:04:03.461 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:04:03.467 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:04:03.473 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:04:03.479 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:04:03.483 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:04:03.483 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 41.1918ms.
2018-07-16 17:04:03.484 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:04:03.485 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.7981ms.
2018-07-16 17:04:03.485 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 51.5053ms
2018-07-16 17:04:03.486 +07:00 [Information] Request finished in 53.7843ms 200 text/html; charset=utf-8
2018-07-16 17:04:03.531 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:04:03.532 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:04:03.532 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:04:03.532 +07:00 [Information] Request finished in 1.6563ms 304 text/css
2018-07-16 17:04:03.532 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:04:03.532 +07:00 [Information] Request finished in 0.4345ms 304 application/javascript
2018-07-16 17:04:04.327 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/favicon.ico  
2018-07-16 17:04:04.329 +07:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\favicon.ico"'
2018-07-16 17:04:04.329 +07:00 [Information] Request finished in 1.6234ms 200 image/x-icon
2018-07-16 17:04:17.489 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:04:17.492 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:04:17.492 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:04:17.498 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:04:17.499 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:04:17.505 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:04:17.514 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:04:17.521 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:04:17.527 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:04:17.532 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:04:17.538 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:04:17.538 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 39.6418ms.
2018-07-16 17:04:17.539 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:04:17.540 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.6865ms.
2018-07-16 17:04:17.540 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 48.6588ms
2018-07-16 17:04:17.541 +07:00 [Information] Request finished in 51.2632ms 200 text/html; charset=utf-8
2018-07-16 17:05:16.607 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:05:16.618 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:05:16.618 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:05:16.967 +07:00 [Information] Executed DbCommand ("347"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:05:16.967 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:05:17.034 +07:00 [Information] Executed DbCommand ("66"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:05:17.040 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:05:17.045 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:05:17.050 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:05:17.055 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:05:17.059 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:05:17.059 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 91.8189ms.
2018-07-16 17:05:17.262 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:05:17.279 +07:00 [Information] Executed ViewResult - view "Edit" executed in 220.0684ms.
2018-07-16 17:05:17.280 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 661.7703ms
2018-07-16 17:05:17.280 +07:00 [Information] Request finished in 672.4753ms 200 text/html; charset=utf-8
2018-07-16 17:08:18.464 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:08:19.003 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:08:19.507 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:08:19.705 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:08:19.856 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:08:19.946 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:08:20.105 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:08:20.188 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:08:20.225 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:08:20.243 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:08:20.248 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:08:20.254 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 394.2279ms.
2018-07-16 17:08:20.271 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:08:20.439 +07:00 [Information] Executed ViewResult - view "Edit" executed in 171.875ms.
2018-07-16 17:08:20.442 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1438.6757ms
2018-07-16 17:08:20.469 +07:00 [Information] Request finished in 2009.093ms 200 text/html; charset=utf-8
2018-07-16 17:08:20.472 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:08:20.472 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:08:20.488 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 17:08:20.488 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 17:08:20.489 +07:00 [Information] Request finished in 16.9399ms 200 application/javascript
2018-07-16 17:08:20.489 +07:00 [Information] Request finished in 17.0193ms 200 text/css
2018-07-16 17:08:39.543 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:08:39.546 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:08:39.547 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:08:39.553 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:08:39.555 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:08:39.561 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:08:39.567 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:08:39.573 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:08:39.577 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:08:39.584 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:08:39.588 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:08:39.589 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.6934ms.
2018-07-16 17:08:39.589 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:08:39.591 +07:00 [Information] Executed ViewResult - view "Edit" executed in 2.2989ms.
2018-07-16 17:08:39.591 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 45.5251ms
2018-07-16 17:08:39.592 +07:00 [Information] Request finished in 48.8373ms 200 text/html; charset=utf-8
2018-07-16 17:08:39.610 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:08:39.611 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:08:39.613 +07:00 [Information] Request finished in 3.1336ms 304 text/css
2018-07-16 17:08:39.613 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:08:39.613 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:08:39.614 +07:00 [Information] Request finished in 0.6122ms 304 application/javascript
2018-07-16 17:11:18.577 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:11:18.592 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:11:18.594 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:18.604 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:18.606 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:11:18.612 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:11:18.618 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:11:18.623 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:11:18.627 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:11:18.634 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:11:18.638 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:11:18.638 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.8204ms.
2018-07-16 17:11:20.133 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:11:20.151 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1512.3855ms.
2018-07-16 17:11:20.151 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1558.8602ms
2018-07-16 17:11:20.151 +07:00 [Information] Request finished in 1574.4694ms 200 text/html; charset=utf-8
2018-07-16 17:11:20.174 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:11:20.174 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:11:20.177 +07:00 [Information] Request finished in 3.8733ms 304 text/css
2018-07-16 17:11:20.179 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:11:20.180 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:11:20.180 +07:00 [Information] Request finished in 0.9067ms 304 application/javascript
2018-07-16 17:11:22.099 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 17:11:22.107 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:11:22.107 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:22.112 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:22.136 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 17:11:22.161 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:11:22.187 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:11:22.367 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 17:11:22.419 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 282.1318ms.
2018-07-16 17:11:22.422 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:22.435 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 328.4459ms
2018-07-16 17:11:22.435 +07:00 [Information] Request finished in 336.3348ms 200 application/json; charset=utf-8
2018-07-16 17:11:28.196 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 17:11:28.198 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:11:28.199 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:28.204 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:28.205 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 17:11:28.210 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:11:28.214 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:11:28.222 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 17:11:28.234 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.0809ms.
2018-07-16 17:11:28.235 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:28.235 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 37.2219ms
2018-07-16 17:11:28.235 +07:00 [Information] Request finished in 38.9996ms 200 application/json; charset=utf-8
2018-07-16 17:11:29.488 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 17:11:29.496 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 17:11:29.496 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:29.502 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:29.513 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:11:29.528 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 17:11:29.535 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:11:29.542 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:11:29.546 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:11:29.551 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:11:29.554 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:11:29.555 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 41.9577ms.
2018-07-16 17:11:29.556 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:29.556 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 59.6869ms
2018-07-16 17:11:29.556 +07:00 [Information] Request finished in 67.5356ms 200 application/json; charset=utf-8
2018-07-16 17:11:29.573 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 17:11:29.582 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 17:11:29.583 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:29.589 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:29.590 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:11:29.598 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:11:29.599 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 8.4292ms.
2018-07-16 17:11:29.600 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 17:11:29.600 +07:00 [Information] Executed ViewResult - view "Details" executed in 1.6172ms.
2018-07-16 17:11:29.601 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 18.4473ms
2018-07-16 17:11:29.601 +07:00 [Information] Request finished in 28.0386ms 200 text/html; charset=utf-8
2018-07-16 17:11:31.116 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 17:11:31.117 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:11:31.118 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:31.123 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:31.124 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 17:11:31.128 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:11:31.135 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[DeviceId], [x].[Direction], [x].[District], [x].[FingerId], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[IsScan], [x].[IsTransportCompany], [x].[Lat], [x].[Lng], [x].[Location], [x].[NoteCheckerComputer], [x].[SchoolId], [x].[Status], [x].[Street], [x].[StreetNum], [x].[StudentId], [x].[TransportCompanyId], [x].[Type], [x].[VehicleId], [x].[Ward]
FROM [StudentCheckOut] AS [x]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:11:31.144 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p24='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [StudentCheckOut] SET [CheckOutDate] = @p0, [City] = @p1, [CreatedDate] = @p2, [DeviceId] = @p3, [Direction] = @p4, [District] = @p5, [FingerId] = @p6, [IsCheckerCenter] = @p7, [IsCheckerComputer] = @p8, [IsScan] = @p9, [IsTransportCompany] = @p10, [Lat] = @p11, [Lng] = @p12, [Location] = @p13, [NoteCheckerComputer] = @p14, [SchoolId] = @p15, [Status] = @p16, [Street] = @p17, [StreetNum] = @p18, [StudentId] = @p19, [TransportCompanyId] = @p20, [Type] = @p21, [VehicleId] = @p22, [Ward] = @p23
WHERE [Id] = @p24;
SELECT @@ROWCOUNT;"
2018-07-16 17:11:31.151 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 26.8965ms.
2018-07-16 17:11:31.151 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:31.152 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 34.2304ms
2018-07-16 17:11:31.152 +07:00 [Information] Request finished in 36.551ms 200 application/json; charset=utf-8
2018-07-16 17:11:32.943 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 17:11:32.944 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 17:11:32.944 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:32.949 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:32.950 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:11:32.954 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 17:11:32.960 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:11:32.966 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:11:32.970 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:11:32.976 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:11:32.980 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:11:32.998 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 17:11:33.010 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 60.1794ms.
2018-07-16 17:11:33.010 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:33.010 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 66.3294ms
2018-07-16 17:11:33.011 +07:00 [Information] Request finished in 67.4866ms 200 application/json; charset=utf-8
2018-07-16 17:11:33.019 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 17:11:33.020 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 17:11:33.020 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:33.026 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:33.027 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:11:33.032 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:11:33.032 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 5.5519ms.
2018-07-16 17:11:33.033 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 17:11:33.033 +07:00 [Information] Executed ViewResult - view "Details" executed in 0.2326ms.
2018-07-16 17:11:33.033 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 13.0649ms
2018-07-16 17:11:33.033 +07:00 [Information] Request finished in 14.4588ms 200 text/html; charset=utf-8
2018-07-16 17:11:36.562 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 17:11:36.565 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:11:36.566 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:36.571 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:36.571 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "False", "99"]) - Validation state: Valid
2018-07-16 17:11:36.575 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:11:36.576 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 4.1075ms.
2018-07-16 17:11:36.576 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:36.576 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 10.3445ms
2018-07-16 17:11:36.576 +07:00 [Information] Request finished in 13.5765ms 200 application/json; charset=utf-8
2018-07-16 17:11:37.012 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 39
2018-07-16 17:11:37.013 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:11:37.013 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:37.018 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:37.019 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "False", "99"]) - Validation state: Valid
2018-07-16 17:11:37.025 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:11:37.025 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 5.2591ms.
2018-07-16 17:11:37.025 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:37.025 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 12.4587ms
2018-07-16 17:11:37.025 +07:00 [Information] Request finished in 13.6411ms 200 application/json; charset=utf-8
2018-07-16 17:11:37.957 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 17:11:37.959 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:11:37.959 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:37.964 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:37.964 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 17:11:37.969 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:11:37.969 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 4.8296ms.
2018-07-16 17:11:37.969 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:37.970 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 10.9311ms
2018-07-16 17:11:37.971 +07:00 [Information] Request finished in 14.213ms 200 application/json; charset=utf-8
2018-07-16 17:11:38.530 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 17:11:38.531 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:11:38.532 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:38.537 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:38.538 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 17:11:38.543 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:11:38.544 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 5.5604ms.
2018-07-16 17:11:38.544 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:38.544 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 12.8611ms
2018-07-16 17:11:38.544 +07:00 [Information] Request finished in 14.6943ms 200 application/json; charset=utf-8
2018-07-16 17:11:38.935 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 17:11:38.937 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:11:38.938 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:38.943 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:38.944 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["5", "True", "99"]) - Validation state: Valid
2018-07-16 17:11:38.950 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:11:38.950 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 6.1635ms.
2018-07-16 17:11:38.950 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:38.950 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 13.4636ms
2018-07-16 17:11:38.951 +07:00 [Information] Request finished in 15.512ms 200 application/json; charset=utf-8
2018-07-16 17:11:39.587 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/ChangeStatusStrip application/x-www-form-urlencoded; charset=UTF-8 38
2018-07-16 17:11:39.589 +07:00 [Information] Route matched with "{area = \"Route\", action = \"ChangeStatusStrip\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)"
2018-07-16 17:11:39.589 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:39.594 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:39.595 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" with arguments (["7", "True", "99"]) - Validation state: Valid
2018-07-16 17:11:39.599 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__confirmationTripsId_0"
2018-07-16 17:11:39.600 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 4.6414ms.
2018-07-16 17:11:39.600 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:11:39.600 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.ChangeStatusStrip (TN.UI)" in 11.0306ms
2018-07-16 17:11:39.600 +07:00 [Information] Request finished in 13.5834ms 200 application/json; charset=utf-8
2018-07-16 17:11:43.648 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:11:43.650 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:11:43.650 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:11:43.657 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:11:43.660 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:11:43.665 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:11:43.671 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:11:43.679 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:11:43.684 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:11:43.688 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:11:43.693 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:11:43.693 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.0969ms.
2018-07-16 17:11:43.693 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:11:43.694 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.5855ms.
2018-07-16 17:11:43.695 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 44.8871ms
2018-07-16 17:11:43.695 +07:00 [Information] Request finished in 46.4151ms 200 text/html; charset=utf-8
2018-07-16 17:11:43.719 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:11:43.719 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:11:43.719 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:11:43.719 +07:00 [Information] Request finished in 0.6611ms 304 application/javascript
2018-07-16 17:11:43.720 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:11:43.720 +07:00 [Information] Request finished in 1.2152ms 304 text/css
2018-07-16 17:12:10.566 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:12:10.574 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:12:10.574 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:12:10.580 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:12:10.580 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:12:10.586 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:12:10.591 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:12:10.600 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:12:10.605 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:12:10.610 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:12:10.613 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:12:10.613 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.0746ms.
2018-07-16 17:12:10.925 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:12:10.943 +07:00 [Information] Executed ViewResult - view "Edit" executed in 329.296ms.
2018-07-16 17:12:10.943 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 368.8791ms
2018-07-16 17:12:10.943 +07:00 [Information] Request finished in 377.5714ms 200 text/html; charset=utf-8
2018-07-16 17:12:10.961 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:12:10.961 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:12:10.961 +07:00 [Information] Request finished in 1.2834ms 304 text/css
2018-07-16 17:12:10.962 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:12:10.962 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:12:10.962 +07:00 [Information] Request finished in 0.4165ms 304 application/javascript
2018-07-16 17:12:50.839 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:12:50.849 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:12:50.849 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:12:50.854 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:12:50.854 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:12:50.860 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:12:50.864 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:12:50.870 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:12:50.873 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:12:50.879 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:12:50.883 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:12:50.883 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 28.4627ms.
2018-07-16 17:12:51.097 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:12:51.112 +07:00 [Information] Executed ViewResult - view "Edit" executed in 228.7348ms.
2018-07-16 17:12:51.112 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 263.2865ms
2018-07-16 17:12:51.112 +07:00 [Information] Request finished in 273.2321ms 200 text/html; charset=utf-8
2018-07-16 17:12:51.130 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:12:51.131 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:12:51.131 +07:00 [Information] Request finished in 1.3881ms 304 text/css
2018-07-16 17:12:51.134 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:12:51.135 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:12:51.135 +07:00 [Information] Request finished in 1.6326ms 304 application/javascript
2018-07-16 17:14:02.416 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:14:02.422 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:14:02.423 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:14:02.430 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:14:02.431 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:14:02.436 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:14:02.442 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:14:02.447 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:14:02.451 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:14:02.456 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:14:02.460 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:14:02.460 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.2536ms.
2018-07-16 17:14:02.663 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:14:02.682 +07:00 [Information] Executed ViewResult - view "Edit" executed in 221.1251ms.
2018-07-16 17:14:02.682 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 259.2103ms
2018-07-16 17:14:02.682 +07:00 [Information] Request finished in 266.5344ms 200 text/html; charset=utf-8
2018-07-16 17:14:02.701 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:14:02.702 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:14:02.702 +07:00 [Information] Request finished in 1.2325ms 304 text/css
2018-07-16 17:14:02.704 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:14:02.706 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:14:02.706 +07:00 [Information] Request finished in 2.0374ms 304 application/javascript
2018-07-16 17:14:20.846 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:14:20.853 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:14:20.853 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:14:20.859 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:14:20.860 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:14:20.865 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:14:20.871 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:14:20.877 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:14:20.882 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:14:20.887 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:14:20.891 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:14:20.891 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.3118ms.
2018-07-16 17:14:21.180 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:14:21.196 +07:00 [Information] Executed ViewResult - view "Edit" executed in 304.6837ms.
2018-07-16 17:14:21.196 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 342.9958ms
2018-07-16 17:14:21.196 +07:00 [Information] Request finished in 350.6568ms 200 text/html; charset=utf-8
2018-07-16 17:14:39.883 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:14:39.885 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:14:39.886 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:14:39.895 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:14:39.899 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:14:39.906 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:14:39.912 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:14:39.919 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:14:39.923 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:14:39.928 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:14:39.932 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:14:39.932 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 33.5669ms.
2018-07-16 17:14:39.933 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:14:39.934 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.6366ms.
2018-07-16 17:14:39.934 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 48.5328ms
2018-07-16 17:14:39.934 +07:00 [Information] Request finished in 51.3494ms 200 text/html; charset=utf-8
2018-07-16 17:14:39.963 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:14:39.965 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:14:39.965 +07:00 [Information] Request finished in 1.263ms 304 text/css
2018-07-16 17:14:39.965 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:14:39.966 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:14:39.966 +07:00 [Information] Request finished in 0.539ms 304 application/javascript
2018-07-16 17:14:42.814 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note?confirmationTripsId=99&studentCheckOutId=5  
2018-07-16 17:14:42.820 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)"
2018-07-16 17:14:42.820 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:14:42.825 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:14:42.826 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" with arguments (["99", "5"]) - Validation state: Valid
2018-07-16 17:14:42.827 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.6989ms.
2018-07-16 17:14:42.829 +07:00 [Information] Executing ViewResult, running view "Note".
2018-07-16 17:14:42.877 +07:00 [Information] Executed ViewResult - view "Note" executed in 49.5985ms.
2018-07-16 17:14:42.877 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Note (TN.UI)" in 56.7985ms
2018-07-16 17:14:42.877 +07:00 [Information] Request finished in 63.416ms 200 text/html; charset=utf-8
2018-07-16 17:14:42.895 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 17:14:42.904 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 17:14:42.905 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:14:42.911 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:14:42.912 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 17:14:42.950 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 17:14:43.016 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 17:14:43.028 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 115.7659ms.
2018-07-16 17:14:43.029 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 17:14:43.040 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 11.4429ms.
2018-07-16 17:14:43.040 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 135.3531ms
2018-07-16 17:14:43.041 +07:00 [Information] Request finished in 146.0286ms 200 text/html; charset=utf-8
2018-07-16 17:14:45.205 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/CreateNote application/x-www-form-urlencoded; charset=UTF-8 285
2018-07-16 17:14:45.219 +07:00 [Information] Route matched with "{area = \"Route\", action = \"CreateNote\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)"
2018-07-16 17:14:45.219 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:14:45.229 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:14:45.237 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" with arguments (["TN.Domain.Model.NoteConfirmationTripsModel", "99", "5"]) - Validation state: Valid
2018-07-16 17:14:45.330 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NoteConfirmationTrips] ([ConfirmationTripsId], [Content], [CreatedDate], [CreatedUser], [StudentCheckOutId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [NoteConfirmationTrips]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2018-07-16 17:14:45.349 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 111.4621ms.
2018-07-16 17:14:45.349 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:14:45.349 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.CreateNotePost (TN.UI)" in 130.1308ms
2018-07-16 17:14:45.349 +07:00 [Information] Request finished in 143.8267ms 200 application/json; charset=utf-8
2018-07-16 17:14:45.567 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/Note application/x-www-form-urlencoded; charset=UTF-8 49
2018-07-16 17:14:45.569 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Note\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)"
2018-07-16 17:14:45.570 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:14:45.576 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:14:45.576 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" with arguments (["1", "99", "5"]) - Validation state: Valid
2018-07-16 17:14:45.582 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [user].[Id], [user].[AccessFailedCount], [user].[Avatar], [user].[ConcurrencyStamp], [user].[CreatedDate], [user].[CreatedUserId], [user].[DisplayName], [user].[Email], [user].[EmailConfirmed], [user].[IsLock], [user].[IsReLogin], [user].[IsSuperAdmin], [user].[LockoutEnabled], [user].[LockoutEnd], [user].[NormalizedEmail], [user].[NormalizedUserName], [user].[Note], [user].[NoteLock], [user].[PasswordHash], [user].[PhoneNumber], [user].[PhoneNumberConfirmed], [user].[RoleParents], [user].[RoleSchool], [user].[RoleTransportCompany], [user].[SecurityStamp], [user].[TwoFactorEnabled], [user].[UpdatedDate], [user].[UpdatedUserId], [user].[UserName], [m].[Id] AS [Id0], [m].[ConfirmationTripsId], [m].[Content], [m].[CreatedDate] AS [CreatedDate0], [m].[CreatedUser], [m].[StudentCheckOutId], [m].[Type]
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)
ORDER BY [CreatedDate0]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY"
2018-07-16 17:14:45.587 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32), @__studentCheckOutId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [NoteConfirmationTrips] AS [m]
LEFT JOIN [adm].[User] AS [user] ON [m].[CreatedUser] = [user].[Id]
WHERE ([m].[ConfirmationTripsId] = @__confirmationTripsId_0) AND ([m].[StudentCheckOutId] = @__studentCheckOutId_1)"
2018-07-16 17:14:45.588 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.1964ms.
2018-07-16 17:14:45.588 +07:00 [Information] Executing ViewResult, running view "NoteAjax".
2018-07-16 17:14:45.589 +07:00 [Information] Executed ViewResult - view "NoteAjax" executed in 0.782ms.
2018-07-16 17:14:45.590 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.NotePost (TN.UI)" in 21.1166ms
2018-07-16 17:14:45.591 +07:00 [Information] Request finished in 23.6855ms 200 text/html; charset=utf-8
2018-07-16 17:15:13.084 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Logout application/x-www-form-urlencoded 225
2018-07-16 17:15:13.094 +07:00 [Information] Route matched with "{area = \"User\", action = \"Logout\", controller = \"Account\"}". Executing action "TN.UI.Areas.User.Controllers.AccountController.Logout (TN.UI)"
2018-07-16 17:15:13.101 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.AccountController.Logout (TN.UI)" - Validation state: Valid
2018-07-16 17:15:13.109 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-07-16 17:15:13.110 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-07-16 17:15:13.111 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-07-16 17:15:13.112 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.AccountController.Logout (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.RedirectToActionResult" in 10.1499ms.
2018-07-16 17:15:13.115 +07:00 [Information] Executing RedirectResult, redirecting to "/Admin".
2018-07-16 17:15:13.115 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.AccountController.Logout (TN.UI)" in 21.6823ms
2018-07-16 17:15:13.116 +07:00 [Information] Request finished in 31.942ms 302 
2018-07-16 17:15:13.122 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin  
2018-07-16 17:15:13.126 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-16 17:15:13.127 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:15:13.132 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:15:13.132 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2018-07-16 17:15:13.132 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-07-16 17:15:13.132 +07:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2018-07-16 17:15:13.133 +07:00 [Information] Authorization failed for the request at filter '"TN.UI.Extensions.PermissionFilter"'.
2018-07-16 17:15:13.134 +07:00 [Information] Executing RedirectResult, redirecting to "/Login?ReturnUrl=%2FAdmin".
2018-07-16 17:15:13.134 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 7.9114ms
2018-07-16 17:15:13.134 +07:00 [Information] Request finished in 12.4442ms 302 
2018-07-16 17:15:13.142 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Login?ReturnUrl=%2FAdmin  
2018-07-16 17:15:13.147 +07:00 [Information] Route matched with "{area = \"User\", action = \"Login\", controller = \"Account\"}". Executing action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)"
2018-07-16 17:15:13.148 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" with arguments (["/Admin"]) - Validation state: Valid
2018-07-16 17:15:13.149 +07:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2018-07-16 17:15:13.149 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.3368ms.
2018-07-16 17:15:13.151 +07:00 [Information] Executing ViewResult, running view "Login".
2018-07-16 17:15:13.195 +07:00 [Information] Executed ViewResult - view "Login" executed in 45.9268ms.
2018-07-16 17:15:13.195 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" in 48.3304ms
2018-07-16 17:15:13.195 +07:00 [Information] Request finished in 53.0621ms 200 text/html; charset=utf-8
2018-07-16 17:15:13.218 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js?v=uGEmHVBVwqSwceRoffkJ4JsqPQI9uYkMXT592pcUwAs  
2018-07-16 17:15:13.221 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 17:15:13.221 +07:00 [Information] Request finished in 3.8115ms 200 application/javascript
2018-07-16 17:15:22.538 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Login?ReturnUrl=%2FAdmin application/x-www-form-urlencoded 256
2018-07-16 17:15:22.543 +07:00 [Information] Route matched with "{area = \"User\", action = \"Login\", controller = \"Account\"}". Executing action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)"
2018-07-16 17:15:22.548 +07:00 [Information] Executing action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" with arguments (["TN.Domain.Model.LoginViewModel", "/Admin"]) - Validation state: Valid
2018-07-16 17:15:22.552 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:15:22.566 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__model_Username_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[Avatar], [m].[ConcurrencyStamp], [m].[CreatedDate], [m].[CreatedUserId], [m].[DisplayName], [m].[Email], [m].[EmailConfirmed], [m].[IsLock], [m].[IsReLogin], [m].[IsSuperAdmin], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Note], [m].[NoteLock], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RoleParents], [m].[RoleSchool], [m].[RoleTransportCompany], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UpdatedDate], [m].[UpdatedUserId], [m].[UserName]
FROM [adm].[User] AS [m]
WHERE [m].[UserName] = @__model_Username_0"
2018-07-16 17:15:22.585 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[CreatedUserId], [u].[DisplayName], [u].[Email], [u].[EmailConfirmed], [u].[IsLock], [u].[IsReLogin], [u].[IsSuperAdmin], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Note], [u].[NoteLock], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RoleParents], [u].[RoleSchool], [u].[RoleTransportCompany], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedDate], [u].[UpdatedUserId], [u].[UserName]
FROM [adm].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
2018-07-16 17:15:22.649 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [adm].[UserClaim] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0"
2018-07-16 17:15:22.667 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].ControllerId).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 17:15:22.668 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].RoleController).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 17:15:22.668 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select [<generated>_1].Name).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 17:15:22.668 +07:00 [Warning] Query: '"(from RoleAction <generated>_1 in [m] select (Nullable<int>)[<generated>_1].Id).FirstOrDefault()"' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2018-07-16 17:15:22.677 +07:00 [Warning] The LINQ expression '"GroupBy([m].Id, [m])"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.678 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.678 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.681 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.681 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.681 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.683 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.683 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.684 +07:00 [Warning] The LINQ expression '"join RoleController r.RoleController in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[TN.Domain.Model.RoleController]) on Property([<generated>_1], \"ControllerId\") equals Property([r.RoleController], \"Id\")"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.684 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.684 +07:00 [Warning] The LINQ expression '"DefaultIfEmpty()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.684 +07:00 [Warning] The LINQ expression '"from RoleController r.RoleController in {[r.RoleController_group] => DefaultIfEmpty()}"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.684 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.685 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.685 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.685 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.686 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.686 +07:00 [Warning] The LINQ expression '"FirstOrDefault()"' could not be translated and will be evaluated locally.
2018-07-16 17:15:22.707 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ActionName], [m].[ControllerId], [m].[Name], [m].[Order], [m].[Status]
FROM [adm].[RoleAction] AS [m]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [x]
    WHERE ([x].[UserId] = @__userId_0) AND EXISTS (
        SELECT 1
        FROM [adm].[RoleDetail] AS [r]
        WHERE ([r].[RoleId] = [x].[RoleId]) AND ([r].[ActionId] = [m].[Id])))
ORDER BY [m].[Id]"
2018-07-16 17:15:22.761 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.800 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.805 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.809 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.812 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.817 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.821 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.826 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.829 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.832 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.836 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.840 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.843 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r.RoleController0].[Id], [r.RoleController0].[AreaId]
FROM [adm].[RoleController] AS [r.RoleController0]"
2018-07-16 17:15:22.860 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConcurrencyStamp], [x].[Description], [x].[Name], [x].[NormalizedName], [x].[Type]
FROM [adm].[Role] AS [x]
WHERE EXISTS (
    SELECT 1
    FROM [adm].[UserRole] AS [m]
    WHERE ([m].[UserId] = @__userId_0) AND ([m].[RoleId] = [x].[Id]))"
2018-07-16 17:15:22.884 +07:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2018-07-16 17:15:22.906 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p28='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p29='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 256), @p14='?' (Size = 256), @p15='?' (Size = 4000), @p16='?' (Size = 1000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [adm].[User] SET [AccessFailedCount] = @p0, [Avatar] = @p1, [ConcurrencyStamp] = @p2, [CreatedDate] = @p3, [CreatedUserId] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsLock] = @p8, [IsReLogin] = @p9, [IsSuperAdmin] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [Note] = @p15, [NoteLock] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RoleParents] = @p20, [RoleSchool] = @p21, [RoleTransportCompany] = @p22, [SecurityStamp] = @p23, [TwoFactorEnabled] = @p24, [UpdatedDate] = @p25, [UpdatedUserId] = @p26, [UserName] = @p27
WHERE [Id] = @p28 AND [ConcurrencyStamp] = @p29;
SELECT @@ROWCOUNT;"
2018-07-16 17:15:22.918 +07:00 [Information] Executed action method "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 369.5057ms.
2018-07-16 17:15:22.918 +07:00 [Information] Executing RedirectResult, redirecting to "/Admin".
2018-07-16 17:15:22.918 +07:00 [Information] Executed action "TN.UI.Areas.User.Controllers.AccountController.Login (TN.UI)" in 374.8887ms
2018-07-16 17:15:22.918 +07:00 [Information] Request finished in 380.155ms 302 
2018-07-16 17:15:22.922 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin  
2018-07-16 17:15:22.923 +07:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "TN.UI.Controllers.HomeController.Index (TN.UI)"
2018-07-16 17:15:22.923 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:15:22.933 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:15:22.934 +07:00 [Information] Executing action method "TN.UI.Controllers.HomeController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:15:22.934 +07:00 [Information] Executed action method "TN.UI.Controllers.HomeController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1929ms.
2018-07-16 17:15:22.941 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:15:22.950 +07:00 [Information] Executed ViewResult - view "Index" executed in 15.5649ms.
2018-07-16 17:15:22.951 +07:00 [Information] Executed action "TN.UI.Controllers.HomeController.Index (TN.UI)" in 27.2574ms
2018-07-16 17:15:22.951 +07:00 [Information] Request finished in 28.4838ms 200 text/html; charset=utf-8
2018-07-16 17:15:22.989 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:15:22.990 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:15:22.990 +07:00 [Information] Request finished in 4.7876ms 304 text/css
2018-07-16 17:15:22.992 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:15:22.992 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:15:22.992 +07:00 [Information] Request finished in 0.628ms 304 application/javascript
2018-07-16 17:15:25.674 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Company/VehicleManager  
2018-07-16 17:15:25.681 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)"
2018-07-16 17:15:25.682 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:15:25.687 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:15:25.690 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:15:25.712 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[IsDelete]
FROM [TransportCompany] AS [x]
WHERE [x].[IsDelete] = 0
ORDER BY [x].[Name]"
2018-07-16 17:15:25.729 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [VehicleBrand] AS [x]
ORDER BY [x].[Name]"
2018-07-16 17:15:25.744 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name]
FROM [Provider] AS [x]
ORDER BY [x].[Name]"
2018-07-16 17:15:25.747 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 56.5982ms.
2018-07-16 17:15:25.751 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:15:25.795 +07:00 [Information] Executed ViewResult - view "Index" executed in 48.231ms.
2018-07-16 17:15:25.795 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.Index (TN.UI)" in 114.2728ms
2018-07-16 17:15:25.796 +07:00 [Information] Request finished in 121.3827ms 200 text/html; charset=utf-8
2018-07-16 17:15:26.089 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Company/VehicleManager application/x-www-form-urlencoded; charset=UTF-8 295
2018-07-16 17:15:26.105 +07:00 [Information] Route matched with "{area = \"Company\", action = \"Index\", controller = \"VehicleManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)"
2018-07-16 17:15:26.106 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:15:26.112 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:15:26.114 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "", "asc", "name", "", "", "", "", "", "", "", "", "", "False", "False", "False", "False"]) - Validation state: Valid
2018-07-16 17:15:26.171 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:15:26.171 +07:00 [Warning] The Include operation for navigation '"[m].VehicleBrand"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:15:26.280 +07:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__p_10='?' (DbType = Int32), @__p_11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m.VehicleGroup].[Id], [m.VehicleGroup].[Name], [m.VehicleFloorboardsType].[Id], [m.VehicleFloorboardsType].[Name], [m.VehicleBrand].[Id], [m.VehicleBrand].[Name], [m].[Id] AS [Id1], [m].[Aircon], [m].[Capacity], [m].[ContractEndDate], [m].[DeviceGPSId], [m].[DoorDown], [m].[DoorUp], [m].[DriverCode], [m].[Heading], [m].[Ignition], [m].[IsDelete], [m].[IsWorking], [m].[Lat], [m].[IsAirConditioner], [m].[Fuel], [m].[Note], [m].[Lng], [m].[NumOfSeat], [m].[Lpn], [m].[RegistryEndDate], [m].[SOS], [m].[Speed], [m].[Status], [m].[TrackingTime], [m].[TransportCompanyId] AS [Id0], [m.TransportCompany].[Name] AS [Name0], [m].[YearOfManufacture], [m].[TransportCompanyId], [m].[TransportCompanyStartDate], [m].[UnderwriteEndDate], [m].[Type], [m].[VehicleBrandId], [m].[VehicleFloorboardsTypeId], [m].[VehicleGroupId]
FROM [Vehicle] AS [m]
LEFT JOIN [VehicleGroup] AS [m.VehicleGroup] ON [m].[VehicleGroupId] = [m.VehicleGroup].[Id]
LEFT JOIN [VehicleFloorboardsType] AS [m.VehicleFloorboardsType] ON [m].[VehicleFloorboardsTypeId] = [m.VehicleFloorboardsType].[Id]
LEFT JOIN [VehicleBrand] AS [m.VehicleBrand] ON [m].[VehicleBrandId] = [m.VehicleBrand].[Id]
LEFT JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Lpn]
OFFSET @__p_10 ROWS FETCH NEXT @__p_11 ROWS ONLY"
2018-07-16 17:15:26.342 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:15:26.342 +07:00 [Warning] The Include operation for navigation '"[m].VehicleBrand"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:15:26.354 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Vehicle] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:15:26.359 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 245.7045ms.
2018-07-16 17:15:26.361 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:15:26.374 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 14.5222ms.
2018-07-16 17:15:26.374 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.VehicleManagerController.IndexPost (TN.UI)" in 268.7567ms
2018-07-16 17:15:26.375 +07:00 [Information] Request finished in 286.8743ms 200 text/html; charset=utf-8
2018-07-16 17:15:30.134 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager  
2018-07-16 17:15:30.138 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:15:30.138 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:15:30.148 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:15:30.150 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:15:30.150 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3274ms.
2018-07-16 17:15:30.152 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:15:30.193 +07:00 [Information] Executed ViewResult - view "Index" executed in 42.8764ms.
2018-07-16 17:15:30.193 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 55.4987ms
2018-07-16 17:15:30.194 +07:00 [Information] Request finished in 60.1767ms 200 text/html; charset=utf-8
2018-07-16 17:15:30.460 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:15:30.472 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:15:30.473 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:15:30.484 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:15:30.486 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:15:30.537 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:15:30.596 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:15:30.596 +07:00 [Warning] The Include operation for navigation '"[m].Vehicle"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:15:30.598 +07:00 [Warning] The Include operation for navigation '"[m].Route"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:15:30.610 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:15:30.614 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 126.5732ms.
2018-07-16 17:15:30.619 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:15:30.628 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 13.2133ms.
2018-07-16 17:15:30.628 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 155.9896ms
2018-07-16 17:15:30.628 +07:00 [Information] Request finished in 168.6032ms 200 text/html; charset=utf-8
2018-07-16 17:15:31.715 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:15:31.716 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:15:31.716 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:15:31.722 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:15:31.723 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:15:31.728 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:15:31.736 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:15:31.742 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:15:31.746 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:15:31.752 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:15:31.757 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:15:31.757 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 34.0688ms.
2018-07-16 17:15:31.757 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:15:31.758 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3192ms.
2018-07-16 17:15:31.758 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 42.1412ms
2018-07-16 17:15:31.758 +07:00 [Information] Request finished in 43.468ms 200 text/html; charset=utf-8
2018-07-16 17:25:35.848 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:25:36.368 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:25:36.867 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:25:37.044 +07:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:25:37.197 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:25:37.285 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:25:37.449 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:25:37.523 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:25:37.555 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:25:37.572 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:25:37.575 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:25:37.582 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 381.1299ms.
2018-07-16 17:25:37.601 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:25:37.770 +07:00 [Information] Executed ViewResult - view "Edit" executed in 174.8013ms.
2018-07-16 17:25:37.772 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 1403.5901ms
2018-07-16 17:25:37.824 +07:00 [Information] Request finished in 1979.047ms 200 text/html; charset=utf-8
2018-07-16 17:25:37.842 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:25:37.851 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:25:37.871 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 17:25:37.872 +07:00 [Information] Request finished in 29.8817ms 200 application/javascript
2018-07-16 17:25:37.874 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 17:25:37.875 +07:00 [Information] Request finished in 23.7224ms 200 text/css
2018-07-16 17:25:41.097 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:25:41.101 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:25:41.101 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:25:41.108 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:25:41.110 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:25:41.124 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:25:41.129 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:25:41.140 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:25:41.148 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:25:41.154 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:25:41.159 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:25:41.159 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 48.3455ms.
2018-07-16 17:25:41.159 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:25:41.163 +07:00 [Information] Executed ViewResult - view "Edit" executed in 3.5124ms.
2018-07-16 17:25:41.163 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 62.8063ms
2018-07-16 17:25:41.164 +07:00 [Information] Request finished in 66.8599ms 200 text/html; charset=utf-8
2018-07-16 17:25:48.495 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:25:48.497 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:25:48.497 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:25:48.510 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:25:48.511 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:25:48.524 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:25:48.531 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:25:48.542 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:25:48.546 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:25:48.552 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:25:48.557 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:25:48.557 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 46.0573ms.
2018-07-16 17:25:48.557 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:25:48.558 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.3452ms.
2018-07-16 17:25:48.558 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 61.7246ms
2018-07-16 17:25:48.559 +07:00 [Information] Request finished in 63.2802ms 200 text/html; charset=utf-8
2018-07-16 17:25:48.581 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:25:48.581 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:25:48.582 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:25:48.582 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:25:48.587 +07:00 [Information] Request finished in 6.601ms 304 application/javascript
2018-07-16 17:25:48.587 +07:00 [Information] Request finished in 6.6007ms 304 text/css
2018-07-16 17:26:29.905 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:26:29.907 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:26:29.909 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:26:29.921 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:26:29.922 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:26:29.931 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:26:29.937 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:26:29.945 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:26:29.950 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:26:29.956 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:26:29.961 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:26:29.961 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 38.6977ms.
2018-07-16 17:26:29.962 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:26:29.966 +07:00 [Information] Executed ViewResult - view "Edit" executed in 4.6871ms.
2018-07-16 17:26:29.966 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 59.2662ms
2018-07-16 17:26:29.966 +07:00 [Information] Request finished in 61.6466ms 200 text/html; charset=utf-8
2018-07-16 17:26:29.990 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:26:29.991 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:26:29.991 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:26:29.991 +07:00 [Information] Request finished in 0.9072ms 304 text/css
2018-07-16 17:26:29.991 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:26:29.992 +07:00 [Information] Request finished in 1.4128ms 304 application/javascript
2018-07-16 17:26:34.307 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager/TripChecked/99  0
2018-07-16 17:26:34.323 +07:00 [Information] Route matched with "{area = \"Route\", action = \"TripChecked\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)"
2018-07-16 17:26:34.324 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:26:34.332 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:26:34.338 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:26:34.360 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId]
FROM [ConfirmationTrips] AS [m]
WHERE [m].[Id] = @__id_0"
2018-07-16 17:26:34.376 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:26:34.382 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:26:34.386 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:26:34.394 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:26:34.398 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:26:34.568 +07:00 [Information] Executed DbCommand ("31"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (DbType = Int32), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (DbType = Boolean), @p36='?', @p37='?', @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (Size = 4000), @p43='?' (Size = 4000), @p44='?' (DbType = Int32), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 4000), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = Int32), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (Size = 4000), @p56='?' (DbType = Int32), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (DbType = Boolean), @p61='?', @p62='?', @p63='?' (Size = 4000), @p64='?' (Size = 4000), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (Size = 4000), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = Int32), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = Int32), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (DbType = Int32), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = Int32), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = Boolean), @p83='?' (DbType = Boolean), @p84='?' (DbType = Boolean), @p85='?' (DbType = Boolean), @p86='?', @p87='?', @p88='?' (Size = 4000), @p89='?' (Size = 4000), @p90='?' (DbType = Int32), @p91='?' (DbType = Int32), @p92='?' (Size = 4000), @p93='?' (Size = 4000), @p94='?' (DbType = Int32), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = Int32), @p98='?' (DbType = Int32), @p99='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [ConfirmationTripsConfirm] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, 0),
(@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, 1),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, 2),
(@p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, 3)) AS i ([City], [ConfirmationTripsDetailId], [ConfirmationTripsId], [DeviceId], [Direction], [District], [FingerId], [IsCheckerCenter], [IsCheckerComputer], [IsScan], [IsTransportCompany], [Lat], [Lng], [Location], [NoteCheckerComputer], [SchoolId], [Status], [Street], [StreetNum], [StudentCheckOutId], [StudentId], [TransportCompanyId], [Type], [VehicleId], [Ward], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([City], [ConfirmationTripsDetailId], [ConfirmationTripsId], [DeviceId], [Direction], [District], [FingerId], [IsCheckerCenter], [IsCheckerComputer], [IsScan], [IsTransportCompany], [Lat], [Lng], [Location], [NoteCheckerComputer], [SchoolId], [Status], [Street], [StreetNum], [StudentCheckOutId], [StudentId], [TransportCompanyId], [Type], [VehicleId], [Ward])
VALUES (i.[City], i.[ConfirmationTripsDetailId], i.[ConfirmationTripsId], i.[DeviceId], i.[Direction], i.[District], i.[FingerId], i.[IsCheckerCenter], i.[IsCheckerComputer], i.[IsScan], i.[IsTransportCompany], i.[Lat], i.[Lng], i.[Location], i.[NoteCheckerComputer], i.[SchoolId], i.[Status], i.[Street], i.[StreetNum], i.[StudentCheckOutId], i.[StudentId], i.[TransportCompanyId], i.[Type], i.[VehicleId], i.[Ward])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [ConfirmationTripsConfirm] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];"
2018-07-16 17:26:34.620 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p21='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ConfirmationTrips] SET [ConfimCenterUser] = @p0, [ConfimTransportUser] = @p1, [ConfirmCenterTime] = @p2, [ConfirmTransportTime] = @p3, [CreatedDate] = @p4, [CreatedUser] = @p5, [Date] = @p6, [IsConfirmCenter] = @p7, [IsConfirmTransportCompany] = @p8, [IsDelete] = @p9, [IsSendEmailCenter] = @p10, [IsSendEmailTransportCompany] = @p11, [RouteId] = @p12, [SendEmailDateCenter] = @p13, [SendEmailDateTransportCompany] = @p14, [Status] = @p15, [TimeTable] = @p16, [TransportCompanyId] = @p17, [UpdatedDate] = @p18, [UpdatedUser] = @p19, [VehicleId] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;"
2018-07-16 17:26:34.632 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 294.0728ms.
2018-07-16 17:26:34.636 +07:00 [Information] Executing ObjectResult, writing value of type '"TN.Domain.Model.ResponseModel"'.
2018-07-16 17:26:34.653 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.TripCheckedPost (TN.UI)" in 329.3082ms
2018-07-16 17:26:34.653 +07:00 [Information] Request finished in 346.3164ms 200 application/json; charset=utf-8
2018-07-16 17:26:34.662 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Details/99  
2018-07-16 17:26:34.671 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Details\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)"
2018-07-16 17:26:34.672 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:26:34.682 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:26:34.683 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:26:34.695 +07:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:26:34.697 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.5ms.
2018-07-16 17:26:34.698 +07:00 [Information] Executing ViewResult, running view "Details".
2018-07-16 17:26:34.698 +07:00 [Information] Executed ViewResult - view "Details" executed in 1.2744ms.
2018-07-16 17:26:34.698 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Details (TN.UI)" in 26.9128ms
2018-07-16 17:26:34.699 +07:00 [Information] Request finished in 36.27ms 200 text/html; charset=utf-8
2018-07-16 17:28:33.830 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:28:33.832 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:28:33.832 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:28:33.840 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:28:33.842 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:28:33.848 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:28:33.856 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:28:33.867 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:28:33.873 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:28:33.880 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:28:33.884 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:28:33.884 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 42.1718ms.
2018-07-16 17:28:33.885 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:28:33.886 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.6571ms.
2018-07-16 17:28:33.886 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 54.2522ms
2018-07-16 17:28:33.886 +07:00 [Information] Request finished in 59.5719ms 200 text/html; charset=utf-8
2018-07-16 17:28:33.921 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:28:33.922 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:28:33.922 +07:00 [Information] Request finished in 0.6985ms 304 text/css
2018-07-16 17:28:33.933 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:28:33.933 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:28:33.933 +07:00 [Information] Request finished in 0.5642ms 304 application/javascript
2018-07-16 17:28:37.161 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/SendEmail?confirmationTripsId=99  
2018-07-16 17:28:37.173 +07:00 [Information] Route matched with "{area = \"Route\", action = \"SendEmail\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)"
2018-07-16 17:28:37.174 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:28:37.181 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:28:37.183 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:28:37.224 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__confirmationTripsId_0"
2018-07-16 17:28:37.231 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 47.0948ms.
2018-07-16 17:28:37.233 +07:00 [Information] Executing ViewResult, running view "SendEmail".
2018-07-16 17:28:37.296 +07:00 [Information] Executed ViewResult - view "SendEmail" executed in 64.9057ms.
2018-07-16 17:28:37.296 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.SendEmail (TN.UI)" in 122.7829ms
2018-07-16 17:28:37.296 +07:00 [Information] Request finished in 135.6366ms 200 text/html; charset=utf-8
2018-07-16 17:30:10.592 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&limit=10&ordertype=asc&orderby=date  
2018-07-16 17:30:10.598 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:30:10.599 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:30:10.605 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:30:10.612 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:30:10.613 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.8069ms.
2018-07-16 17:30:10.617 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:30:10.661 +07:00 [Information] Executed ViewResult - view "Index" executed in 47.2646ms.
2018-07-16 17:30:10.662 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 63.2345ms
2018-07-16 17:30:10.662 +07:00 [Information] Request finished in 70.3685ms 200 text/html; charset=utf-8
2018-07-16 17:30:10.692 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:30:10.693 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:30:10.693 +07:00 [Information] Request finished in 1.2728ms 304 text/css
2018-07-16 17:30:10.707 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:30:10.708 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:30:10.708 +07:00 [Information] Request finished in 1.2067ms 304 application/javascript
2018-07-16 17:30:11.006 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:30:11.018 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:30:11.019 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:30:11.025 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:30:11.072 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:30:11.134 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:30:11.202 +07:00 [Warning] The Include operation for navigation '"[m].TransportCompany"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:30:11.203 +07:00 [Warning] The Include operation for navigation '"[m].Vehicle"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:30:11.203 +07:00 [Warning] The Include operation for navigation '"[m].Route"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-07-16 17:30:11.232 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:30:11.248 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 173.8898ms.
2018-07-16 17:30:11.253 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:30:11.262 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 12.8411ms.
2018-07-16 17:30:11.262 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 243.2951ms
2018-07-16 17:30:11.262 +07:00 [Information] Request finished in 256.0447ms 200 text/html; charset=utf-8
2018-07-16 17:30:17.989 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:30:17.991 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:30:17.992 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:30:18.000 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:30:18.001 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:30:18.010 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:30:18.017 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:30:18.023 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:30:18.027 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:30:18.033 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:30:18.037 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:30:18.037 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 35.2622ms.
2018-07-16 17:30:18.037 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:30:18.040 +07:00 [Information] Executed ViewResult - view "Edit" executed in 3.116ms.
2018-07-16 17:30:18.040 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 48.7337ms
2018-07-16 17:30:18.040 +07:00 [Information] Request finished in 51.3696ms 200 text/html; charset=utf-8
2018-07-16 17:33:12.981 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&limit=10&ordertype=asc&orderby=date  
2018-07-16 17:33:12.989 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:33:12.990 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:33:12.999 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:33:13.000 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:33:13.000 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0226ms.
2018-07-16 17:33:14.572 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:33:14.606 +07:00 [Information] Executed ViewResult - view "Index" executed in 1606.1537ms.
2018-07-16 17:33:14.606 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 1617.2643ms
2018-07-16 17:33:14.607 +07:00 [Information] Request finished in 1626.0655ms 200 text/html; charset=utf-8
2018-07-16 17:33:14.635 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:33:14.638 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:33:14.638 +07:00 [Information] Request finished in 3.0629ms 304 text/css
2018-07-16 17:33:14.639 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:33:14.639 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:33:14.640 +07:00 [Information] Request finished in 0.5742ms 304 application/javascript
2018-07-16 17:33:14.925 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:33:14.940 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:33:14.940 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:33:14.946 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:33:14.948 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:33:14.961 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:33:14.973 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:33:14.973 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 25.2255ms.
2018-07-16 17:33:15.279 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:33:15.292 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 315.9806ms.
2018-07-16 17:33:15.293 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 352.6897ms
2018-07-16 17:33:15.294 +07:00 [Information] Request finished in 369.137ms 200 text/html; charset=utf-8
2018-07-16 17:34:34.009 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&limit=10&ordertype=asc&orderby=date  
2018-07-16 17:34:34.015 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:34:34.017 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:34:34.024 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:34:34.024 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:34:34.025 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0104ms.
2018-07-16 17:34:34.340 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:34:34.376 +07:00 [Information] Executed ViewResult - view "Index" executed in 351.3661ms.
2018-07-16 17:34:34.376 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 360.6184ms
2018-07-16 17:34:34.376 +07:00 [Information] Request finished in 367.9179ms 200 text/html; charset=utf-8
2018-07-16 17:34:34.399 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:34:34.399 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:34:34.399 +07:00 [Information] Request finished in 1.6463ms 304 application/javascript
2018-07-16 17:34:34.404 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=z43JfRscIFVmChqC21ih5o5_Z7zuln8O0KrxCRjMT04  
2018-07-16 17:34:34.405 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:34:34.405 +07:00 [Information] Request finished in 0.8899ms 304 text/css
2018-07-16 17:34:34.672 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:34:34.681 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:34:34.683 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:34:34.688 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:34:34.690 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:34:34.696 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:34:34.702 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:34:34.703 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.9196ms.
2018-07-16 17:34:34.703 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:34:34.709 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 6.0475ms.
2018-07-16 17:34:34.709 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 28.3311ms
2018-07-16 17:34:34.709 +07:00 [Information] Request finished in 37.4453ms 200 text/html; charset=utf-8
2018-07-16 17:35:07.469 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&limit=10&ordertype=asc&orderby=date  
2018-07-16 17:35:07.473 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:35:07.474 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:35:07.480 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:35:07.481 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:35:07.481 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0374ms.
2018-07-16 17:35:07.481 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:35:07.484 +07:00 [Information] Executed ViewResult - view "Index" executed in 3.0702ms.
2018-07-16 17:35:07.484 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 11.0662ms
2018-07-16 17:35:07.485 +07:00 [Information] Request finished in 16.1357ms 200 text/html; charset=utf-8
2018-07-16 17:35:07.818 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:35:07.827 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:35:07.827 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:35:07.833 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:35:07.834 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:35:07.840 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:35:07.856 +07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:35:07.856 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 22.3379ms.
2018-07-16 17:35:08.158 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:35:08.174 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 317.2436ms.
2018-07-16 17:35:08.174 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 346.8937ms
2018-07-16 17:35:08.174 +07:00 [Information] Request finished in 356.4533ms 200 text/html; charset=utf-8
2018-07-16 17:35:50.117 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&limit=10&ordertype=asc&orderby=date  
2018-07-16 17:35:50.118 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:35:50.119 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:35:50.123 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:35:50.124 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:35:50.124 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0074ms.
2018-07-16 17:35:50.124 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:35:50.134 +07:00 [Information] Executed ViewResult - view "Index" executed in 10.0093ms.
2018-07-16 17:35:50.135 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 16.1284ms
2018-07-16 17:35:50.135 +07:00 [Information] Request finished in 17.5442ms 200 text/html; charset=utf-8
2018-07-16 17:35:50.158 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=KYpRWvTbrI8XLVF7RWx4FBJ2cbk9sx09dquckMaFt78  
2018-07-16 17:35:50.166 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 17:35:50.166 +07:00 [Information] Request finished in 7.6969ms 200 text/css
2018-07-16 17:35:50.167 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:35:50.167 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:35:50.168 +07:00 [Information] Request finished in 0.5939ms 304 application/javascript
2018-07-16 17:35:50.463 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:35:50.466 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:35:50.467 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:35:50.473 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:35:50.474 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:35:50.480 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:35:50.485 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:35:50.486 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.4257ms.
2018-07-16 17:35:50.486 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:35:50.487 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.6568ms.
2018-07-16 17:35:50.487 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 20.5828ms
2018-07-16 17:35:50.487 +07:00 [Information] Request finished in 24.2777ms 200 text/html; charset=utf-8
2018-07-16 17:35:53.620 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&limit=10&ordertype=asc&orderby=date  
2018-07-16 17:35:53.621 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:35:53.622 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:35:53.628 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:35:53.630 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:35:53.630 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0099ms.
2018-07-16 17:35:53.630 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:35:53.631 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.5011ms.
2018-07-16 17:35:53.631 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 10.0274ms
2018-07-16 17:35:53.632 +07:00 [Information] Request finished in 11.361ms 200 text/html; charset=utf-8
2018-07-16 17:35:53.682 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=KYpRWvTbrI8XLVF7RWx4FBJ2cbk9sx09dquckMaFt78  
2018-07-16 17:35:53.682 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:35:53.683 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.min.js  
2018-07-16 17:35:53.683 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.min.js"'
2018-07-16 17:35:53.684 +07:00 [Information] Request finished in 0.9754ms 200 application/javascript
2018-07-16 17:35:53.686 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.min.js  
2018-07-16 17:35:53.687 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.min.js"'
2018-07-16 17:35:53.687 +07:00 [Information] Request finished in 0.8183ms 200 application/javascript
2018-07-16 17:35:53.687 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.js"'
2018-07-16 17:35:53.687 +07:00 [Information] Request finished in 4.4854ms 200 application/javascript
2018-07-16 17:35:53.694 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/jquery.validate.unobtrusive.min.js  
2018-07-16 17:35:53.695 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/jquery.validate.unobtrusive.min.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\jquery.validate.unobtrusive.min.js"'
2018-07-16 17:35:53.695 +07:00 [Information] Request finished in 0.8775ms 200 application/javascript
2018-07-16 17:35:53.696 +07:00 [Information] Sending file. Request path: '"/Content/Admin/site.min.css"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\site.min.css"'
2018-07-16 17:35:53.696 +07:00 [Information] Request finished in 15.1369ms 200 text/css
2018-07-16 17:35:53.710 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/no-avatar.jpg  
2018-07-16 17:35:53.711 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/no-avatar.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\no-avatar.jpg"'
2018-07-16 17:35:53.711 +07:00 [Information] Request finished in 1.0906ms 200 image/jpeg
2018-07-16 17:35:53.712 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/js/script.js  
2018-07-16 17:35:53.713 +07:00 [Information] Sending file. Request path: '"/Content/Admin/js/script.js"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\js\script.js"'
2018-07-16 17:35:53.713 +07:00 [Information] Request finished in 0.7962ms 200 application/javascript
2018-07-16 17:35:54.295 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/images/user-img-background.jpg  
2018-07-16 17:35:54.296 +07:00 [Information] Sending file. Request path: '"/Content/Admin/images/user-img-background.jpg"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\images\user-img-background.jpg"'
2018-07-16 17:35:54.296 +07:00 [Information] Request finished in 2.2417ms 200 image/jpeg
2018-07-16 17:35:54.415 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/plugins/bootstrap/fonts/glyphicons-halflings-regular.woff2  
2018-07-16 17:35:54.416 +07:00 [Information] Sending file. Request path: '"/Content/Admin/plugins/bootstrap/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"D:\2018\1.BusStudent\Sources\Code\Backend\TN.UI\wwwroot\Content\Admin\plugins\bootstrap\fonts\glyphicons-halflings-regular.woff2"'
2018-07-16 17:35:54.416 +07:00 [Information] Request finished in 1.3138ms 200 font/woff2
2018-07-16 17:35:54.456 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:35:54.457 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:35:54.457 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:35:54.466 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:35:54.467 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:35:54.486 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:35:54.494 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:35:54.495 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 27.8044ms.
2018-07-16 17:35:54.496 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:35:54.496 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.5919ms.
2018-07-16 17:35:54.496 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 39.1362ms
2018-07-16 17:35:54.496 +07:00 [Information] Request finished in 40.4157ms 200 text/html; charset=utf-8
2018-07-16 17:36:20.197 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&limit=10&ordertype=asc&orderby=date  
2018-07-16 17:36:20.205 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:36:20.207 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:36:20.214 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:36:20.215 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:36:20.215 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.01ms.
2018-07-16 17:36:20.672 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:36:20.708 +07:00 [Information] Executed ViewResult - view "Index" executed in 493.1592ms.
2018-07-16 17:36:20.709 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 502.7672ms
2018-07-16 17:36:20.709 +07:00 [Information] Request finished in 511.656ms 200 text/html; charset=utf-8
2018-07-16 17:36:20.730 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=KYpRWvTbrI8XLVF7RWx4FBJ2cbk9sx09dquckMaFt78  
2018-07-16 17:36:20.731 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:36:20.731 +07:00 [Information] Request finished in 1.18ms 304 text/css
2018-07-16 17:36:21.033 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:36:21.045 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:36:21.045 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:36:21.054 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:36:21.056 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:36:21.070 +07:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:36:21.083 +07:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:36:21.084 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 27.9059ms.
2018-07-16 17:36:21.084 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:36:21.087 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 3.1559ms.
2018-07-16 17:36:21.087 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 42.5808ms
2018-07-16 17:36:21.088 +07:00 [Information] Request finished in 55.2131ms 200 text/html; charset=utf-8
2018-07-16 17:36:49.669 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&limit=10&ordertype=asc&orderby=date  
2018-07-16 17:36:49.676 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:36:49.676 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:36:49.689 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:36:49.690 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:36:49.690 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0084ms.
2018-07-16 17:36:50.012 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:36:50.048 +07:00 [Information] Executed ViewResult - view "Index" executed in 357.6115ms.
2018-07-16 17:36:50.048 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 371.993ms
2018-07-16 17:36:50.048 +07:00 [Information] Request finished in 379.9219ms 200 text/html; charset=utf-8
2018-07-16 17:36:50.068 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=KYpRWvTbrI8XLVF7RWx4FBJ2cbk9sx09dquckMaFt78  
2018-07-16 17:36:50.071 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:36:50.071 +07:00 [Information] Request finished in 3.1724ms 304 text/css
2018-07-16 17:36:50.330 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:36:50.342 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:36:50.343 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:36:50.351 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:36:50.353 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:36:50.373 +07:00 [Information] Executed DbCommand ("15"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:36:50.383 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:36:50.384 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 31.0762ms.
2018-07-16 17:36:50.385 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:36:50.386 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 1.6213ms.
2018-07-16 17:36:50.386 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 43.4624ms
2018-07-16 17:36:50.386 +07:00 [Information] Request finished in 56.6197ms 200 text/html; charset=utf-8
2018-07-16 17:37:27.521 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager/Edit/99?returnurl=%2FAdmin%2FRoute%2FConfirmationTripsManager%3Fpage%3D1%26limit%3D10%26ordertype%3Dasc%26orderby%3Ddate  
2018-07-16 17:37:27.528 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Edit\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)"
2018-07-16 17:37:27.529 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:37:27.559 +07:00 [Information] Executed DbCommand ("30"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:37:27.560 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" with arguments (["99"]) - Validation state: Valid
2018-07-16 17:37:27.900 +07:00 [Information] Executed DbCommand ("339"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [x].[Id], [x].[ConfimCenterUser], [x].[ConfimTransportUser], [x].[ConfirmCenterTime], [x].[ConfirmTransportTime], [x].[CreatedDate], [x].[CreatedUser], [x].[Date], [x].[IsConfirmCenter], [x].[IsConfirmTransportCompany], [x].[IsDelete], [x].[IsSendEmailCenter], [x].[IsSendEmailTransportCompany], [x].[RouteId], [x].[SendEmailDateCenter], [x].[SendEmailDateTransportCompany], [x].[Status], [x].[TimeTable], [x].[TransportCompanyId], [x].[UpdatedDate], [x].[UpdatedUser], [x].[VehicleId], [x.Route].[Id], [x.Route].[BusType], [x.Route].[Code], [x.Route].[Color], [x.Route].[CreatedDate], [x.Route].[CreatedUser], [x.Route].[DateEnd], [x.Route].[DateStart], [x.Route].[Fri], [x.Route].[IsDelete], [x.Route].[IsFri], [x.Route].[IsMon], [x.Route].[IsSat], [x.Route].[IsSun], [x.Route].[IsThu], [x.Route].[IsTue], [x.Route].[IsWed], [x.Route].[Mon], [x.Route].[Name], [x.Route].[Note], [x.Route].[Sat], [x.Route].[Status], [x.Route].[Sun], [x.Route].[Thu], [x.Route].[TimePeriod], [x.Route].[Tue], [x.Route].[UpdatedDate], [x.Route].[UpdatedUser], [x.Route].[Wed], [x.TransportCompany].[Id], [x.TransportCompany].[Address], [x.TransportCompany].[Code], [x.TransportCompany].[CreatedDate], [x.TransportCompany].[CreatedUser], [x.TransportCompany].[DateIssued], [x.TransportCompany].[Email], [x.TransportCompany].[IsDelete], [x.TransportCompany].[Name], [x.TransportCompany].[Note], [x.TransportCompany].[PhoneFax], [x.TransportCompany].[Status], [x.TransportCompany].[UpdatedDate], [x.TransportCompany].[UpdatedUser], [x.Vehicle].[Id], [x.Vehicle].[Aircon], [x.Vehicle].[Capacity], [x.Vehicle].[ContractEndDate], [x.Vehicle].[CreatedDate], [x.Vehicle].[CreatedUser], [x.Vehicle].[DeviceGPSId], [x.Vehicle].[DoorDown], [x.Vehicle].[DoorUp], [x.Vehicle].[DriverCode], [x.Vehicle].[Fuel], [x.Vehicle].[Heading], [x.Vehicle].[Ignition], [x.Vehicle].[IsAirConditioner], [x.Vehicle].[IsDelete], [x.Vehicle].[IsWorking], [x.Vehicle].[Lat], [x.Vehicle].[Lng], [x.Vehicle].[Lpn], [x.Vehicle].[Note], [x.Vehicle].[NumOfSeat], [x.Vehicle].[RegistryEndDate], [x.Vehicle].[SOS], [x.Vehicle].[Speed], [x.Vehicle].[Status], [x.Vehicle].[TrackingTime], [x.Vehicle].[TransportCompanyId], [x.Vehicle].[TransportCompanyStartDate], [x.Vehicle].[Type], [x.Vehicle].[UnderwriteEndDate], [x.Vehicle].[UpdatedDate], [x.Vehicle].[UpdatedUser], [x.Vehicle].[VehicleBrandId], [x.Vehicle].[VehicleFloorboardsTypeId], [x.Vehicle].[VehicleGroupId], [x.Vehicle].[YearOfManufacture]
FROM [ConfirmationTrips] AS [x]
INNER JOIN [Route] AS [x.Route] ON [x].[RouteId] = [x.Route].[Id]
INNER JOIN [TransportCompany] AS [x.TransportCompany] ON [x].[TransportCompanyId] = [x.TransportCompany].[Id]
INNER JOIN [Vehicle] AS [x.Vehicle] ON [x].[VehicleId] = [x.Vehicle].[Id]
WHERE [x].[Id] = @__id_0"
2018-07-16 17:37:27.907 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__confirmationTripsId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CheckOutEndTime], [x].[CheckOutStartTime], [x].[ConfirmationTripsId], [x].[CreatedDate], [x].[EndStationId], [x].[EndTime], [x].[IsCheckOutEndStation], [x].[IsCheckOutStartStation], [x].[LatEndStation], [x].[LatGPSEndStation], [x].[LatGPSStartStation], [x].[LatStartStation], [x].[LngStartStation], [x].[LngtEndStation], [x].[LngtGPSEndStation], [x].[LngtGPSStartStation], [x].[RouteId], [x].[StartStationId], [x].[StartTime], [x].[Status], [x].[TimeTable]
FROM [ConfirmationTripsDetail] AS [x]
WHERE [x].[ConfirmationTripsId] = @__confirmationTripsId_0"
2018-07-16 17:37:27.917 +07:00 [Information] Executed DbCommand ("8"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:37:27.931 +07:00 [Information] Executed DbCommand ("12"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (5, 7) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:37:27.939 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__dataKhungGio_EndTime_0='?' (DbType = DateTime2), @__dataKhungGio_StartTime_1='?' (DbType = DateTime2), @__vehicleId_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[SchoolId], [school].[Id] AS [Id0], [school].[Name], [x].[StudentId], [student].[FullName], [x].[CheckOutDate], [x].[City], [x].[CreatedDate], [x].[Direction], [x].[Ward], [x].[IsCheckerCenter], [x].[IsCheckerComputer], [x].[Type], [x].[VehicleId], [x].[DeviceId], [x].[District], [x].[Street], [x].[Location], [x].[Lat], [x].[Lng], [x].[FingerId], [x].[IsScan], [x].[IsTransportCompany], [x].[StreetNum], [x].[TransportCompanyId], [vehicle].[Id] AS [Id2], [vehicle].[Lpn], [x].[Status], [x].[NoteCheckerComputer]
FROM [StudentCheckOut] AS [x]
LEFT JOIN [Vehicle] AS [vehicle] ON [x].[VehicleId] = [vehicle].[Id]
LEFT JOIN [Student] AS [student] ON [x].[StudentId] = [student].[Id]
LEFT JOIN [School] AS [school] ON [x].[SchoolId] = [school].[Id]
WHERE (([x].[Status] = 1) AND ((([x].[CheckOutDate] <= @__dataKhungGio_EndTime_0) AND ([x].[CheckOutDate] >= @__dataKhungGio_StartTime_1)) AND ([x].[IsScan] = 1))) AND ([x].[VehicleId] = @__vehicleId_2)"
2018-07-16 17:37:27.962 +07:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__dataKhungGio_ConfirmationTripsId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[StudentCheckOutId] AS [Key], COUNT(*) AS [Count]
FROM [NoteConfirmationTrips] AS [x]
WHERE [x].[StudentCheckOutId] IN (8, 10) AND ([x].[ConfirmationTripsId] = @__dataKhungGio_ConfirmationTripsId_1)
GROUP BY [x].[StudentCheckOutId]"
2018-07-16 17:37:27.962 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 402.1461ms.
2018-07-16 17:37:27.962 +07:00 [Information] Executing ViewResult, running view "Edit".
2018-07-16 17:37:27.964 +07:00 [Information] Executed ViewResult - view "Edit" executed in 1.8273ms.
2018-07-16 17:37:27.964 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Edit (TN.UI)" in 436.1117ms
2018-07-16 17:37:27.965 +07:00 [Information] Request finished in 443.4431ms 200 text/html; charset=utf-8
2018-07-16 17:37:27.996 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.js  
2018-07-16 17:37:27.997 +07:00 [Information] The file "/Content/Admin/site.min.js" was not modified
2018-07-16 17:37:27.997 +07:00 [Information] Request finished in 0.9162ms 304 application/javascript
2018-07-16 17:37:27.997 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Content/Admin/site.min.css?v=KYpRWvTbrI8XLVF7RWx4FBJ2cbk9sx09dquckMaFt78  
2018-07-16 17:37:27.997 +07:00 [Information] The file "/Content/Admin/site.min.css" was not modified
2018-07-16 17:37:27.997 +07:00 [Information] Request finished in 0.4245ms 304 text/css
2018-07-16 17:37:33.743 +07:00 [Information] Request starting HTTP/1.1 GET http://localhost:44396/Admin/Route/ConfirmationTripsManager?page=1&limit=10&ordertype=asc&orderby=date  
2018-07-16 17:37:33.744 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)"
2018-07-16 17:37:33.745 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:37:33.750 +07:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:37:33.751 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" - Validation state: Valid
2018-07-16 17:37:33.751 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0095ms.
2018-07-16 17:37:33.751 +07:00 [Information] Executing ViewResult, running view "Index".
2018-07-16 17:37:33.753 +07:00 [Information] Executed ViewResult - view "Index" executed in 1.7875ms.
2018-07-16 17:37:33.753 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.Index (TN.UI)" in 8.2668ms
2018-07-16 17:37:33.753 +07:00 [Information] Request finished in 10.0743ms 200 text/html; charset=utf-8
2018-07-16 17:37:34.063 +07:00 [Information] Request starting HTTP/1.1 POST http://localhost:44396/Admin/Route/ConfirmationTripsManager application/x-www-form-urlencoded; charset=UTF-8 114
2018-07-16 17:37:34.065 +07:00 [Information] Route matched with "{area = \"Route\", action = \"Index\", controller = \"ConfirmationTripsManager\"}". Executing action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)"
2018-07-16 17:37:34.066 +07:00 [Information] Entity Framework Core "2.1.1-rtm-30846" initialized '"ApplicationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2018-07-16 17:37:34.074 +07:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[ConcurrencyStamp], [e].[CreatedDate], [e].[CreatedUserId], [e].[DisplayName], [e].[Email], [e].[EmailConfirmed], [e].[IsLock], [e].[IsReLogin], [e].[IsSuperAdmin], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Note], [e].[NoteLock], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RoleParents], [e].[RoleSchool], [e].[RoleTransportCompany], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UpdatedDate], [e].[UpdatedUserId], [e].[UserName]
FROM [adm].[User] AS [e]
WHERE [e].[Id] = @__get_Item_0"
2018-07-16 17:37:34.077 +07:00 [Information] Executing action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" with arguments (["1", "10", "", "asc", "date", "", "", "", "", "", "", ""]) - Validation state: Valid
2018-07-16 17:37:34.086 +07:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [m].[Id], [m].[ConfimCenterUser], [m].[ConfimTransportUser], [m].[ConfirmCenterTime], [m].[ConfirmTransportTime], [m].[CreatedDate], [m].[CreatedUser], [m].[Date], [m].[IsConfirmCenter], [m].[IsConfirmTransportCompany], [m].[IsDelete], [m].[IsSendEmailCenter], [m].[IsSendEmailTransportCompany], [m].[RouteId], [m].[SendEmailDateCenter], [m].[SendEmailDateTransportCompany], [m].[Status], [m].[TimeTable], [m].[TransportCompanyId], [m].[UpdatedDate], [m].[UpdatedUser], [m].[VehicleId], [m.Route].[Id], [m.Route].[BusType], [m.Route].[Code], [m.Route].[Color], [m.Route].[CreatedDate], [m.Route].[CreatedUser], [m.Route].[DateEnd], [m.Route].[DateStart], [m.Route].[Fri], [m.Route].[IsDelete], [m.Route].[IsFri], [m.Route].[IsMon], [m.Route].[IsSat], [m.Route].[IsSun], [m.Route].[IsThu], [m.Route].[IsTue], [m.Route].[IsWed], [m.Route].[Mon], [m.Route].[Name], [m.Route].[Note], [m.Route].[Sat], [m.Route].[Status], [m.Route].[Sun], [m.Route].[Thu], [m.Route].[TimePeriod], [m.Route].[Tue], [m.Route].[UpdatedDate], [m.Route].[UpdatedUser], [m.Route].[Wed], [m.Vehicle].[Id], [m.Vehicle].[Aircon], [m.Vehicle].[Capacity], [m.Vehicle].[ContractEndDate], [m.Vehicle].[CreatedDate], [m.Vehicle].[CreatedUser], [m.Vehicle].[DeviceGPSId], [m.Vehicle].[DoorDown], [m.Vehicle].[DoorUp], [m.Vehicle].[DriverCode], [m.Vehicle].[Fuel], [m.Vehicle].[Heading], [m.Vehicle].[Ignition], [m.Vehicle].[IsAirConditioner], [m.Vehicle].[IsDelete], [m.Vehicle].[IsWorking], [m.Vehicle].[Lat], [m.Vehicle].[Lng], [m.Vehicle].[Lpn], [m.Vehicle].[Note], [m.Vehicle].[NumOfSeat], [m.Vehicle].[RegistryEndDate], [m.Vehicle].[SOS], [m.Vehicle].[Speed], [m.Vehicle].[Status], [m.Vehicle].[TrackingTime], [m.Vehicle].[TransportCompanyId], [m.Vehicle].[TransportCompanyStartDate], [m.Vehicle].[Type], [m.Vehicle].[UnderwriteEndDate], [m.Vehicle].[UpdatedDate], [m.Vehicle].[UpdatedUser], [m.Vehicle].[VehicleBrandId], [m.Vehicle].[VehicleFloorboardsTypeId], [m.Vehicle].[VehicleGroupId], [m.Vehicle].[YearOfManufacture], [m.TransportCompany].[Id], [m.TransportCompany].[Address], [m.TransportCompany].[Code], [m.TransportCompany].[CreatedDate], [m.TransportCompany].[CreatedUser], [m.TransportCompany].[DateIssued], [m.TransportCompany].[Email], [m.TransportCompany].[IsDelete], [m.TransportCompany].[Name], [m.TransportCompany].[Note], [m.TransportCompany].[PhoneFax], [m.TransportCompany].[Status], [m.TransportCompany].[UpdatedDate], [m.TransportCompany].[UpdatedUser]
FROM [ConfirmationTrips] AS [m]
INNER JOIN [Route] AS [m.Route] ON [m].[RouteId] = [m.Route].[Id]
INNER JOIN [Vehicle] AS [m.Vehicle] ON [m].[VehicleId] = [m.Vehicle].[Id]
INNER JOIN [TransportCompany] AS [m.TransportCompany] ON [m].[TransportCompanyId] = [m.TransportCompany].[Id]
WHERE [m].[IsDelete] = 0
ORDER BY [m].[Date]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY"
2018-07-16 17:37:34.093 +07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ConfirmationTrips] AS [m]
WHERE [m].[IsDelete] = 0"
2018-07-16 17:37:34.094 +07:00 [Information] Executed action method "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 16.6024ms.
2018-07-16 17:37:34.094 +07:00 [Information] Executing ViewResult, running view "IndexAjax".
2018-07-16 17:37:34.094 +07:00 [Information] Executed ViewResult - view "IndexAjax" executed in 0.4432ms.
2018-07-16 17:37:34.094 +07:00 [Information] Executed action "TN.UI.Areas.Manager.Controllers.ConfirmationTripsManagerController.IndexPost (TN.UI)" in 28.8134ms
2018-07-16 17:37:34.095 +07:00 [Information] Request finished in 31.1329ms 200 text/html; charset=utf-8
